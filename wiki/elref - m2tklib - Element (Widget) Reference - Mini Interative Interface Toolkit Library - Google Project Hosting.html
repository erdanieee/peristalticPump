<!DOCTYPE html>
<!-- saved from url=(0044)https://code.google.com/p/m2tklib/wiki/elref -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
 
 <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
 
 <meta name="ROBOTS" content="NOARCHIVE">
 
 <link rel="icon" type="image/vnd.microsoft.icon" href="https://ssl.gstatic.com/codesite/ph/images/phosting.ico">
 
 
 <link rel="canonical" href="./elref - m2tklib - Element (Widget) Reference - Mini Interative Interface Toolkit Library - Google Project Hosting_files/elref - m2tklib - Element (Widget) Reference - Mini Interative Interface Toolkit Library - Google Project Hosting.html">
 
 <script src="./elref - m2tklib - Element (Widget) Reference - Mini Interative Interface Toolkit Library - Google Project Hosting_files/cb=gapi.loaded_0" async=""></script><script type="text/javascript" async="" src="./elref - m2tklib - Element (Widget) Reference - Mini Interative Interface Toolkit Library - Google Project Hosting_files/plusone.js" gapi_processed="true"></script><script type="text/javascript">
 
 
 
 
 var codesite_token = null;
 
 
 var CS_env = {"relativeBaseUrl": "", "domainName": null, "assetHostPath": "https://ssl.gstatic.com/codesite/ph", "assetVersionPath": "https://ssl.gstatic.com/codesite/ph/1729405847801014513", "profileUrl": null, "projectHomeUrl": "/p/m2tklib", "token": null, "projectName": "m2tklib", "loggedInUserEmail": null};
 var _gaq = _gaq || [];
 _gaq.push(
 ['siteTracker._setAccount', 'UA-18071-1'],
 ['siteTracker._trackPageview']);
 
 _gaq.push(
 ['projectTracker._setAccount', 'UA-12892188-2'],
 ['projectTracker._trackPageview']);
 
 (function() {
 var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
 ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
 (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(ga);
 })();
 
 </script><script type="text/javascript" async="" src="./elref - m2tklib - Element (Widget) Reference - Mini Interative Interface Toolkit Library - Google Project Hosting_files/ga.js"></script>
 
 
 <title>elref - 
 m2tklib -
 
 Element (Widget) Reference - 
 Mini Interative Interface Toolkit Library - Google Project Hosting
 </title>
 <link type="text/css" rel="stylesheet" href="./elref - m2tklib - Element (Widget) Reference - Mini Interative Interface Toolkit Library - Google Project Hosting_files/core.css">
 
 <link type="text/css" rel="stylesheet" href="./elref - m2tklib - Element (Widget) Reference - Mini Interative Interface Toolkit Library - Google Project Hosting_files/ph_detail.css">
 
 
 
 <link type="application/atom+xml" rel="alternate" href="https://code.google.com/feeds/p/m2tklib/hgchanges/basic?path=/elref.wiki&repo=wiki">
 
 
<!--[if IE]>
 <link type="text/css" rel="stylesheet" href="https://ssl.gstatic.com/codesite/ph/1729405847801014513/css/d_ie.css" >
<![endif]-->
 <style type="text/css">
 .menuIcon.off { background: no-repeat url(https://ssl.gstatic.com/codesite/ph/images/dropdown_sprite.gif) 0 -42px }
 .menuIcon.on { background: no-repeat url(https://ssl.gstatic.com/codesite/ph/images/dropdown_sprite.gif) 0 -28px }
 .menuIcon.down { background: no-repeat url(https://ssl.gstatic.com/codesite/ph/images/dropdown_sprite.gif) 0 0; }
 
 
 #maincol {
 padding-top: 0;
 padding-bottom: 0;
 }

 
 </style>
</head>
<body class="t6">
<script type="text/javascript">
 window.___gcfg = {lang: 'en'};
 (function() 
 {var po = document.createElement("script");
 po.type = "text/javascript"; po.async = true;po.src = "https://apis.google.com/js/plusone.js";
 var s = document.getElementsByTagName("script")[0];
 s.parentNode.insertBefore(po, s);
 })();
</script>
<div class="headbg">

 <div id="gaia">
 

 <span>
 
 
 <a href="https://code.google.com/p/m2tklib/wiki/elref#" id="projects-dropdown" onclick="return false;"><u>My favorites</u> <small>â–¼</small></a>
 | <a href="https://www.google.com/accounts/ServiceLogin?service=code&ltmpl=phosting&continue=https%3A%2F%2Fcode.google.com%2Fp%2Fm2tklib%2Fwiki%2Felref&followup=https%3A%2F%2Fcode.google.com%2Fp%2Fm2tklib%2Fwiki%2Felref" onclick="_CS_click(&#39;/gb/ph/signin&#39;);"><u>Sign in</u></a>
 
 </span>

 </div>

 <div class="gbh" style="left: 0pt;"></div>
 <div class="gbh" style="right: 0pt;"></div>
 
 
 <div style="height: 1px"></div>
<!--[if lte IE 7]>
<div style="text-align:center;">
Your version of Internet Explorer is not supported. Try a browser that
contributes to open source, such as <a href="http://www.firefox.com">Firefox</a>,
<a href="http://www.google.com/chrome">Google Chrome</a>, or
<a href="http://code.google.com/chrome/chromeframe/">Google Chrome Frame</a>.
</div>
<![endif]-->



 <table style="padding:0px; margin: 0px 0px 10px 0px; width:100%" cellpadding="0" cellspacing="0" itemscope="" itemtype="http://schema.org/CreativeWork">
 <tbody><tr style="height: 58px;">
 
 
 
 <td id="plogo">
 <link itemprop="url" href="https://code.google.com/p/m2tklib">
 <a href="https://code.google.com/p/m2tklib/">
 
 <img src="./elref - m2tklib - Element (Widget) Reference - Mini Interative Interface Toolkit Library - Google Project Hosting_files/defaultlogo.png" alt="Logo" itemprop="image">
 
 </a>
 </td>
 
 <td style="padding-left: 0.5em">
 
 <div id="pname">
 <a href="https://code.google.com/p/m2tklib/"><span itemprop="name">m2tklib</span></a>
 </div>
 
 <div id="psum">
 <a id="project_summary_link" href="https://code.google.com/p/m2tklib/"><span itemprop="description">Mini Interative Interface Toolkit Library</span></a>
 
 </div>
 
 
 </td>
 <td style="white-space:nowrap;text-align:right; vertical-align:bottom;">
 
 <form action="https://code.google.com/hosting/search">
 <input size="30" name="q" value="" type="text">
 
 <input type="submit" name="projectsearch" value="Search projects">
 </form>
 
 </td></tr>
 </tbody></table>

</div>

 
<div id="mt" class="gtb"> 
 <a href="https://code.google.com/p/m2tklib/" class="tab ">Project&nbsp;Home</a>
 
 
 
 
 <a href="https://code.google.com/p/m2tklib/downloads/list" class="tab ">Downloads</a>
 
 
 
 
 
 <a href="https://code.google.com/p/m2tklib/wiki/m2tklib?tm=6" class="tab active">Wiki</a>
 
 
 
 
 
 <a href="https://code.google.com/p/m2tklib/issues/list" class="tab ">Issues</a>
 
 
 
 
 
 <a href="https://code.google.com/p/m2tklib/source/checkout" class="tab ">Source</a>
 
 
 
 
 
 
 
 
 <div class="gtbc"></div>
</div>
<table cellspacing="0" cellpadding="0" width="100%" align="center" border="0" class="st">
 <tbody><tr>
 
 
 
 <td class="subt">
 <div class="issueDetail">
<div class="isf">
 
 <span class="inIssueList"> 
 <span>Search</span>
 <form action="https://code.google.com/p/m2tklib/w/list" method="GET" style="display:inline">
 <select id="can" name="can">
 <option disabled="disabled">Search within:</option>
 
 <option value="1">&nbsp;All wiki pages</option>
 <option value="3">&nbsp;Featured pages</option>
 <option value="2" selected="selected">&nbsp;Current pages</option>
 
 
 <option value="4">&nbsp;Deprecated pages</option>
 
 </select>
 <span>for</span>
 <span id="qq"><input type="text" size="38" id="searchq" name="q" value="" autocomplete="off"></span>
 
 
 
 <input type="submit" value="Search">
 </form>
 </span>

 
 
 
 
 
 
 

</div>
</div>

 </td>
 
 
 
 
 
 
 <td align="right" valign="top" class="bevel-right"></td>
 </tr>
</tbody></table>


<script type="text/javascript">
 var cancelBubble = false;
 function _go(url) { document.location = url; }
</script>
<div id="maincol">

 







 <style type="text/css">
 .delcom { background: #e8e8e8 }
 .commentcontent {
 margin: 2em;
 padding: 0px 10px;
 width: 66em;
 }
 .artifactcomment {
 border-top: 3px solid #c3d9ff;
 }
 #commentform {
 border-top: 3px solid #c3d9ff;
 }
 </style>

<div id="wikipage">
<table>
 <tbody><tr>
 
 
 <td style="vertical-align:top; padding-left:5px">
 
 <div id="wikiheader">
 
 <span style="font-size:120%;font-weight:bold">elref</span>
 &nbsp;
 <div> 
 
 <i>Element (Widget) Reference</i>
 
 
 
 <div id="wikiauthor" style="float:right">
 Updated <span title="Sun Dec 15 06:43:18 2013">
 Dec 15, 2013</span>
 
 by 

 <a class="userlink" href="https://code.google.com/u/105030373771868615429/">olikr...@gmail.com</a>
 
 </div>
 </div>
 </div>
 
 <div id="wikicontent">
 <div class="vt" id="wikimaincol">
 <p></p><ul><li><a href="https://code.google.com/p/m2tklib/wiki/elref#General_Notes_on_Elements">General Notes on Elements</a></li><ul><li><a href="https://code.google.com/p/m2tklib/wiki/elref#Use_of_Elements">Use of Elements</a></li><li><a href="https://code.google.com/p/m2tklib/wiki/elref#Naming_Convention">Naming Convention</a></li><li><a href="https://code.google.com/p/m2tklib/wiki/elref#Element_Format_String">Element Format String</a></li><ul><li><a href="https://code.google.com/p/m2tklib/wiki/elref#Syntax">Syntax</a></li><li><a href="https://code.google.com/p/m2tklib/wiki/elref#Width_and_Height">Width and Height</a></li><li><a href="https://code.google.com/p/m2tklib/wiki/elref#Quick_Key">Quick Key</a></li><li><a href="https://code.google.com/p/m2tklib/wiki/elref#Fonts">Fonts</a></li><li><a href="https://code.google.com/p/m2tklib/wiki/elref#Overview">Overview</a></li></ul><li><a href="https://code.google.com/p/m2tklib/wiki/elref#Forward_Declaration">Forward Declaration</a></li><li><a href="https://code.google.com/p/m2tklib/wiki/elref#Null_Element">Null Element</a></li><li><a href="https://code.google.com/p/m2tklib/wiki/elref#Examples">Examples</a></li><ul><li><a href="https://code.google.com/p/m2tklib/wiki/elref#Differences_between_the_graphics_devices">Differences between the graphics devices</a></li><li><a href="https://code.google.com/p/m2tklib/wiki/elref#Dogm128_Library">Dogm128 Library</a></li><li><a href="https://code.google.com/p/m2tklib/wiki/elref#Liquid_Crystal">Liquid Crystal</a></li></ul><li><a href="https://code.google.com/p/m2tklib/wiki/elref#Element_Overview">Element Overview</a></li><ul><li><a href="https://code.google.com/p/m2tklib/wiki/elref#Container_Elements">Container Elements</a></li><li><a href="https://code.google.com/p/m2tklib/wiki/elref#Read-Only_Elements">Read-Only Elements</a></li><li><a href="https://code.google.com/p/m2tklib/wiki/elref#Numeric_Input">Numeric Input</a></li><li><a href="https://code.google.com/p/m2tklib/wiki/elref#Other_Input">Other Input</a></li><li><a href="https://code.google.com/p/m2tklib/wiki/elref#Text_Input">Text Input</a></li><li><a href="https://code.google.com/p/m2tklib/wiki/elref#Menu_Navigation">Menu Navigation</a></li><li><a href="https://code.google.com/p/m2tklib/wiki/elref#User_Function_Call">User Function Call</a></li><li><a href="https://code.google.com/p/m2tklib/wiki/elref#TSK_Elements">TSK Elements</a></li><li><a href="https://code.google.com/p/m2tklib/wiki/elref#Additional_Elements">Additional Elements</a></li></ul></ul><li><a href="https://code.google.com/p/m2tklib/wiki/elref#Element_Reference">Element Reference</a></li><ul><li><a href="https://code.google.com/p/m2tklib/wiki/elref#2LMENU">2LMENU</a></li><li><a href="https://code.google.com/p/m2tklib/wiki/elref#ALIGN">ALIGN</a></li><li><a href="https://code.google.com/p/m2tklib/wiki/elref#BOX">BOX</a></li><li><a href="https://code.google.com/p/m2tklib/wiki/elref#BUTTON">BUTTON</a></li><li><a href="https://code.google.com/p/m2tklib/wiki/elref#BUTTONPTR">BUTTONPTR</a></li><li><a href="https://code.google.com/p/m2tklib/wiki/elref#COMBO">COMBO</a></li><li><a href="https://code.google.com/p/m2tklib/wiki/elref#COMBOPTR">COMBOPTR</a></li><li><a href="https://code.google.com/p/m2tklib/wiki/elref#COMBOFN">COMBOFN</a></li><li><a href="https://code.google.com/p/m2tklib/wiki/elref#GRIDLIST">GRIDLIST</a></li><li><a href="https://code.google.com/p/m2tklib/wiki/elref#HLIST">HLIST</a></li><li><a href="https://code.google.com/p/m2tklib/wiki/elref#INFO">INFO</a></li><li><a href="https://code.google.com/p/m2tklib/wiki/elref#LABEL">LABEL</a></li><li><a href="https://code.google.com/p/m2tklib/wiki/elref#LABELFN">LABELFN</a></li><li><a href="https://code.google.com/p/m2tklib/wiki/elref#LABELP">LABELP</a></li><li><a href="https://code.google.com/p/m2tklib/wiki/elref#LABELPTR">LABELPTR</a></li><li><a href="https://code.google.com/p/m2tklib/wiki/elref#RADIO">RADIO</a></li><li><a href="https://code.google.com/p/m2tklib/wiki/elref#ROOT">ROOT</a></li><li><a href="https://code.google.com/p/m2tklib/wiki/elref#S8NUM">S8NUM</a></li><li><a href="https://code.google.com/p/m2tklib/wiki/elref#S8NUMFN">S8NUMFN</a></li><li><a href="https://code.google.com/p/m2tklib/wiki/elref#SPACE">SPACE</a></li><li><a href="https://code.google.com/p/m2tklib/wiki/elref#SPACECB">SPACECB</a></li><li><a href="https://code.google.com/p/m2tklib/wiki/elref#STRLIST">STRLIST</a></li><li><a href="https://code.google.com/p/m2tklib/wiki/elref#TEXT">TEXT</a></li><li><a href="https://code.google.com/p/m2tklib/wiki/elref#TOGGLE">TOGGLE</a></li><li><a href="https://code.google.com/p/m2tklib/wiki/elref#TSK">TSK</a></li><li><a href="https://code.google.com/p/m2tklib/wiki/elref#TSKP">TSKP</a></li><li><a href="https://code.google.com/p/m2tklib/wiki/elref#U32NUM">U32NUM</a></li><li><a href="https://code.google.com/p/m2tklib/wiki/elref#U32NUMFN">U32NUMFN</a></li><li><a href="https://code.google.com/p/m2tklib/wiki/elref#U8NUM">U8NUM</a></li><li><a href="https://code.google.com/p/m2tklib/wiki/elref#U8NUMFN">U8NUMFN</a></li><li><a href="https://code.google.com/p/m2tklib/wiki/elref#VLIST">VLIST</a></li><li><a href="https://code.google.com/p/m2tklib/wiki/elref#VSB">VSB</a></li><li><a href="https://code.google.com/p/m2tklib/wiki/elref#X2LMENU">X2LMENU</a></li><li><a href="https://code.google.com/p/m2tklib/wiki/elref#XBMBUTTONP">XBMBUTTONP</a></li><li><a href="https://code.google.com/p/m2tklib/wiki/elref#XBMROOTP">XBMROOTP</a></li><li><a href="https://code.google.com/p/m2tklib/wiki/elref#XBMLABELP">XBMLABELP</a></li><li><a href="https://code.google.com/p/m2tklib/wiki/elref#XBMTSKP">XBMTSKP</a></li><li><a href="https://code.google.com/p/m2tklib/wiki/elref#XYLIST">XYLIST</a></li></ul><li><a href="https://code.google.com/p/m2tklib/wiki/elref#Links">Links</a></li></ul> <p></p><h1><a name="General_Notes_on_Elements"></a>General Notes on Elements<a href="https://code.google.com/p/m2tklib/wiki/elref#General_Notes_on_Elements" class="section_anchor"></a></h1><h2><a name="Use_of_Elements"></a>Use of Elements<a href="https://code.google.com/p/m2tklib/wiki/elref#Use_of_Elements" class="section_anchor"></a></h2><ul><li>Elements are implemented as C-macros. </li><li>Elements do not return any values: Do not assign the Element to something. </li><li>Elements should have global scope. Avoid using them inside C-functions. </li><li>The first argument of an element is always its name. Elements are referred by this name. </li><li>To refer an element, use the address operator '&amp;' together with the name (<tt>M2_LIST</tt> is an exception, but <tt>M2_LIST</tt> is also not a real element) </li><li>The second argument of an element is always a format string which provides additional information about style, format and behavior of the element. The format string can be <tt>NULL</tt>. </li></ul><h2><a name="Naming_Convention"></a>Naming Convention<a href="https://code.google.com/p/m2tklib/wiki/elref#Naming_Convention" class="section_anchor"></a></h2><p>This is a suggestion for a useful naming strategy of your elements. Usually there will be more than one menu (element hierarchy) in a program: The second part in the element name is a unique name of the menu. </p><p>The element name has three parts: </p><ol><li>Elements start with <tt>el_</tt>, top elements of the element hierarchy start with <tt>top_el_</tt>. </li><li>Second part is the name of the element hierarchy. </li><li>Final part is either a user invented name for the field or the field type (<tt>u8</tt>, <tt>label</tt>, ...). </li></ol>   The list name (<tt>M2_LIST</tt> argument) has three parts: <ol><li>Lists start with <tt>list_</tt>. </li><li>Second part is the name of the element hierarchy. </li><li>Final part is either a user invented name or empty if this is the only list in the element hierarchy. </li></ol><p></p><p>See <a href="https://code.google.com/p/m2tklib/wiki/t04">Tutorial 4</a> for an application of the naming convention. </p><h2><a name="Element_Format_String"></a>Element Format String<a href="https://code.google.com/p/m2tklib/wiki/elref#Element_Format_String" class="section_anchor"></a></h2><h3><a name="Syntax"></a>Syntax<a href="https://code.google.com/p/m2tklib/wiki/elref#Syntax" class="section_anchor"></a></h3><ul><li>A format string is a sequence of format options.  </li><li>A format option is a single character followed by a number. </li><li>Example: <tt>"f2w40"</tt>. Depending on the element, this format string will select font 2 and render the element at a width of 40 pixel. </li><li>Valid format options are described along with the elements (see below). </li></ul><h3><a name="Width_and_Height"></a>Width and Height<a href="https://code.google.com/p/m2tklib/wiki/elref#Width_and_Height" class="section_anchor"></a></h3><p>Lowercase letters "w" and "h" set the pixel size of the element without the border. This means, that the resulting size of the element is the value provided by "w" or "h" together with the current border. Uppercase letters calculate the pixel size from the display height or width. The pixel size for the value v as an argument to "W" is <tt>v*display_width/64</tt>.  </p><h3><a name="Quick_Key"></a>Quick Key<a href="https://code.google.com/p/m2tklib/wiki/elref#Quick_Key" class="section_anchor"></a></h3><p>Version v1.11 introduces "quick keys". An element can have the format option "q1" to "q4". If the corresponding quick key is pressed (<tt>M2_KEY_Q1</tt> ... <tt>M2_KEY_Q4</tt>), then this element will automatically receive a select message. </p><p>Note: Quick keys are not supported by all event handlers! </p><h3><a name="Fonts"></a>Fonts<a href="https://code.google.com/p/m2tklib/wiki/elref#Fonts" class="section_anchor"></a></h3><p>The value for the font option <tt>f</tt> depends on the graphics handler. However most handler will implement the following behavior: </p><p></p><table class="wikitable"><tbody><tr><td style="border: 1px solid #ccc; padding: 5px;"> Font Option Value </td><td style="border: 1px solid #ccc; padding: 5px;"> Description </td></tr> <tr><td style="border: 1px solid #ccc; padding: 5px;">  0-3		</td><td style="border: 1px solid #ccc; padding: 5px;"> normal fonts </td></tr> <tr><td style="border: 1px solid #ccc; padding: 5px;">  4-7		</td><td style="border: 1px solid #ccc; padding: 5px;"> highlight text </td></tr> <tr><td style="border: 1px solid #ccc; padding: 5px;">  8-11	</td><td style="border: 1px solid #ccc; padding: 5px;"> centered normal font </td></tr> <tr><td style="border: 1px solid #ccc; padding: 5px;">  12-15	</td><td style="border: 1px solid #ccc; padding: 5px;"> centered highlight text </td></tr> </tbody></table><p></p><p>Example: </p><pre class="prettyprint"><span class="kwd">int</span><span class="pln"> a0Pin </span><span class="pun">=</span><span class="pln"> </span><span class="lit">9</span><span class="pun">;</span><span class="pln"><br></span><span class="typ">Dogm</span><span class="pln"> dogm</span><span class="pun">(</span><span class="pln">a0Pin</span><span class="pun">);</span><span class="pln"><br><br>M2_LABEL</span><span class="pun">(</span><span class="pln">label0</span><span class="pun">,</span><span class="pln"> </span><span class="str">"f0"</span><span class="pun">,</span><span class="pln"> </span><span class="str">"5x7 abcdefg"</span><span class="pun">);</span><span class="pln"><br>M2_LABEL</span><span class="pun">(</span><span class="pln">label1</span><span class="pun">,</span><span class="pln"> </span><span class="str">"f1"</span><span class="pun">,</span><span class="pln"> </span><span class="str">"6x12 abcdefg"</span><span class="pun">);</span><span class="pln"><br>M2_LABEL</span><span class="pun">(</span><span class="pln">label2</span><span class="pun">,</span><span class="pln"> </span><span class="str">"f2"</span><span class="pun">,</span><span class="pln"> </span><span class="str">"7x13 abcdefg"</span><span class="pun">);</span><span class="pln"><br>M2_BUTTON</span><span class="pun">(</span><span class="pln">button</span><span class="pun">,</span><span class="pln"> </span><span class="str">"f0"</span><span class="pun">,</span><span class="pln"> </span><span class="str">"ok"</span><span class="pun">,</span><span class="pln"> </span><span class="pun">(</span><span class="pln">m2_button_fnptr</span><span class="pun">)</span><span class="pln">NULL</span><span class="pun">);</span><span class="pln"><br>M2_LIST</span><span class="pun">(</span><span class="pln">label_list</span><span class="pun">)</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">label0</span><span class="pun">,</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">label1</span><span class="pun">,</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">label2</span><span class="pun">,</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">button </span><span class="pun">};</span><span class="pln"><br>M2_VLIST</span><span class="pun">(</span><span class="pln">list_element</span><span class="pun">,</span><span class="pln"> NULL</span><span class="pun">,</span><span class="pln">label_list</span><span class="pun">);</span><span class="pln"><br>M2tk m2</span><span class="pun">(&amp;</span><span class="pln">list_element</span><span class="pun">,</span><span class="pln"> NULL</span><span class="pun">,</span><span class="pln"> NULL</span><span class="pun">,</span><span class="pln"> m2_gh_dogm_fbs</span><span class="pun">);</span><span class="pln"><br><br></span><span class="kwd">void</span><span class="pln"> setup</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; m2</span><span class="pun">.</span><span class="pln">setFont</span><span class="pun">(</span><span class="lit">0</span><span class="pun">,</span><span class="pln"> font_5x7</span><span class="pun">);</span><span class="pln"><br>&nbsp; m2</span><span class="pun">.</span><span class="pln">setFont</span><span class="pun">(</span><span class="lit">1</span><span class="pun">,</span><span class="pln"> font_6x12</span><span class="pun">);</span><span class="pln"><br>&nbsp; m2</span><span class="pun">.</span><span class="pln">setFont</span><span class="pun">(</span><span class="lit">2</span><span class="pun">,</span><span class="pln"> font_7x13</span><span class="pun">);</span><span class="pln"><br></span><span class="pun">}</span><span class="pln"><br><br></span><span class="kwd">void</span><span class="pln"> loop</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; dogm</span><span class="pun">.</span><span class="pln">start</span><span class="pun">();</span><span class="pln"><br>&nbsp; </span><span class="kwd">do</span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; m2</span><span class="pun">.</span><span class="pln">draw</span><span class="pun">();</span><span class="pln"><br>&nbsp; </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">while</span><span class="pun">(</span><span class="pln"> dogm</span><span class="pun">.</span><span class="kwd">next</span><span class="pun">()</span><span class="pln"> </span><span class="pun">);</span><span class="pln"><br></span><span class="pun">}</span></pre><h3><a name="Overview"></a>Overview<a href="https://code.google.com/p/m2tklib/wiki/elref#Overview" class="section_anchor"></a></h3><p>Options are documented and valid only for a specific element. However the same option (character) is usually used only for one functionality across all elements:  </p><p></p><table class="wikitable"><tbody><tr><td style="border: 1px solid #ccc; padding: 5px;"> Option </td><td style="border: 1px solid #ccc; padding: 5px;"> Description </td><td style="border: 1px solid #ccc; padding: 5px;"> Version </td></tr> <tr><td style="border: 1px solid #ccc; padding: 5px;"> +     </td><td style="border: 1px solid #ccc; padding: 5px;"> Control visibility of the '+' sign </td></tr> <tr><td style="border: 1px solid #ccc; padding: 5px;"> a      </td><td style="border: 1px solid #ccc; padding: 5px;"> Automatic down/selection option (M2_TEXT, M2_U32NUM, M2_U8NUM) </td><td style="border: 1px solid #ccc; padding: 5px;"> </td></tr> <tr><td style="border: 1px solid #ccc; padding: 5px;"> b      </td><td style="border: 1px solid #ccc; padding: 5px;"> Border modification (M2_LABEL and variants) </td><td style="border: 1px solid #ccc; padding: 5px;"> </td></tr> <tr><td style="border: 1px solid #ccc; padding: 5px;"> c      </td><td style="border: 1px solid #ccc; padding: 5px;">   columns (M2_TEXT, M2_GRIDLIST, M2_U32NUM, M2_U8NUM) </td><td style="border: 1px solid #ccc; padding: 5px;"> </td></tr> <tr><td style="border: 1px solid #ccc; padding: 5px;"> d      </td><td style="border: 1px solid #ccc; padding: 5px;"> Internal Option, do not use! (deep draw) </td><td style="border: 1px solid #ccc; padding: 5px;"> </td></tr> <tr><td style="border: 1px solid #ccc; padding: 5px;"> e, E  </td><td style="border: 1px solid #ccc; padding: 5px;"> Extra column size (M2_STRLIST, M2_2LMENU) </td><td style="border: 1px solid #ccc; padding: 5px;"> v1.08 </td></tr> <tr><td style="border: 1px solid #ccc; padding: 5px;"> F </td><td style="border: 1px solid #ccc; padding: 5px;"> Extra column font (M2_STRLIST, M2_2LMENU) </td><td style="border: 1px solid #ccc; padding: 5px;"> v1.08 </td></tr> <tr><td style="border: 1px solid #ccc; padding: 5px;"> f     </td><td style="border: 1px solid #ccc; padding: 5px;"> Font selection (all elements)</td><td style="border: 1px solid #ccc; padding: 5px;"> </td></tr> <tr><td style="border: 1px solid #ccc; padding: 5px;"> h, H </td><td style="border: 1px solid #ccc; padding: 5px;"> Element height (all elements) </td><td style="border: 1px solid #ccc; padding: 5px;"> </td></tr> <tr><td style="border: 1px solid #ccc; padding: 5px;"> l    </td><td style="border: 1px solid #ccc; padding: 5px;"> Visible line count (M2_VSB, M2_STRLIST, M2_INFO) </td><td style="border: 1px solid #ccc; padding: 5px;"> </td></tr> <tr><td style="border: 1px solid #ccc; padding: 5px;"> n    </td><td style="border: 1px solid #ccc; padding: 5px;"> Change initial focus to field n (M2_ROOT) </td><td style="border: 1px solid #ccc; padding: 5px;"> v1.09 </td></tr> <tr><td style="border: 1px solid #ccc; padding: 5px;"> q    </td><td style="border: 1px solid #ccc; padding: 5px;"> Quick key </td><td style="border: 1px solid #ccc; padding: 5px;"> v1.11 </td></tr> <tr><td style="border: 1px solid #ccc; padding: 5px;"> r    </td><td style="border: 1px solid #ccc; padding: 5px;"> Read only flag (all elements)</td><td style="border: 1px solid #ccc; padding: 5px;"> </td></tr> <tr><td style="border: 1px solid #ccc; padding: 5px;"> t    </td><td style="border: 1px solid #ccc; padding: 5px;"> Enable element for <a href="https://code.google.com/p/m2tklib/wiki/t10">touch screen mode</a> (all elements, except TSK) </td><td style="border: 1px solid #ccc; padding: 5px;"> v1.10 </td></tr> <tr><td style="border: 1px solid #ccc; padding: 5px;"> v </td><td style="border: 1px solid #ccc; padding: 5px;"> M2_RADIO: Individual button value, M2_ROOT: Root change value </td><td style="border: 1px solid #ccc; padding: 5px;"> M2_ROOT: v1.09  </td></tr> <tr><td style="border: 1px solid #ccc; padding: 5px;"> w, W </td><td style="border: 1px solid #ccc; padding: 5px;"> Element width (all elements) </td><td style="border: 1px solid #ccc; padding: 5px;"> </td></tr> <tr><td style="border: 1px solid #ccc; padding: 5px;"> x </td><td style="border: 1px solid #ccc; padding: 5px;"> X-position within M2_XYLIST </td><td style="border: 1px solid #ccc; padding: 5px;"> </td></tr> <tr><td style="border: 1px solid #ccc; padding: 5px;"> y </td><td style="border: 1px solid #ccc; padding: 5px;"> Y-position within M2_XYLIST </td><td style="border: 1px solid #ccc; padding: 5px;"> </td></tr> <tr><td style="border: 1px solid #ccc; padding: 5px;"> - </td><td style="border: 1px solid #ccc; padding: 5px;"> M2_ALIGN </td><td style="border: 1px solid #ccc; padding: 5px;">  </td></tr> <tr><td style="border: 1px solid #ccc; padding: 5px;"> | </td><td style="border: 1px solid #ccc; padding: 5px;"> M2_ALIGN </td><td style="border: 1px solid #ccc; padding: 5px;">  </td></tr> <tr><td style="border: 1px solid #ccc; padding: 5px;"> . </td><td style="border: 1px solid #ccc; padding: 5px;"> Dot position (M2_U32NUM) </td><td style="border: 1px solid #ccc; padding: 5px;">  </td></tr> </tbody></table><p></p><p>Note: 't' defaults to 1 for <tt>M2_BUTTON</tt>, <tt>M2_BUTTONPTR</tt>, <tt>M2_ROOT</tt>, <tt>M2_XBMBUTTON</tt> and <tt>M2_XBMROOT</tt>. </p><h2><a name="Forward_Declaration"></a>Forward Declaration<a href="https://code.google.com/p/m2tklib/wiki/elref#Forward_Declaration" class="section_anchor"></a></h2><p>In many cases it is sufficient that subsequent elements refer to previous elements. However sometimes it is required to refer to an element which is defined later. Typical examples include independent menus which refer to each other. Such an example is provided together with the change <a href="https://code.google.com/p/m2tklib/wiki/elref#ROOT">ROOT</a> button. The syntax for this forward declaration is described below with every element. </p><h2><a name="Null_Element"></a>Null Element<a href="https://code.google.com/p/m2tklib/wiki/elref#Null_Element" class="section_anchor"></a></h2><p>The Null element is a predefined element, which does nothing. Its name is </p><pre class="prettyprint"><span class="pln">m2_null_element</span></pre><p>Use  </p><pre class="prettyprint"><span class="pun">&amp;</span><span class="pln">m2_null_element</span></pre><p>as a reference to the null element. </p><h2><a name="Examples"></a>Examples<a href="https://code.google.com/p/m2tklib/wiki/elref#Examples" class="section_anchor"></a></h2><p>The reference part of this document usually does not provide complete examples. Instead, complete examples are discussed now. </p><h3><a name="Differences_between_the_graphics_devices"></a>Differences between the graphics devices<a href="https://code.google.com/p/m2tklib/wiki/elref#Differences_between_the_graphics_devices" class="section_anchor"></a></h3><h4><a name="Include"></a>Include<a href="https://code.google.com/p/m2tklib/wiki/elref#Include" class="section_anchor"></a></h4><ul><li>Dogm128 Library: Dogm.h and m2ghdogm.h </li><li>Liquid Crystal: m2ghlc.h </li></ul><h4><a name="Setup"></a>Setup<a href="https://code.google.com/p/m2tklib/wiki/elref#Setup" class="section_anchor"></a></h4><ul><li>Graphics Library: Usually the user must provide at least one font. </li><li>Liquid Crystal: Fonts are build in. <a href="https://code.google.com/p/m2tklib/wiki/fnref#setFont">setFont</a> is not required. </li></ul><h4><a name="Loop"></a>Loop<a href="https://code.google.com/p/m2tklib/wiki/elref#Loop" class="section_anchor"></a></h4><ul><li>Dogm128 Library: Requires "picture loop" </li><li>All others: Just call <a href="https://code.google.com/p/m2tklib/wiki/fnref#draw">draw</a> </li></ul><h3><a name="Dogm128_Library"></a>Dogm128 Library<a href="https://code.google.com/p/m2tklib/wiki/elref#Dogm128_Library" class="section_anchor"></a></h3><p>This is the complete <a href="https://code.google.com/p/m2tklib/wiki/elref#U32NUM">U32NUM</a> example for the Dogm128 library: </p><pre class="prettyprint"><span class="com">#include</span><span class="pln"> </span><span class="str">"Dogm.h"</span><span class="pln"><br></span><span class="com">#include</span><span class="pln"> </span><span class="str">"M2tk.h"</span><span class="pln"><br></span><span class="com">#include</span><span class="pln"> </span><span class="str">"m2ghdogm.h"</span><span class="pln"><br><br></span><span class="com">#ifdef</span><span class="pln"> DOGS102_HW<br></span><span class="com">// DOGS102 shield </span><span class="pln"><br>uint8_t uiKeyUpPin </span><span class="pun">=</span><span class="pln"> </span><span class="lit">5</span><span class="pun">;</span><span class="pln"><br>uint8_t uiKeyDownPin </span><span class="pun">=</span><span class="pln"> </span><span class="lit">3</span><span class="pun">;</span><span class="pln"><br>uint8_t uiKeySelectPin </span><span class="pun">=</span><span class="pln"> </span><span class="lit">4</span><span class="pun">;</span><span class="pln"><br></span><span class="com">#else</span><span class="pln"><br></span><span class="com">// DOGM132, DOGM128 and DOGXL160 shield</span><span class="pln"><br>uint8_t uiKeyUpPin </span><span class="pun">=</span><span class="pln"> </span><span class="lit">7</span><span class="pun">;</span><span class="pln"><br>uint8_t uiKeyDownPin </span><span class="pun">=</span><span class="pln"> </span><span class="lit">3</span><span class="pun">;</span><span class="pln"><br>uint8_t uiKeySelectPin </span><span class="pun">=</span><span class="pln"> </span><span class="lit">2</span><span class="pun">;</span><span class="pln"><br></span><span class="com">#endif</span><span class="pln"><br><br></span><span class="kwd">int</span><span class="pln"> a0Pin </span><span class="pun">=</span><span class="pln"> </span><span class="lit">9</span><span class="pun">;</span><span class="pln"><br></span><span class="typ">Dogm</span><span class="pln"> dogm</span><span class="pun">(</span><span class="pln">a0Pin</span><span class="pun">);</span><span class="pln"><br><br>uint32_t number </span><span class="pun">=</span><span class="pln"> </span><span class="lit">1234</span><span class="pun">;</span><span class="pln"><br><br></span><span class="kwd">void</span><span class="pln"> fn_ok</span><span class="pun">(</span><span class="pln">m2_el_fnarg_p fnarg</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; </span><span class="com">/* do something with the number */</span><span class="pln"><br></span><span class="pun">}</span><span class="pln"><br><br>M2_LABEL</span><span class="pun">(</span><span class="pln">el_label</span><span class="pun">,</span><span class="pln"> NULL</span><span class="pun">,</span><span class="pln"> </span><span class="str">"Num: "</span><span class="pun">);</span><span class="pln"><br>M2_U32NUM</span><span class="pun">(</span><span class="pln">el_num</span><span class="pun">,</span><span class="pln"> </span><span class="str">"a1c4"</span><span class="pun">,</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">number</span><span class="pun">);</span><span class="pln"><br>M2_BUTTON</span><span class="pun">(</span><span class="pln">el_ok</span><span class="pun">,</span><span class="pln"> </span><span class="str">""</span><span class="pun">,</span><span class="pln"> </span><span class="str">" ok "</span><span class="pun">,</span><span class="pln"> fn_ok</span><span class="pun">);</span><span class="pln"><br>M2_LIST</span><span class="pun">(</span><span class="pln">list</span><span class="pun">)</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">el_label</span><span class="pun">,</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">el_num</span><span class="pun">,</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">el_ok </span><span class="pun">};</span><span class="pln"><br>M2_HLIST</span><span class="pun">(</span><span class="pln">list_element</span><span class="pun">,</span><span class="pln"> NULL</span><span class="pun">,</span><span class="pln"> list</span><span class="pun">);</span><span class="pln"><br>M2tk m2</span><span class="pun">(&amp;</span><span class="pln">list_element</span><span class="pun">,</span><span class="pln"> m2_es_arduino</span><span class="pun">,</span><span class="pln"> m2_eh_2bs</span><span class="pun">,</span><span class="pln"> m2_gh_dogm_fbs</span><span class="pun">);</span><span class="pln"><br><br></span><span class="kwd">void</span><span class="pln"> setup</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; m2</span><span class="pun">.</span><span class="pln">setFont</span><span class="pun">(</span><span class="lit">0</span><span class="pun">,</span><span class="pln"> font_6x12</span><span class="pun">);</span><span class="pln"><br>&nbsp; m2</span><span class="pun">.</span><span class="pln">setPin</span><span class="pun">(</span><span class="pln">M2_KEY_SELECT</span><span class="pun">,</span><span class="pln"> uiKeySelectPin</span><span class="pun">);</span><span class="pln"><br>&nbsp; m2</span><span class="pun">.</span><span class="pln">setPin</span><span class="pun">(</span><span class="pln">M2_KEY_NEXT</span><span class="pun">,</span><span class="pln"> uiKeyDownPin</span><span class="pun">);</span><span class="pln"><br></span><span class="pun">}</span><span class="pln"><br><br></span><span class="kwd">void</span><span class="pln"> loop</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; m2</span><span class="pun">.</span><span class="pln">checkKey</span><span class="pun">();</span><span class="pln"><br>&nbsp; </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln"> m2</span><span class="pun">.</span><span class="pln">handleKey</span><span class="pun">()</span><span class="pln"> </span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; dogm</span><span class="pun">.</span><span class="pln">start</span><span class="pun">();</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="kwd">do</span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; m2</span><span class="pun">.</span><span class="pln">checkKey</span><span class="pun">();</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; m2</span><span class="pun">.</span><span class="pln">draw</span><span class="pun">();</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">while</span><span class="pun">(</span><span class="pln"> dogm</span><span class="pun">.</span><span class="kwd">next</span><span class="pun">()</span><span class="pln"> </span><span class="pun">);</span><span class="pln"><br>&nbsp; </span><span class="pun">}</span><span class="pln"><br></span><span class="pun">}</span></pre><p>Result: </p><p><img src="./elref - m2tklib - Element (Widget) Reference - Mini Interative Interface Toolkit Library - Google Project Hosting_files/dogm_u32.jpg"> </p><h3><a name="Liquid_Crystal"></a>Liquid Crystal<a href="https://code.google.com/p/m2tklib/wiki/elref#Liquid_Crystal" class="section_anchor"></a></h3><p>This is the complete <a href="https://code.google.com/p/m2tklib/wiki/elref#U32NUM">U32NUM</a> example for the Liquid Crystal library. Note, that there is an additional call to the graphic handler specific procedure <tt>m2_SetLiquidCrystal()</tt>. </p><pre class="prettyprint"><span class="com">#include</span><span class="pln"> </span><span class="str">"M2tk.h"</span><span class="pln"><br></span><span class="com">#include</span><span class="pln"> </span><span class="str">"m2ghlc.h"</span><span class="pln"><br><br></span><span class="typ">LiquidCrystal</span><span class="pln"> lcd</span><span class="pun">(</span><span class="lit">12</span><span class="pun">,</span><span class="pln"> </span><span class="lit">11</span><span class="pun">,</span><span class="pln"> </span><span class="lit">5</span><span class="pun">,</span><span class="pln"> </span><span class="lit">4</span><span class="pun">,</span><span class="pln"> </span><span class="lit">3</span><span class="pun">,</span><span class="pln"> </span><span class="lit">2</span><span class="pun">);</span><span class="pln"><br><br>uint8_t uiKeySelectPin </span><span class="pun">=</span><span class="pln"> </span><span class="lit">10</span><span class="pun">;</span><span class="pln"><br>uint8_t uiKeyNextPin </span><span class="pun">=</span><span class="pln"> </span><span class="lit">9</span><span class="pun">;</span><span class="pln"><br><br>uint32_t number </span><span class="pun">=</span><span class="pln"> </span><span class="lit">1234</span><span class="pun">;</span><span class="pln"><br><br></span><span class="kwd">void</span><span class="pln"> fn_ok</span><span class="pun">(</span><span class="pln">m2_el_fnarg_p fnarg</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; </span><span class="com">/* do something with the number */</span><span class="pln"><br></span><span class="pun">}</span><span class="pln"><br><br>M2_LABEL</span><span class="pun">(</span><span class="pln">el_label</span><span class="pun">,</span><span class="pln"> NULL</span><span class="pun">,</span><span class="pln"> </span><span class="str">"Num: "</span><span class="pun">);</span><span class="pln"><br>M2_U32NUM</span><span class="pun">(</span><span class="pln">el_num</span><span class="pun">,</span><span class="pln"> </span><span class="str">"a1c4"</span><span class="pun">,</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">number</span><span class="pun">);</span><span class="pln"><br>M2_BUTTON</span><span class="pun">(</span><span class="pln">el_ok</span><span class="pun">,</span><span class="pln"> </span><span class="str">""</span><span class="pun">,</span><span class="pln"> </span><span class="str">"ok"</span><span class="pun">,</span><span class="pln"> fn_ok</span><span class="pun">);</span><span class="pln"><br>M2_LIST</span><span class="pun">(</span><span class="pln">list</span><span class="pun">)</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">el_label</span><span class="pun">,</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">el_num</span><span class="pun">,</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">el_ok </span><span class="pun">};</span><span class="pln"><br>M2_HLIST</span><span class="pun">(</span><span class="pln">list_element</span><span class="pun">,</span><span class="pln"> NULL</span><span class="pun">,</span><span class="pln"> list</span><span class="pun">);</span><span class="pln"><br>M2tk m2</span><span class="pun">(&amp;</span><span class="pln">list_element</span><span class="pun">,</span><span class="pln"> m2_es_arduino</span><span class="pun">,</span><span class="pln"> m2_eh_2bs</span><span class="pun">,</span><span class="pln"> m2_gh_lc</span><span class="pun">);</span><span class="pln"><br><br></span><span class="kwd">void</span><span class="pln"> setup</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; m2_SetLiquidCrystal</span><span class="pun">(&amp;</span><span class="pln">lcd</span><span class="pun">,</span><span class="pln"> </span><span class="lit">16</span><span class="pun">,</span><span class="pln"> </span><span class="lit">2</span><span class="pun">);</span><span class="pln"><br>&nbsp; m2</span><span class="pun">.</span><span class="pln">setPin</span><span class="pun">(</span><span class="pln">M2_KEY_SELECT</span><span class="pun">,</span><span class="pln"> uiKeySelectPin</span><span class="pun">);</span><span class="pln"><br>&nbsp; m2</span><span class="pun">.</span><span class="pln">setPin</span><span class="pun">(</span><span class="pln">M2_KEY_NEXT</span><span class="pun">,</span><span class="pln"> uiKeyNextPin</span><span class="pun">);</span><span class="pln"><br></span><span class="pun">}</span><span class="pln"><br><br></span><span class="kwd">void</span><span class="pln"> loop</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; m2</span><span class="pun">.</span><span class="pln">checkKey</span><span class="pun">();</span><span class="pln"><br>&nbsp; m2</span><span class="pun">.</span><span class="pln">checkKey</span><span class="pun">();</span><span class="pln"><br>&nbsp; </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln"> m2</span><span class="pun">.</span><span class="pln">handleKey</span><span class="pun">()</span><span class="pln"> </span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; m2</span><span class="pun">.</span><span class="pln">draw</span><span class="pun">();</span><span class="pln"><br>&nbsp; m2</span><span class="pun">.</span><span class="pln">checkKey</span><span class="pun">();</span><span class="pln"><br></span><span class="pun">}</span></pre><p>Result: </p><p><img src="./elref - m2tklib - Element (Widget) Reference - Mini Interative Interface Toolkit Library - Google Project Hosting_files/lc_u32.jpg"> </p><h2><a name="Element_Overview"></a>Element Overview<a href="https://code.google.com/p/m2tklib/wiki/elref#Element_Overview" class="section_anchor"></a></h2><h3><a name="Container_Elements"></a>Container Elements<a href="https://code.google.com/p/m2tklib/wiki/elref#Container_Elements" class="section_anchor"></a></h3><p>Elements, which include other elements. </p><p></p><table class="wikitable"><tbody><tr><td style="border: 1px solid #ccc; padding: 5px;"> <a href="https://code.google.com/p/m2tklib/wiki/elref#ALIGN">M2_ALIGN</a> </td><td style="border: 1px solid #ccc; padding: 5px;"> Align (e.g. center) sub-element </td></tr> <tr><td style="border: 1px solid #ccc; padding: 5px;"> <a href="https://code.google.com/p/m2tklib/wiki/elref#HLIST">M2_HLIST</a> </td><td style="border: 1px solid #ccc; padding: 5px;"> Horizontal list of elements </td></tr> <tr><td style="border: 1px solid #ccc; padding: 5px;"> <a href="https://code.google.com/p/m2tklib/wiki/elref#GRIDLIST">M2_GRIDLIST</a> </td><td style="border: 1px solid #ccc; padding: 5px;"> Sub-elements are placed on a virtual grid </td></tr> <tr><td style="border: 1px solid #ccc; padding: 5px;"> <a href="https://code.google.com/p/m2tklib/wiki/elref#VLIST">M2_VLIST</a> </td><td style="border: 1px solid #ccc; padding: 5px;"> Vertical list of elements </td></tr> <tr><td style="border: 1px solid #ccc; padding: 5px;"> <a href="https://code.google.com/p/m2tklib/wiki/elref#XYLIST">M2_XYLIST</a> </td><td style="border: 1px solid #ccc; padding: 5px;"> Sub-elements are placed at the specified x/y position </td></tr> </tbody></table><p></p><h3><a name="Read-Only_Elements"></a>Read-Only Elements<a href="https://code.google.com/p/m2tklib/wiki/elref#Read-Only_Elements" class="section_anchor"></a></h3><p></p><table class="wikitable"><tbody><tr><td style="border: 1px solid #ccc; padding: 5px;"> <a href="https://code.google.com/p/m2tklib/wiki/elref#BOX">M2_BOX</a> </td><td style="border: 1px solid #ccc; padding: 5px;"> Draw box, horizontal or vertical line </td></tr> <tr><td style="border: 1px solid #ccc; padding: 5px;"> <a href="https://code.google.com/p/m2tklib/wiki/elref#INFO">M2_INFO</a> </td><td style="border: 1px solid #ccc; padding: 5px;"> Display long text string </td></tr> <tr><td style="border: 1px solid #ccc; padding: 5px;"> <a href="https://code.google.com/p/m2tklib/wiki/elref#LABEL">M2_LABEL</a> </td><td style="border: 1px solid #ccc; padding: 5px;"> Display text string </td></tr> <tr><td style="border: 1px solid #ccc; padding: 5px;"> <a href="https://code.google.com/p/m2tklib/wiki/elref#LABELPTR">M2_LABELPTR</a> </td><td style="border: 1px solid #ccc; padding: 5px;"> Display text string </td></tr> <tr><td style="border: 1px solid #ccc; padding: 5px;"> <a href="https://code.google.com/p/m2tklib/wiki/elref#LABELFN">M2_LABELFN</a> </td><td style="border: 1px solid #ccc; padding: 5px;"> Display text string </td></tr> <tr><td style="border: 1px solid #ccc; padding: 5px;"> <a href="https://code.google.com/p/m2tklib/wiki/elref#LABELP">M2_LABELP</a> </td><td style="border: 1px solid #ccc; padding: 5px;"> Display text string </td></tr> <tr><td style="border: 1px solid #ccc; padding: 5px;"> <a href="https://code.google.com/p/m2tklib/wiki/elref#XBMLABELP">M2_XBMLABELP</a> </td><td style="border: 1px solid #ccc; padding: 5px;"> Display XBM bitmap </td></tr> <tr><td style="border: 1px solid #ccc; padding: 5px;"> <a href="https://code.google.com/p/m2tklib/wiki/elref#SPACE">M2_SPACE</a> </td><td style="border: 1px solid #ccc; padding: 5px;"> Add extra space on the dialog box </td></tr> <tr><td style="border: 1px solid #ccc; padding: 5px;"> <a href="https://code.google.com/p/m2tklib/wiki/elref#SPACECB">M2_SPACECB</a> </td><td style="border: 1px solid #ccc; padding: 5px;"> Add extra space on the dialog box </td></tr> </tbody></table><p></p><h3><a name="Numeric_Input"></a>Numeric Input<a href="https://code.google.com/p/m2tklib/wiki/elref#Numeric_Input" class="section_anchor"></a></h3><p></p><table class="wikitable"><tbody><tr><td style="border: 1px solid #ccc; padding: 5px;"> <a href="https://code.google.com/p/m2tklib/wiki/elref#S8NUM">M2_S8NUM</a> </td><td style="border: 1px solid #ccc; padding: 5px;"> signed 8 bit value </td></tr> <tr><td style="border: 1px solid #ccc; padding: 5px;"> <a href="https://code.google.com/p/m2tklib/wiki/elref#S8NUMFN">M2_S8NUMFN</a> </td><td style="border: 1px solid #ccc; padding: 5px;"> signed 8 bit value </td></tr> <tr><td style="border: 1px solid #ccc; padding: 5px;"> <a href="https://code.google.com/p/m2tklib/wiki/elref#U8NUM">M2_U8NUM</a> </td><td style="border: 1px solid #ccc; padding: 5px;"> unsigned 8 bit value </td></tr> <tr><td style="border: 1px solid #ccc; padding: 5px;"> <a href="https://code.google.com/p/m2tklib/wiki/elref#U8NUMFN">M2_U8NUMFN</a> </td><td style="border: 1px solid #ccc; padding: 5px;"> unsigned 8 bit value </td></tr> <tr><td style="border: 1px solid #ccc; padding: 5px;"> <a href="https://code.google.com/p/m2tklib/wiki/elref#U32NUM">M2_U32NUM</a> </td><td style="border: 1px solid #ccc; padding: 5px;"> unsigned 32 bit value </td></tr> <tr><td style="border: 1px solid #ccc; padding: 5px;"> <a href="https://code.google.com/p/m2tklib/wiki/elref#U32NUMFN">M2_U32NUMFN</a> </td><td style="border: 1px solid #ccc; padding: 5px;"> unsigned 32 bit value </td></tr> </tbody></table><p></p><h3><a name="Other_Input"></a>Other Input<a href="https://code.google.com/p/m2tklib/wiki/elref#Other_Input" class="section_anchor"></a></h3><p></p><table class="wikitable"><tbody><tr><td style="border: 1px solid #ccc; padding: 5px;"> <a href="https://code.google.com/p/m2tklib/wiki/elref#RADIO">M2_RADIO</a> </td><td style="border: 1px solid #ccc; padding: 5px;"> "radio" buttons </td></tr> <tr><td style="border: 1px solid #ccc; padding: 5px;"> <a href="https://code.google.com/p/m2tklib/wiki/elref#COMBO">M2_COMBO</a> </td><td style="border: 1px solid #ccc; padding: 5px;"> one of many selection </td></tr> <tr><td style="border: 1px solid #ccc; padding: 5px;"> <a href="https://code.google.com/p/m2tklib/wiki/elref#COMBOPTR">M2_COMBOPTR</a> </td><td style="border: 1px solid #ccc; padding: 5px;"> one of many selection </td></tr> <tr><td style="border: 1px solid #ccc; padding: 5px;"> <a href="https://code.google.com/p/m2tklib/wiki/elref#COMBOFN">M2_COMBOFN</a> </td><td style="border: 1px solid #ccc; padding: 5px;"> one of many selection </td></tr> <tr><td style="border: 1px solid #ccc; padding: 5px;"> <a href="https://code.google.com/p/m2tklib/wiki/elref#TOGGLE">M2_TOGGLE</a> </td><td style="border: 1px solid #ccc; padding: 5px;"> on/off switch, toggle button</td></tr> </tbody></table><p></p><h3><a name="Text_Input"></a>Text Input<a href="https://code.google.com/p/m2tklib/wiki/elref#Text_Input" class="section_anchor"></a></h3><p></p><table class="wikitable"><tbody><tr><td style="border: 1px solid #ccc; padding: 5px;"> <a href="https://code.google.com/p/m2tklib/wiki/elref#TEXT">M2_TEXT</a> </td><td style="border: 1px solid #ccc; padding: 5px;"> Text input </td></tr> </tbody></table><p></p><h3><a name="Menu_Navigation"></a>Menu Navigation<a href="https://code.google.com/p/m2tklib/wiki/elref#Menu_Navigation" class="section_anchor"></a></h3><p></p><table class="wikitable"><tbody><tr><td style="border: 1px solid #ccc; padding: 5px;"> <a href="https://code.google.com/p/m2tklib/wiki/elref#ROOT">M2_ROOT</a> </td><td style="border: 1px solid #ccc; padding: 5px;"> Jump to other menus </td></tr> <tr><td style="border: 1px solid #ccc; padding: 5px;"> <a href="https://code.google.com/p/m2tklib/wiki/elref#XBMROOTP">M2_XBMROOTP</a> </td><td style="border: 1px solid #ccc; padding: 5px;"> Jump to other menus, XBM bitmap </td></tr> <tr><td style="border: 1px solid #ccc; padding: 5px;"> <a href="https://code.google.com/p/m2tklib/wiki/elref#2LMENU">2LMENU</a> </td><td style="border: 1px solid #ccc; padding: 5px;"> Menu table with expandable sub elements </td></tr> <tr><td style="border: 1px solid #ccc; padding: 5px;"> <a href="https://code.google.com/p/m2tklib/wiki/elref#X2LMENU">X2LMENU</a> </td><td style="border: 1px solid #ccc; padding: 5px;"> Extended menu table with expandable sub elements </td></tr> </tbody></table><p></p><h3><a name="User_Function_Call"></a>User Function Call<a href="https://code.google.com/p/m2tklib/wiki/elref#User_Function_Call" class="section_anchor"></a></h3><p></p><table class="wikitable"><tbody><tr><td style="border: 1px solid #ccc; padding: 5px;"> <a href="https://code.google.com/p/m2tklib/wiki/elref#BUTTON">M2_BUTTON</a> </td><td style="border: 1px solid #ccc; padding: 5px;"> Selectable text, which calls a user defined procedure </td></tr> <tr><td style="border: 1px solid #ccc; padding: 5px;"> <a href="https://code.google.com/p/m2tklib/wiki/elref#XBMBUTTONP">M2_XBMBUTTONP</a> </td><td style="border: 1px solid #ccc; padding: 5px;"> Selectable XBM bitmap, which calls a user defined procedure </td></tr> <tr><td style="border: 1px solid #ccc; padding: 5px;"> <a href="https://code.google.com/p/m2tklib/wiki/elref#STRLIST">M2_STRLIST</a> </td><td style="border: 1px solid #ccc; padding: 5px;"> Selectable list of strings, which calls a user defined procedure </td></tr> </tbody></table><p></p><h3><a name="TSK_Elements"></a>TSK Elements<a href="https://code.google.com/p/m2tklib/wiki/elref#TSK_Elements" class="section_anchor"></a></h3><p>Elements for <a href="https://code.google.com/p/m2tklib/wiki/t10">touch screen support</a>. </p><p></p><table class="wikitable"><tbody><tr><td style="border: 1px solid #ccc; padding: 5px;"> <a href="https://code.google.com/p/m2tklib/wiki/elref#TSK">M2_TSK</a> </td><td style="border: 1px solid #ccc; padding: 5px;"> Selectable string, generate key event </td></tr> <tr><td style="border: 1px solid #ccc; padding: 5px;"> <a href="https://code.google.com/p/m2tklib/wiki/elref#TSKP">M2_TSKP</a> </td><td style="border: 1px solid #ccc; padding: 5px;"> Selectable string, generate key event </td></tr> <tr><td style="border: 1px solid #ccc; padding: 5px;"> <a href="https://code.google.com/p/m2tklib/wiki/elref#XBMTSKP">M2_XBMTSKP</a> </td><td style="border: 1px solid #ccc; padding: 5px;"> Selectable XBM picture, generate key event </td></tr> </tbody></table><p></p><h3><a name="Additional_Elements"></a>Additional Elements<a href="https://code.google.com/p/m2tklib/wiki/elref#Additional_Elements" class="section_anchor"></a></h3><p></p><table class="wikitable"><tbody><tr><td style="border: 1px solid #ccc; padding: 5px;"> <a href="https://code.google.com/p/m2tklib/wiki/elref#VSB">M2_VSB</a> </td><td style="border: 1px solid #ccc; padding: 5px;"> Vertical scroll bar </td></tr> </tbody></table><p></p><h1><a name="Element_Reference"></a>Element Reference<a href="https://code.google.com/p/m2tklib/wiki/elref#Element_Reference" class="section_anchor"></a></h1><h2><a name="2LMENU"></a>2LMENU<a href="https://code.google.com/p/m2tklib/wiki/elref#2LMENU" class="section_anchor"></a></h2><ul><li>Prototype </li><pre class="prettyprint"><span class="pln">M2_2LMENU</span><span class="pun">(</span><span class="pln">el</span><span class="pun">,</span><span class="pln">fmt</span><span class="pun">,</span><span class="pln">first</span><span class="pun">,</span><span class="pln">cnt</span><span class="pun">,</span><span class="pln">menu_data</span><span class="pun">,</span><span class="pln">menu_char</span><span class="pun">,</span><span class="pln">expanded_char</span><span class="pun">,</span><span class="pln">submenu_char</span><span class="pun">)</span></pre><li>Forward Declaration </li><pre class="prettyprint"><span class="pln">M2_EXTERN_2LMENU</span><span class="pun">(</span><span class="pln">el</span><span class="pun">)</span></pre><li>Description </li><blockquote>This element defines a scrollable menu with expandable submenus. The state of the menu entry is shown in the first column (<tt>e</tt> or <tt>E</tt> option). The vertical scroll bar can be connected to this element. 
</blockquote></ul><p>The menu is defined by a list of menu entries: </p><pre class="prettyprint"><span class="pln">&nbsp; </span><span class="kwd">struct</span><span class="pln"> _m2_menu_entry<br>&nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="kwd">const</span><span class="pln"> </span><span class="kwd">char</span><span class="pln"> </span><span class="pun">*</span><span class="pln">label</span><span class="pun">;</span><span class="pln"><br>&nbsp; &nbsp; m2_rom_void_p element</span><span class="pun">;</span><span class="pln"><br>&nbsp; </span><span class="pun">};</span><span class="pln"><br>&nbsp; </span><span class="kwd">typedef</span><span class="pln"> </span><span class="kwd">struct</span><span class="pln"> _m2_menu_entry m2_menu_entry</span><span class="pun">;</span></pre><p>   </p><ul><li>Available: v1.08 </li><li>Arguments </li><ul><li><tt>el</tt>: Name of the element. </li><li><tt>fmt</tt>: Pointer (<tt>const char *</tt>) to the format string. </li><li><tt>first</tt>: Pointer to uint8_t, which contains the index number of the first string which is visible (range is from 0 to <tt>cnt</tt> - l).  </li><li><tt>cnt</tt>: Pointer to the total number of strings (Pointer to uint8_t). </li><li><tt>menu_data</tt>: List of menu entries (pointer to <tt>m2_menu_entry</tt>). </li><li><tt>menu_char</tt>: Character (icon) for the non-expanded menu entry. Visible only with <tt>e</tt> or <tt>E</tt> option. </li><li><tt>expanded_char</tt>: Character (icon) for the expanded menu entry. Visible only with <tt>e</tt> or <tt>E</tt> option.  </li><li><tt>submenu_char</tt>: Character (icon) for the sub-menu entry. Visible only with <tt>e</tt> or <tt>E</tt> option.  </li></ul><li>Format Options </li><ul><li><tt>e</tt> / <tt>E</tt>: Pixel/char space of the first colunn / relative space of the first column. </li><li><tt>f</tt>: Font </li><li><tt>F</tt>: Font of the first (extra) column (Default: Same value as <tt>f</tt>). </li><li><tt>w</tt>: Width, value is interpreted as number of pixels. </li><li><tt>W</tt>: Value is relative width according to the total width of the display (W64 = total display width, W32 = half display width, ...) </li><li><tt>h</tt>: Height </li><li><tt>l</tt>: Number of visible lines (required). </li><li><tt>x</tt>, <tt>y</tt>: Position of the element, if the parent element is a <a href="https://code.google.com/p/m2tklib/wiki/elref#XYLIST">XYLIST</a>.  </li></ul><li>See also: <a href="https://code.google.com/p/m2tklib/wiki/elref#X2LMENU">X2LMENU</a>  </li><li>Example: </li><blockquote><img src="./elref - m2tklib - Element (Widget) Reference - Mini Interative Interface Toolkit Library - Google Project Hosting_files/u8g_2lmenu.png"> 
</blockquote></ul><p></p><blockquote>One menu entry has a label and a reference to a target element. The target element should be the root element of an element tree. This tree becomes visible as soon as the entry is selected. The special character "." marks a sub-menu. 
<pre class="prettyprint"><span class="pln">m2_menu_entry menu_data</span><span class="pun">[]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> <br></span><span class="pun">{</span><span class="pln"><br>&nbsp; </span><span class="pun">{</span><span class="pln"> </span><span class="str">"Menu 1"</span><span class="pun">,</span><span class="pln"> NULL </span><span class="pun">},</span><span class="pln"><br>&nbsp; </span><span class="pun">{</span><span class="pln"> </span><span class="str">". Sub 1-1"</span><span class="pun">,</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">dialog11 </span><span class="pun">},</span><span class="pln"><br>&nbsp; </span><span class="pun">{</span><span class="pln"> </span><span class="str">". Sub 1-2"</span><span class="pun">,</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">dialog12 </span><span class="pun">},</span><span class="pln"><br>&nbsp; </span><span class="pun">{</span><span class="pln"> </span><span class="str">"Menu 2"</span><span class="pun">,</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">dialog2 </span><span class="pun">},</span><span class="pln"><br>&nbsp; </span><span class="pun">{</span><span class="pln"> </span><span class="str">"Menu 3"</span><span class="pun">,</span><span class="pln"> NULL </span><span class="pun">},</span><span class="pln"><br>&nbsp; </span><span class="pun">{</span><span class="pln"> </span><span class="str">". Sub 3-1"</span><span class="pun">,</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">dialog31 </span><span class="pun">},</span><span class="pln"><br>&nbsp; </span><span class="pun">{</span><span class="pln"> </span><span class="str">". Sub 3-2"</span><span class="pun">,</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">dialog32 </span><span class="pun">},</span><span class="pln"><br>&nbsp; </span><span class="pun">{</span><span class="pln"> </span><span class="str">"Menu 4"</span><span class="pun">,</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">dialog4 </span><span class="pun">},</span><span class="pln"><br>&nbsp; </span><span class="pun">{</span><span class="pln"> </span><span class="str">"Menu 5"</span><span class="pun">,</span><span class="pln"> NULL </span><span class="pun">},</span><span class="pln"><br>&nbsp; </span><span class="pun">{</span><span class="pln"> </span><span class="str">". Sub 5-1"</span><span class="pun">,</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">dialog51 </span><span class="pun">},</span><span class="pln"><br>&nbsp; </span><span class="pun">{</span><span class="pln"> </span><span class="str">". Sub 5-2"</span><span class="pun">,</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">dialog52 </span><span class="pun">},</span><span class="pln"><br>&nbsp; </span><span class="pun">{</span><span class="pln"> </span><span class="str">". Sub 5-3"</span><span class="pun">,</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">dialog53 </span><span class="pun">},</span><span class="pln"><br>&nbsp; </span><span class="pun">{</span><span class="pln"> NULL</span><span class="pun">,</span><span class="pln"> NULL </span><span class="pun">},</span><span class="pln"><br></span><span class="pun">};</span></pre></blockquote><blockquote>Notes to the <tt>2LMENU</tt> from the following code: 
<ul><li><tt>f</tt> option is not used, so the font 0 will be used. </li><li><tt>W</tt> defines the relative width of the <tt>2LMENU</tt> (47/64 of the total display width) </li><li><tt>F</tt> defines the icon font. The icons for the first column are taken from this font. </li><li><tt>l</tt> defines 4 visible lines </li><li><tt>el_2lme_cnt</tt> will contain the number of menu entries. This value is automatically calculated. Any assignments to this value will be overwritten. </li><li><tt>el_2lme_first</tt> contains the first visible menu entry. </li><pre class="prettyprint"><span class="pln">uint8_t el_2lme_first </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln"><br>uint8_t el_2lme_cnt </span><span class="pun">=</span><span class="pln"> </span><span class="lit">3</span><span class="pun">;</span><span class="pln"><br><br>M2_2LMENU</span><span class="pun">(</span><span class="pln">el_2lme_strlist</span><span class="pun">,</span><span class="pln"> </span><span class="str">"l4e15F3W47"</span><span class="pun">,</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">el_2lme_first</span><span class="pun">,</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">el_2lme_cnt</span><span class="pun">,</span><span class="pln"> menu_data</span><span class="pun">,</span><span class="pln"> </span><span class="lit">65</span><span class="pun">,</span><span class="pln"> </span><span class="lit">102</span><span class="pun">,</span><span class="pln"> </span><span class="str">'\0'</span><span class="pun">);</span><span class="pln"><br>M2_SPACE</span><span class="pun">(</span><span class="pln">el_2lme_space</span><span class="pun">,</span><span class="pln"> </span><span class="str">"W1h1"</span><span class="pun">);</span><span class="pln"><br>M2_VSB</span><span class="pun">(</span><span class="pln">el_2lme_vsb</span><span class="pun">,</span><span class="pln"> </span><span class="str">"l4W4r1"</span><span class="pun">,</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">el_2lme_first</span><span class="pun">,</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">el_2lme_cnt</span><span class="pun">);</span><span class="pln"><br>M2_LIST</span><span class="pun">(</span><span class="pln">list_2lme_strlist</span><span class="pun">)</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">el_2lme_strlist</span><span class="pun">,</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">el_2lme_space</span><span class="pun">,</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">el_2lme_vsb </span><span class="pun">};</span><span class="pln"><br>M2_HLIST</span><span class="pun">(</span><span class="pln">el_2lme_hlist</span><span class="pun">,</span><span class="pln"> NULL</span><span class="pun">,</span><span class="pln"> list_2lme_strlist</span><span class="pun">);</span><span class="pln"><br>M2_ALIGN</span><span class="pun">(</span><span class="pln">top_el_2l_menu</span><span class="pun">,</span><span class="pln"> </span><span class="str">"-1|1W64H64"</span><span class="pun">,</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">el_2lme_hlist</span><span class="pun">);</span></pre></ul></blockquote><h2><a name="ALIGN"></a>ALIGN<a href="https://code.google.com/p/m2tklib/wiki/elref#ALIGN" class="section_anchor"></a></h2><ul><li>Prototype </li><pre class="prettyprint"><span class="pln">M2_ALIGN</span><span class="pun">(</span><span class="pln">el</span><span class="pun">,</span><span class="pln">fmt</span><span class="pun">,</span><span class="kwd">ref</span><span class="pun">)</span></pre><li>Forward Declaration </li><pre class="prettyprint"><span class="pln">M2_EXTERN_ALIGN</span><span class="pun">(</span><span class="pln">el</span><span class="pun">)</span></pre><li>Description </li><blockquote>This element aligns its child (given by <tt>ref</tt>) within a provided area ('w' and 'h' options of the format string). 
</blockquote><li>Arguments </li><ul><li><tt>el</tt>: Name of the element. </li><li><tt>fmt</tt>: Pointer (<tt>const char *</tt>) to the format string. </li><li><tt>ref</tt>: The address of an element </li></ul><li>Format Options </li><ul><li><tt>|</tt>: 0 bottom, 1 center (default), 2 up. </li><li><tt>-</tt>: 0 left, 1 center (default), 2 right. </li><li><tt>w</tt>: Width.  </li><li><tt>h</tt>: Height. </li><li>'W': Relative width (W64 = display width)   </li><li>'H': Relative height (H64 = display height)   </li><li><tt>x</tt>, <tt>y</tt>: Position of the element, if the parent element is a <a href="https://code.google.com/p/m2tklib/wiki/elref#XYLIST">XYLIST</a>.  </li></ul><li>Note 1: It is required to apply the width and height for this element. </li><li>Note 2: To center a toplevel element, put it into M2_ALIGN: </li><pre class="prettyprint"><span class="pln">M2_ALIGN</span><span class="pun">(</span><span class="pln">el_centered_toplevel</span><span class="pun">,</span><span class="pln"> </span><span class="str">"W64H64"</span><span class="pun">,</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">el_toplevel</span><span class="pun">);</span></pre><li>Note 3: With v1.11 there is a further simplification: To center the child element you can use: </li><pre class="prettyprint"><span class="pln">M2_ALIGN</span><span class="pun">(</span><span class="pln">el_centered_toplevel</span><span class="pun">,</span><span class="pln"> NULL</span><span class="pun">,</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">el_toplevel</span><span class="pun">);</span></pre></ul><h2><a name="BOX"></a>BOX<a href="https://code.google.com/p/m2tklib/wiki/elref#BOX" class="section_anchor"></a></h2><ul><li>Prototype </li><pre class="prettyprint"><span class="pln">M2_BOX</span><span class="pun">(</span><span class="pln">el</span><span class="pun">,</span><span class="pln">fmt</span><span class="pun">)</span></pre><li>Forward Declaration </li><pre class="prettyprint"><span class="pln">M2_EXTERN_BOX</span><span class="pun">(</span><span class="pln">el</span><span class="pun">)</span></pre><li>Available: v1.11, U8glib </li><li>Description </li><blockquote>Read only element: Draw box, horizontal or vertical line. The size of the box is defined by <tt>w</tt>/<tt>h</tt> or <tt>W</tt>/<tt>H</tt> format options. 
</blockquote><li>Arguments </li><ul><li><tt>el</tt>: Name of the element. </li><li><tt>fmt</tt>: Pointer (<tt>const char *</tt>) to the format string. </li></ul><li>Format Options </li><ul><li><tt>h</tt>: Absolute pixel height (defaults to 0). </li><li><tt>H</tt>: Relative height according to the total height of the display (H64 = total display height, H32 = half display height, ...) </li><li><tt>w</tt>: Absolute pixel width (defaults to 0). </li><li><tt>W</tt>: Relative width according to the total width of the display (W64 = total display width, W32 = half display width, ...) </li></ul></ul><h2><a name="BUTTON"></a>BUTTON<a href="https://code.google.com/p/m2tklib/wiki/elref#BUTTON" class="section_anchor"></a></h2><h2><a name="BUTTONPTR"></a>BUTTONPTR<a href="https://code.google.com/p/m2tklib/wiki/elref#BUTTONPTR" class="section_anchor"></a></h2><ul><li>Prototype </li><pre class="prettyprint"><span class="pln">M2_BUTTON</span><span class="pun">(</span><span class="pln">el</span><span class="pun">,</span><span class="pln">fmt</span><span class="pun">,</span><span class="pln">str</span><span class="pun">,</span><span class="pln">cb_fn</span><span class="pun">)</span><span class="pln"><br>M2_BUTTONPTR</span><span class="pun">(</span><span class="pln">el</span><span class="pun">,</span><span class="pln">fmt</span><span class="pun">,</span><span class="pln">strptr</span><span class="pun">,</span><span class="pln">cb_fn</span><span class="pun">)</span></pre><li>Forward Declaration </li><pre class="prettyprint"><span class="pln">M2_EXTERN_BUTTON</span><span class="pun">(</span><span class="pln">el</span><span class="pun">)</span><span class="pln"><br>M2_EXTERN_BUTTONPTR</span><span class="pun">(</span><span class="pln">el</span><span class="pun">)</span></pre><li>Description </li><blockquote>This element puts <tt>str</tt> on the screen. This element can be activated. Procedure <tt>cb_fn</tt> is called if the element receives the <tt>M2_KEY_SELECT</tt> message. 
Important: If this button is intended to finish the user input, then the code should do one of the following: 
</blockquote><ul><li>Assign a new menu (element hierarchy) or </li><li><a href="https://code.google.com/p/m2tklib/wiki/fnref#clear">Clear</a> the existing menu </li></ul><blockquote>If this is not done, the old menu might receive (key-) events which might be intended for the new menu. Clearing the menu will stop event queue processing until a new menu is set with <a href="https://code.google.com/p/m2tklib/wiki/fnref#setRoot">setRoot</a>. 
</blockquote><li>Arguments </li><ul><li><tt>el</tt>: Name of the element. </li><li><tt>fmt</tt>: Pointer (<tt>const char *</tt>) to the format string. </li><li><tt>str</tt>: This string will be displayed on the screen. </li><li><tt>strptr</tt>: A pointer which contains the address of a string. </li><li><tt>cb_fn</tt>: Callback procedure </li></ul><blockquote><tt>void my_cb_fn(m2_el_fnarg_p fnarg)</tt> 
</blockquote><li>Format Options </li><ul><li><tt>f</tt>: Select a font, default is <tt>f0</tt> </li><li><tt>r</tt>: <tt>r1</tt> read-only field, default is <tt>r0</tt> (v1.01 and above) </li><li><tt>x</tt>, <tt>y</tt>: Position of the element, if the parent element is a <a href="https://code.google.com/p/m2tklib/wiki/elref#XYLIST">XYLIST</a>.  </li><li><tt>w</tt>: Width. Default: Width of the string.  </li><li><tt>h</tt>: Height. Default: Height of the selected font.  </li></ul><li>Example: The unsigned 8 bit value can be modified by the two button elements. </li><pre class="prettyprint"><span class="kwd">void</span><span class="pln"> fn_plus10</span><span class="pun">(</span><span class="pln">m2_el_fnarg_p fnarg</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; value </span><span class="pun">+=</span><span class="pln"> </span><span class="lit">10</span><span class="pun">;</span><span class="pln"><br></span><span class="pun">}</span><span class="pln"><br></span><span class="kwd">void</span><span class="pln"> fn_minus10</span><span class="pun">(</span><span class="pln">m2_el_fnarg_p fnarg</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; value </span><span class="pun">-=</span><span class="pln"> </span><span class="lit">10</span><span class="pun">;</span><span class="pln"><br></span><span class="pun">}</span><span class="pln"><br>M2_U8NUM</span><span class="pun">(</span><span class="pln">el_u8num</span><span class="pun">,</span><span class="pln"> </span><span class="str">"x15y20"</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">255</span><span class="pun">,</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">value</span><span class="pun">);</span><span class="pln"><br>M2_BUTTON</span><span class="pun">(</span><span class="pln">el_plus10</span><span class="pun">,</span><span class="pln"> </span><span class="str">"x0y1"</span><span class="pun">,</span><span class="pln"> </span><span class="str">"-10"</span><span class="pun">,</span><span class="pln"> fn_minus10</span><span class="pun">);</span><span class="pln"><br>M2_BUTTON</span><span class="pun">(</span><span class="pln">el_minus10</span><span class="pun">,</span><span class="pln"> </span><span class="str">"x30y1"</span><span class="pun">,</span><span class="pln"> </span><span class="str">"+10"</span><span class="pun">,</span><span class="pln"> fn_plus10</span><span class="pun">);</span><span class="pln"><br>M2_LIST</span><span class="pun">(</span><span class="pln">list</span><span class="pun">)</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">el_u8num</span><span class="pun">,</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">el_plus10</span><span class="pun">,</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">el_minus10 </span><span class="pun">};</span><span class="pln"><br>M2_XYLIST</span><span class="pun">(</span><span class="pln">list_element</span><span class="pun">,</span><span class="pln"> NULL</span><span class="pun">,</span><span class="pln">list</span><span class="pun">);</span><span class="pln"><br>M2tk m2</span><span class="pun">(&amp;</span><span class="pln">list_element</span><span class="pun">,</span><span class="pln"> m2_es_arduino</span><span class="pun">,</span><span class="pln"> m2_eh_2bs</span><span class="pun">,</span><span class="pln"> m2_gh_dogm_fbs</span><span class="pun">);</span></pre></ul><blockquote>The <tt>M2_BUTTONPTR</tt> element is used in the Bookmarks example. 
<pre class="prettyprint"><span class="kwd">const</span><span class="pln"> </span><span class="kwd">char</span><span class="pln"> </span><span class="pun">*</span><span class="pln">bm_last_name </span><span class="pun">=</span><span class="pln"> </span><span class="str">""</span><span class="pun">;</span><span class="pln"><br></span><span class="com">/* ... */</span><span class="pln"><br>M2_BUTTONPTR</span><span class="pun">(</span><span class="pln">el_bm_home_last</span><span class="pun">,</span><span class="pln"> </span><span class="str">"f4"</span><span class="pun">,</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">bm_last_name</span><span class="pun">,</span><span class="pln"> bm_return_to_last_menu_cb</span><span class="pun">);</span></pre>The name of the last menu is stored in the pointer variable <tt>bm_last_name</tt>. <tt>M2_BUTTONPTR</tt> will display the sting pointed to by the pointer variable. 
</blockquote><h2><a name="COMBO"></a>COMBO<a href="https://code.google.com/p/m2tklib/wiki/elref#COMBO" class="section_anchor"></a></h2><h2><a name="COMBOPTR"></a>COMBOPTR<a href="https://code.google.com/p/m2tklib/wiki/elref#COMBOPTR" class="section_anchor"></a></h2><h2><a name="COMBOFN"></a>COMBOFN<a href="https://code.google.com/p/m2tklib/wiki/elref#COMBOFN" class="section_anchor"></a></h2><ul><li>Prototype </li><pre class="prettyprint"><span class="pln">M2_COMBO</span><span class="pun">(</span><span class="pln">el</span><span class="pun">,</span><span class="pln">fmt</span><span class="pun">,</span><span class="kwd">var</span><span class="pun">,</span><span class="pln">len</span><span class="pun">,</span><span class="pln">cb_fn</span><span class="pun">)</span><span class="pln"><br>M2_COMBOPTR</span><span class="pun">(</span><span class="pln">el</span><span class="pun">,</span><span class="pln">fmt</span><span class="pun">,</span><span class="kwd">var</span><span class="pun">,</span><span class="pln">lenptr</span><span class="pun">,</span><span class="pln">cb_fn</span><span class="pun">)</span><span class="pln"><br>M2_COMBOFN</span><span class="pun">(</span><span class="pln">el</span><span class="pun">,</span><span class="pln">fmt</span><span class="pun">,</span><span class="pln">len</span><span class="pun">,</span><span class="pln">combofn_fn</span><span class="pun">)</span></pre><li>Forward Declaration </li><pre class="prettyprint"><span class="pln">M2_EXTERN_COMBO</span><span class="pun">(</span><span class="pln">el</span><span class="pun">)</span><span class="pln"><br>M2_EXTERN_COMBOPTR</span><span class="pun">(</span><span class="pln">el</span><span class="pun">)</span></pre><li>Description </li><blockquote>Selects one string of a predefined list of strings. The selected string is displayed and its corresponding value is stored in a variable. This is a data entry field and processes <tt>M2_KEY_DATA_UP</tt> and <tt>M2_KEY_DATA_DOWN</tt> messages. Some event handler also translate the <tt>M2_KEY_SELECT</tt> into <tt>M2_KEY_DATA_UP</tt>. 
The first string of the list has the corresponding value 0 and the last string has the value <tt>len-1</tt>, were <tt>len</tt> is the total number of strings in the list. 
</blockquote><li>Arguments </li><ul><li><tt>el</tt>: Name of the element. </li><li><tt>fmt</tt>: Pointer (<tt>const char *</tt>) to the format string. </li><li><tt>var</tt>: Pointer to an unsigned 8bit variable (<tt>uint8_t *</tt>). </li><li><tt>len</tt>: The number of strings in the list. </li><li><tt>lenptr</tt>: Pointer to an unsigned 8bit int which contains the number of strings in the list. </li><li><tt>cb_fn</tt>: Callback procedure <tt>const char *fn_idx_to_string(uint8_t idx)</tt> </li><li><tt>combofn_fn</tt>: Callback procedure <tt>const char *m2_combofn_fnptr(m2_rom_void_p element, uint8_t msg, uint8_t *valptr)</tt> </li><ul><li>msg==M2_COMBOFN_MSG_GET_VALUE: Get current value, write to<tt>*valptr</tt>. </li><li>msg==M2_COMBOFN_MSG_SET_VALUE: Set current value, read from <tt>*valptr</tt>. </li><li>msg==M2_COMBOFN_MSG_GET_STRING: Return string for current value in <tt>*valptr</tt>. </li></ul></ul><li>Format Options </li><ul><li><tt>f</tt>: Select a font, default is <tt>f0</tt> </li><li><tt>r</tt>: <tt>r1</tt> read-only field, default is <tt>r0</tt> (v1.01 and above) </li><li><tt>w</tt>: Width. Default: Width of the largest string.  </li><li><tt>h</tt>: Height. Default: Height of the selected font.  </li><li><tt>x</tt>, <tt>y</tt>: Position of the element, if the parent element is a <a href="https://code.google.com/p/m2tklib/wiki/elref#XYLIST">XYLIST</a>.  </li></ul><li>Note: <tt>COMBOPTR</tt> is available with v1.10 </li><li>Note: <tt>COMBOFN</tt> is available with v1.11 </li><li>Pictures: Combo-Field rendered on a KS0108 display: </li></ul><blockquote><img src="./elref - m2tklib - Element (Widget) Reference - Mini Interative Interface Toolkit Library - Google Project Hosting_files/glcd_combo.jpg"> 
</blockquote><ul><li>Example: The unsigned 8 bit value will have the value 0, 1, or 2 depending on the selected string 'red', 'green' or 'blue'. </li><pre class="prettyprint"><span class="pln">uint8_t select_color </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln"><br></span><span class="kwd">const</span><span class="pln"> </span><span class="kwd">char</span><span class="pln"> </span><span class="pun">*</span><span class="pln">fn_idx_to_color</span><span class="pun">(</span><span class="pln">uint8_t idx</span><span class="pun">)</span><span class="pln"><br></span><span class="pun">{</span><span class="pln"><br>&nbsp; </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln"> idx </span><span class="pun">==</span><span class="pln"> </span><span class="lit">0</span><span class="pln"> </span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="kwd">return</span><span class="pln"> </span><span class="str">"red"</span><span class="pun">;</span><span class="pln"><br>&nbsp; </span><span class="kwd">else</span><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">idx </span><span class="pun">==</span><span class="pln"> </span><span class="lit">1</span><span class="pln"> </span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="kwd">return</span><span class="pln"> </span><span class="str">"green"</span><span class="pun">;</span><span class="pln"><br>&nbsp; </span><span class="kwd">return</span><span class="pln"> </span><span class="str">"blue"</span><span class="pun">;</span><span class="pln"><br></span><span class="pun">}</span><span class="pln"><br>M2_COMBO</span><span class="pun">(</span><span class="pln">el_combo1</span><span class="pun">,</span><span class="pln"> NULL</span><span class="pun">,</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">select_color</span><span class="pun">,</span><span class="pln"> </span><span class="lit">3</span><span class="pun">,</span><span class="pln"> fn_idx_to_color</span><span class="pun">);</span></pre></ul><ul><li>Example 2: Use of <tt>COMBOPTR</tt> </li><pre class="prettyprint"><span class="pln">uint8_t comboptr_val </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln"><br>uint8_t comboptr_cnt </span><span class="pun">=</span><span class="pln"> </span><span class="lit">3</span><span class="pun">;</span><span class="pln"><br><br></span><span class="com">/* use same procedure as above */</span><span class="pln"><br><br>M2_COMBOPTR</span><span class="pun">(</span><span class="pln">el_comboptr</span><span class="pun">,</span><span class="pln"> NULL</span><span class="pun">,</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">comboptr_val</span><span class="pun">,</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">comboptr_cnt</span><span class="pun">,</span><span class="pln"> fn_idx_to_color</span><span class="pun">);</span><span class="pln"><br>M2_ALIGN</span><span class="pun">(</span><span class="pln">top_el_comboptr_menu</span><span class="pun">,</span><span class="pln"> </span><span class="str">"W64H64"</span><span class="pun">,</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">el_comboptr</span><span class="pun">);</span></pre></ul><ul><li>Example 3: Use of <tt>COMBOFN</tt> </li><pre class="prettyprint"><span class="pln">uint8_t combofn_color </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln"><br><br></span><span class="kwd">const</span><span class="pln"> </span><span class="kwd">char</span><span class="pln"> </span><span class="pun">*</span><span class="pln">combofn_color_cb</span><span class="pun">(</span><span class="pln">m2_rom_void_p element</span><span class="pun">,</span><span class="pln"> uint8_t msg</span><span class="pun">,</span><span class="pln"> uint8_t </span><span class="pun">*</span><span class="pln">valptr</span><span class="pun">)</span><span class="pln"><br></span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">switch</span><span class="pun">(</span><span class="pln">msg</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">case</span><span class="pln"> M2_COMBOFN_MSG_GET_VALUE</span><span class="pun">:</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">*</span><span class="pln">valptr </span><span class="pun">=</span><span class="pln"> combofn_color</span><span class="pun">;</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">break</span><span class="pun">;</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">case</span><span class="pln"> M2_COMBOFN_MSG_SET_VALUE</span><span class="pun">:</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; combofn_color </span><span class="pun">=</span><span class="pln"> </span><span class="pun">*</span><span class="pln">valptr</span><span class="pun">;</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">break</span><span class="pun">;</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">case</span><span class="pln"> M2_COMBOFN_MSG_GET_STRING</span><span class="pun">:</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln"> </span><span class="pun">*</span><span class="pln">valptr </span><span class="pun">==</span><span class="pln"> </span><span class="lit">0</span><span class="pln"> </span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">return</span><span class="pln"> </span><span class="str">"orange"</span><span class="pun">;</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">else</span><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(*</span><span class="pln">valptr </span><span class="pun">==</span><span class="pln"> </span><span class="lit">1</span><span class="pln"> </span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">return</span><span class="pln"> </span><span class="str">"yellow"</span><span class="pun">;</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">return</span><span class="pln"> </span><span class="str">"cyan"</span><span class="pun">;</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">return</span><span class="pln"> NULL</span><span class="pun">;</span><span class="pln"><br></span><span class="pun">}</span><span class="pln"><br><br>M2_COMBOFN</span><span class="pun">(</span><span class="pln">el_combofn1</span><span class="pun">,</span><span class="pln"> NULL</span><span class="pun">,</span><span class="pln"> </span><span class="lit">3</span><span class="pun">,</span><span class="pln"> combofn_color_cb</span><span class="pun">);</span></pre></ul><h2><a name="GRIDLIST"></a>GRIDLIST<a href="https://code.google.com/p/m2tklib/wiki/elref#GRIDLIST" class="section_anchor"></a></h2><ul><li>Prototype </li><pre class="prettyprint"><span class="pln">M2_GRIDLIST</span><span class="pun">(</span><span class="pln">el</span><span class="pun">,</span><span class="pln">fmt</span><span class="pun">,</span><span class="pln">list</span><span class="pun">)</span></pre><li>Forward Declaration </li><pre class="prettyprint"><span class="pln">M2_EXTERN_GRIDLIST</span><span class="pun">(</span><span class="pln">el</span><span class="pun">)</span></pre><li>Description </li><blockquote><tt>GRIDLIST</tt> is a container element. All sub-elements are displayed as cells of a table. The table has a fixed number of columns (provided with option <tt>c</tt>). With 5 elements in the list and 2 columns, the layout will be: 
</blockquote></ul><blockquote><table class="wikitable"><tbody><tr><td style="border: 1px solid #ccc; padding: 5px;"> 1 </td><td style="border: 1px solid #ccc; padding: 5px;"> 2 </td></tr> </tbody></table>
<table class="wikitable"><tbody><tr><td style="border: 1px solid #ccc; padding: 5px;"> 3 </td><td style="border: 1px solid #ccc; padding: 5px;"> 4 </td></tr> </tbody></table>
<table class="wikitable"><tbody><tr><td style="border: 1px solid #ccc; padding: 5px;"> 5 </td><td style="border: 1px solid #ccc; padding: 5px;">   </td></tr> </tbody></table>
</blockquote><blockquote>The null element <tt>m2_null_element</tt> can be used to display nothing at a certain position. The elements have center left alignment.   
</blockquote><ul><li>Arguments </li><ul><li><tt>el</tt>: Name of the element. </li><li><tt>fmt</tt>: Pointer (<tt>const char *</tt>) to the format string. </li><li><tt>list</tt>: A list, defined with <tt>M2_LIST</tt>. Do <strong>NOT</strong> use '&amp;' on the list argument. </li></ul><li>Format Options </li><ul><li><tt>x</tt>, <tt>y</tt>: Position of the element, if the parent element is a XYLIST.  </li><li><tt>c</tt>: Number of columns of the table </li></ul><li>Example: See <a href="https://code.google.com/p/m2tklib/wiki/elref#RADIO">RADIO</a>  </li></ul><h2><a name="HLIST"></a>HLIST<a href="https://code.google.com/p/m2tklib/wiki/elref#HLIST" class="section_anchor"></a></h2><ul><li>Prototype </li><pre class="prettyprint"><span class="pln">M2_HLIST</span><span class="pun">(</span><span class="pln">el</span><span class="pun">,</span><span class="pln">fmt</span><span class="pun">,</span><span class="pln">list</span><span class="pun">)</span></pre><li>Forward Declaration </li><pre class="prettyprint"><span class="pln">M2_EXTERN_HLIST</span><span class="pun">(</span><span class="pln">el</span><span class="pun">)</span></pre><li>Description </li><blockquote><tt>HLIST</tt> is a container element. All sub-elements are put in one row from left to right.  
</blockquote><li>Arguments </li><ul><li><tt>el</tt>: Name of the element. </li><li><tt>fmt</tt>: Pointer (<tt>const char *</tt>) to the format string. </li><li><tt>list</tt>: A list, defined with <tt>M2_LIST</tt>. Do <strong>NOT</strong> use '&amp;' on the list argument. </li></ul><li>Format Options </li><ul><li><tt>r</tt>: <tt>r1</tt> read-only field, default is <tt>r0</tt> (v1.01 and above) </li><li><tt>x</tt>, <tt>y</tt>: Position of the element, if the parent element is a <a href="https://code.google.com/p/m2tklib/wiki/elref#XYLIST">XYLIST</a>.  </li></ul><li>Example: See also <a href="https://code.google.com/p/m2tklib/wiki/elref#U32NUM">U32NUM</a> </li><pre class="prettyprint"><span class="pln">M2_LABEL</span><span class="pun">(</span><span class="pln">el_label</span><span class="pun">,</span><span class="pln"> NULL</span><span class="pun">,</span><span class="pln"> </span><span class="str">"Num: "</span><span class="pun">);</span><span class="pln"><br>M2_U32NUM</span><span class="pun">(</span><span class="pln">el_text</span><span class="pun">,</span><span class="pln"> </span><span class="str">"a1c4"</span><span class="pun">,</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">number</span><span class="pun">);</span><span class="pln"><br>M2_BUTTON</span><span class="pun">(</span><span class="pln">el_ok</span><span class="pun">,</span><span class="pln"> </span><span class="str">""</span><span class="pun">,</span><span class="pln"> </span><span class="str">" ok "</span><span class="pun">,</span><span class="pln"> fn_ok</span><span class="pun">);</span><span class="pln"><br>M2_LIST</span><span class="pun">(</span><span class="pln">list</span><span class="pun">)</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">el_label</span><span class="pun">,</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">el_text</span><span class="pun">,</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">el_ok </span><span class="pun">};</span><span class="pln"><br>M2_HLIST</span><span class="pun">(</span><span class="pln">list_element</span><span class="pun">,</span><span class="pln"> NULL</span><span class="pun">,</span><span class="pln"> list</span><span class="pun">);</span></pre></ul><h2><a name="INFO"></a>INFO<a href="https://code.google.com/p/m2tklib/wiki/elref#INFO" class="section_anchor"></a></h2><ul><li>Prototype </li><pre class="prettyprint"><span class="pln">M2_INFO</span><span class="pun">(</span><span class="pln">el</span><span class="pun">,</span><span class="pln">fmt</span><span class="pun">,</span><span class="pln">first</span><span class="pun">,</span><span class="pln">cnt</span><span class="pun">,</span><span class="pln">str</span><span class="pun">,</span><span class="pln">fn</span><span class="pun">)</span><span class="pln"><br>M2_INFOP</span><span class="pun">(</span><span class="pln">el</span><span class="pun">,</span><span class="pln">fmt</span><span class="pun">,</span><span class="pln">first</span><span class="pun">,</span><span class="pln">cnt</span><span class="pun">,</span><span class="pln">strp</span><span class="pun">,</span><span class="pln">fn</span><span class="pun">)</span></pre><li>Forward Declaration </li><pre class="prettyprint"><span class="pln">M2_EXTERN_INFO</span><span class="pun">(</span><span class="pln">el</span><span class="pun">)</span><span class="pln"><br>M2_EXTERN_INFOP</span><span class="pun">(</span><span class="pln">el</span><span class="pun">)</span></pre><li>Available: v1.03 </li><li>Description </li><blockquote>INFO displays a string with up to 254 lines, each line with up to 40 characters. INFO works similar to <a href="https://code.google.com/p/m2tklib/wiki/elref#STRLIST">STRLIST</a>, however INFO assigns the calculated number of lines to <tt>cnt</tt>. 
</blockquote><li>Arguments </li><ul><li><tt>el</tt>: Name of the element. </li><li><tt>fmt</tt>: Pointer (<tt>const char *</tt>) to the format string. </li><li><tt>first</tt>: Pointer to uint8_t, which contains the index number of the first line which is visible (range is from 0 to <tt>cnt</tt> - l).  </li><li><tt>cnt</tt>: Pointer to the calculated number of lines (Pointer to uint8_t). </li><li><tt>str</tt>: Address of a string inside RAM. </li><li><tt>strp</tt>: Address of a string in the PROGMEM area. </li><li><tt>fn</tt>: Callback procedure (will be called if the user selects a line).  </li><pre class="prettyprint"><span class="kwd">void</span><span class="pln"> fn</span><span class="pun">(</span><span class="pln">m2_el_fnarg_p fnarg</span><span class="pun">)</span></pre></ul><li>Format Options </li><ul><li><tt>w</tt>: Width, value is interpreted as number of pixels. </li><li><tt>W</tt>: Value is relative width according to the total width of the display (W64 = total display width, W32 = half display width, ...) </li><li><tt>f</tt>: Font </li><li><tt>l</tt>: Number of visible lines (required). </li><li><tt>x</tt>, <tt>y</tt>: Position of the element, if the parent element is a <a href="https://code.google.com/p/m2tklib/wiki/elref#XYLIST">XYLIST</a>.  </li></ul><li>Note: One of <tt>w</tt> or <tt>W</tt> is required. </li><li>Example </li><pre class="prettyprint"><span class="pln">uint8_t total_lines1 </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln"><br>uint8_t first_visible_line1 </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln"><br><br></span><span class="kwd">void</span><span class="pln"> goto_top_fn</span><span class="pun">(</span><span class="pln">m2_el_fnarg_p fnarg</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; m2</span><span class="pun">.</span><span class="pln">setRoot</span><span class="pun">(&amp;</span><span class="pln">el_top</span><span class="pun">);</span><span class="pln"><br></span><span class="pun">}</span><span class="pln"><br><br>M2_INFOP</span><span class="pun">(</span><span class="pln">el_info1</span><span class="pun">,</span><span class="pln"> </span><span class="str">"W60l"</span><span class="pln"> LINES</span><span class="pun">,</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">first_visible_line1</span><span class="pun">,</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">total_lines1</span><span class="pun">,</span><span class="pln"> part1</span><span class="pun">,</span><span class="pln"> goto_top_fn</span><span class="pun">);</span><span class="pln"><br>M2_VSB</span><span class="pun">(</span><span class="pln">el_vsb1</span><span class="pun">,</span><span class="pln"> </span><span class="str">"W2r1l"</span><span class="pln"> LINES</span><span class="pun">,</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">first_visible_line1</span><span class="pun">,</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">total_lines1</span><span class="pun">);</span><span class="pln"><br>M2_LIST</span><span class="pun">(</span><span class="pln">el_list1</span><span class="pun">)</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">el_info1</span><span class="pun">,</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">el_vsb1</span><span class="pun">};</span><span class="pln"><br>M2_HLIST</span><span class="pun">(</span><span class="pln">el_part1</span><span class="pun">,</span><span class="pln"> NULL</span><span class="pun">,</span><span class="pln"> el_list1</span><span class="pun">);</span></pre><li>Picture: INFO element on a DOGS102 Display (see also the <a href="https://code.google.com/p/m2tklib/wiki/elref#VSB">VSB Element</a>) </li></ul><blockquote><img src="./elref - m2tklib - Element (Widget) Reference - Mini Interative Interface Toolkit Library - Google Project Hosting_files/dogs102_rapunzel.jpg"> 
</blockquote><h2><a name="LABEL"></a>LABEL<a href="https://code.google.com/p/m2tklib/wiki/elref#LABEL" class="section_anchor"></a></h2><h2><a name="LABELFN"></a>LABELFN<a href="https://code.google.com/p/m2tklib/wiki/elref#LABELFN" class="section_anchor"></a></h2><h2><a name="LABELP"></a>LABELP<a href="https://code.google.com/p/m2tklib/wiki/elref#LABELP" class="section_anchor"></a></h2><h2><a name="LABELPTR"></a>LABELPTR<a href="https://code.google.com/p/m2tklib/wiki/elref#LABELPTR" class="section_anchor"></a></h2><ul><li>Prototype </li><pre class="prettyprint"><span class="pln">M2_LABEL</span><span class="pun">(</span><span class="pln">el</span><span class="pun">,</span><span class="pln">fmt</span><span class="pun">,</span><span class="pln">str</span><span class="pun">)</span><span class="pln"><br>M2_LABELFN</span><span class="pun">(</span><span class="pln">el</span><span class="pun">,</span><span class="pln">fmt</span><span class="pun">,</span><span class="pln">labelcb</span><span class="pun">)</span><span class="pln"><br>M2_LABELP</span><span class="pun">(</span><span class="pln">el</span><span class="pun">,</span><span class="pln">fmt</span><span class="pun">,</span><span class="pln">strp</span><span class="pun">)</span><span class="pln"><br>M2_LABELPTR</span><span class="pun">(</span><span class="pln">el</span><span class="pun">,</span><span class="pln">fmt</span><span class="pun">,</span><span class="pln">strptr</span><span class="pun">)</span></pre><li>Forward Declaration </li><pre class="prettyprint"><span class="pln">M2_EXTERN_LABEL</span><span class="pun">(</span><span class="pln">el</span><span class="pun">)</span><span class="pln"><br>M2_EXTERN_LABELFN</span><span class="pun">(</span><span class="pln">el</span><span class="pun">)</span><span class="pln"><br>M2_EXTERN_LABELP</span><span class="pun">(</span><span class="pln">el</span><span class="pun">)</span><span class="pln"><br>M2_EXTERN_LABELPTR</span><span class="pun">(</span><span class="pln">el</span><span class="pun">)</span></pre><li>Available: LABELPTR v1.03, LABELFN v1.05, Option 'b' v1.08 </li><li>Description </li><blockquote>This element puts a read only text on the screen.  
</blockquote><li>Arguments </li><ul><li><tt>el</tt>: Name of the element. </li><li><tt>fmt</tt>: Pointer (<tt>const char *</tt>) to the format string. </li><li><tt>str</tt>: This string will be displayed on the screen. </li><li><tt>strp</tt>: This string (PROGMEM) will be displayed on the screen. </li><li><tt>strptr</tt>: A Pointer to a string. The string will be displayed on the screen. </li><li><tt>labelcb</tt>: Callback procedure: The returned string will be displayed. </li><pre class="prettyprint"><span class="kwd">const</span><span class="pln"> </span><span class="kwd">char</span><span class="pln"> </span><span class="pun">*</span><span class="pln">labelcb</span><span class="pun">(</span><span class="pln">m2_rom_void_p element</span><span class="pun">)</span></pre></ul><li>Format Options </li><ul><li><tt>b</tt>: no border ("b0") or additional space at top and bottom ("b1") </li><li><tt>f</tt>: Select a font, default is <tt>f0</tt> </li><li><tt>x</tt>, <tt>y</tt>: Position of the element, if the parent element is a <a href="https://code.google.com/p/m2tklib/wiki/elref#XYLIST">XYLIST</a>.  </li><li><tt>w</tt>: Width. Default: Width of the string.  </li><li><tt>h</tt>: Height. Default: Height of the selected font.  </li></ul><li>Example 1: </li><pre class="prettyprint"><span class="com">#include</span><span class="pln"> </span><span class="str">"Dogm.h"</span><span class="pln"><br></span><span class="com">#include</span><span class="pln"> </span><span class="str">"M2tk.h"</span><span class="pln"><br></span><span class="com">#include</span><span class="pln"> </span><span class="str">"m2ghdogm.h"</span><span class="pln"><br><br></span><span class="kwd">int</span><span class="pln"> a0Pin </span><span class="pun">=</span><span class="pln"> </span><span class="lit">9</span><span class="pun">;</span><span class="pln"><br></span><span class="typ">Dogm</span><span class="pln"> dogm</span><span class="pun">(</span><span class="pln">a0Pin</span><span class="pun">);</span><span class="pln"><br><br>M2_LABEL</span><span class="pun">(</span><span class="pln">hello_world_label</span><span class="pun">,</span><span class="pln"> NULL</span><span class="pun">,</span><span class="pln"> </span><span class="str">"Hello World"</span><span class="pun">);</span><span class="pln"><br>M2tk m2</span><span class="pun">(&amp;</span><span class="pln">hello_world_label</span><span class="pun">,</span><span class="pln"> NULL</span><span class="pun">,</span><span class="pln"> NULL</span><span class="pun">,</span><span class="pln"> m2_gh_dogm_fbs</span><span class="pun">);</span><span class="pln"><br><br></span><span class="kwd">void</span><span class="pln"> setup</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; m2</span><span class="pun">.</span><span class="pln">setFont</span><span class="pun">(</span><span class="lit">0</span><span class="pun">,</span><span class="pln"> font_7x13</span><span class="pun">);</span><span class="pln"><br></span><span class="pun">}</span><span class="pln"><br><br></span><span class="kwd">void</span><span class="pln"> loop</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; dogm</span><span class="pun">.</span><span class="pln">start</span><span class="pun">();</span><span class="pln"><br>&nbsp; </span><span class="kwd">do</span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; m2</span><span class="pun">.</span><span class="pln">draw</span><span class="pun">();</span><span class="pln"><br>&nbsp; </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">while</span><span class="pun">(</span><span class="pln"> dogm</span><span class="pun">.</span><span class="kwd">next</span><span class="pun">()</span><span class="pln"> </span><span class="pun">);</span><span class="pln"><br></span><span class="pun">}</span></pre></ul><blockquote>LABELPTR requires a pointer variable. The address of this pointer variable is passed to LABELPTR: 
<pre class="prettyprint"><span class="kwd">char</span><span class="pln"> </span><span class="pun">*</span><span class="pln">str </span><span class="pun">=</span><span class="pln"> </span><span class="str">"text"</span><span class="pun">;</span><span class="pln"><br>M2_LABELPTR</span><span class="pun">(</span><span class="pln">el_labelptr</span><span class="pun">,</span><span class="pln"> NULL</span><span class="pun">,</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">str</span><span class="pun">);</span></pre></blockquote><blockquote>LABELFN requires a callback procedre. The returned value of this procedure must be a pointer to a string. This string is used as a label text. 
<pre class="prettyprint"><span class="kwd">const</span><span class="pln"> </span><span class="kwd">char</span><span class="pln"> </span><span class="pun">*</span><span class="pln">label_cb</span><span class="pun">(</span><span class="pln">m2_rom_void_p element</span><span class="pun">)</span><span class="pln"><br></span><span class="pun">{</span><span class="pln"> &nbsp;<br>&nbsp; </span><span class="kwd">static</span><span class="pln"> </span><span class="kwd">const</span><span class="pln"> </span><span class="kwd">char</span><span class="pln"> s</span><span class="pun">[]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="str">"label"</span><span class="pun">;</span><span class="pln"><br>&nbsp; </span><span class="kwd">return</span><span class="pln"> s</span><span class="pun">;</span><span class="pln"><br></span><span class="pun">}</span><span class="pln"><br><br>M2_LABELFN</span><span class="pun">(</span><span class="pln">el_labefn</span><span class="pun">,</span><span class="pln"> NULL</span><span class="pun">,</span><span class="pln"> label_cb</span><span class="pun">);</span></pre></blockquote><ul><li>Example 2: </li><blockquote>This example demonstrates the effect of the "b1" option (m2tklib v1.08).  The first dot of the following "date entry" dialog is correct ("b1"). The second dot has the default "b0" option and is drawn below the baseline. 
</blockquote></ul><p>   </p><blockquote><img src="./elref - m2tklib - Element (Widget) Reference - Mini Interative Interface Toolkit Library - Google Project Hosting_files/u8g_date_b1_b0.png"> 
</blockquote>  <p></p><pre class="prettyprint"><span class="pln">uint8_t dt_day </span><span class="pun">=</span><span class="pln"> </span><span class="lit">1</span><span class="pun">;</span><span class="pln"><br>uint8_t dt_month </span><span class="pun">=</span><span class="pln"> </span><span class="lit">1</span><span class="pun">;</span><span class="pln"><br>uint8_t dt_year </span><span class="pun">=</span><span class="pln"> </span><span class="lit">12</span><span class="pun">;</span><span class="pln"><br><br></span><span class="kwd">void</span><span class="pln"> dt_ok_fn</span><span class="pun">(</span><span class="pln">m2_el_fnarg_p fnarg</span><span class="pun">)</span><span class="pln"> &nbsp;</span><span class="pun">{</span><span class="pln"><br>&nbsp; m2_SetRoot</span><span class="pun">(&amp;</span><span class="pln">top_el_tlsm</span><span class="pun">);</span><span class="pln"><br></span><span class="pun">}</span><span class="pln"><br><br>M2_U8NUM</span><span class="pun">(</span><span class="pln">el_dt_day</span><span class="pun">,</span><span class="pln"> </span><span class="str">"c2"</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1</span><span class="pun">,</span><span class="lit">31</span><span class="pun">,&amp;</span><span class="pln">dt_day</span><span class="pun">);</span><span class="pln"><br>M2_LABEL</span><span class="pun">(</span><span class="pln">el_dt_sep1</span><span class="pun">,</span><span class="pln"> </span><span class="str">"b1"</span><span class="pun">,</span><span class="pln"> </span><span class="str">"."</span><span class="pun">);</span><span class="pln"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="com">// dot is drawn on the baseline</span><span class="pln"><br>M2_U8NUM</span><span class="pun">(</span><span class="pln">el_dt_month</span><span class="pun">,</span><span class="pln"> </span><span class="str">"c2"</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1</span><span class="pun">,</span><span class="lit">12</span><span class="pun">,&amp;</span><span class="pln">dt_month</span><span class="pun">);</span><span class="pln"><br>M2_LABEL</span><span class="pun">(</span><span class="pln">el_dt_sep2</span><span class="pun">,</span><span class="pln"> </span><span class="str">"b0"</span><span class="pun">,</span><span class="pln"> </span><span class="str">"."</span><span class="pun">);</span><span class="pln"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="com">// dot will be too low </span><span class="pln"><br>M2_U8NUM</span><span class="pun">(</span><span class="pln">el_dt_year</span><span class="pun">,</span><span class="pln"> </span><span class="str">"c2"</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="lit">99</span><span class="pun">,&amp;</span><span class="pln">dt_year</span><span class="pun">);</span><span class="pln"><br><br>M2_LIST</span><span class="pun">(</span><span class="pln">list_date</span><span class="pun">)</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">el_dt_day</span><span class="pun">,</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">el_dt_sep1</span><span class="pun">,</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">el_dt_month</span><span class="pun">,</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">el_dt_sep2</span><span class="pun">,</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">el_dt_year </span><span class="pun">};</span><span class="pln"><br>M2_HLIST</span><span class="pun">(</span><span class="pln">el_date</span><span class="pun">,</span><span class="pln"> NULL</span><span class="pun">,</span><span class="pln"> list_date</span><span class="pun">);</span><span class="pln"><br><br>M2_ROOT</span><span class="pun">(</span><span class="pln">el_dt_cancel</span><span class="pun">,</span><span class="pln"> NULL</span><span class="pun">,</span><span class="pln"> </span><span class="str">"cancel"</span><span class="pun">,</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">top_el_tlsm</span><span class="pun">);</span><span class="pln"><br>M2_BUTTON</span><span class="pun">(</span><span class="pln">el_dt_ok</span><span class="pun">,</span><span class="pln"> NULL</span><span class="pun">,</span><span class="pln"> </span><span class="str">"ok"</span><span class="pun">,</span><span class="pln"> dt_ok_fn</span><span class="pun">);</span><span class="pln"><br>M2_LIST</span><span class="pun">(</span><span class="pln">list_dt_buttons</span><span class="pun">)</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{&amp;</span><span class="pln">el_dt_cancel</span><span class="pun">,</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">el_dt_ok </span><span class="pun">};</span><span class="pln"><br>M2_HLIST</span><span class="pun">(</span><span class="pln">el_dt_buttons</span><span class="pun">,</span><span class="pln"> NULL</span><span class="pun">,</span><span class="pln"> list_dt_buttons</span><span class="pun">);</span><span class="pln"><br><br>M2_LIST</span><span class="pun">(</span><span class="pln">list_dt</span><span class="pun">)</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{&amp;</span><span class="pln">el_date</span><span class="pun">,</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">el_dt_buttons </span><span class="pun">};</span><span class="pln"><br>M2_VLIST</span><span class="pun">(</span><span class="pln">el_top_dt</span><span class="pun">,</span><span class="pln"> NULL</span><span class="pun">,</span><span class="pln"> list_dt</span><span class="pun">);</span></pre><h2><a name="RADIO"></a>RADIO<a href="https://code.google.com/p/m2tklib/wiki/elref#RADIO" class="section_anchor"></a></h2><ul><li>Prototype </li><pre class="prettyprint"><span class="pln">M2_RADIO</span><span class="pun">(</span><span class="pln">el</span><span class="pun">,</span><span class="pln">fmt</span><span class="pun">,</span><span class="pln">variable</span><span class="pun">)</span></pre><li>Forward Declaration </li><pre class="prettyprint"><span class="pln">M2_EXTERN_RADIO</span><span class="pun">(</span><span class="pln">el</span><span class="pun">)</span></pre><li>Description </li><blockquote>This element allows to select an element. All element refer to the same <tt>variable</tt>. If the RADIO element receives a M2_KEY_SELECT message, the value from the format option <tt>v</tt> is assigned to the variable. This element does not output any text. Instead an icon will be displayed.  
</blockquote><li>Arguments </li><ul><li><tt>el</tt>: Name of the element. </li><li><tt>fmt</tt>: Pointer (<tt>const char *</tt>) to the format string. </li><li><tt>variable</tt>: Address of a variable. </li></ul><li>Format Options </li><ul><li><tt>f</tt>: Select a font. This might have an effect on the icon size. </li><li><tt>r</tt>: <tt>r1</tt> read-only field, default is <tt>r0</tt> (v1.01 and above) </li><li><tt>v</tt>: Value </li><li><tt>x</tt>, <tt>y</tt>: Position of the element, if the parent element is a <a href="https://code.google.com/p/m2tklib/wiki/elref#XYLIST">XYLIST</a>.  </li></ul><li>Picture </li></ul><blockquote>Arduino Hardware with KS0066 16x4 LCD 
</blockquote><blockquote><img src="./elref - m2tklib - Element (Widget) Reference - Mini Interative Interface Toolkit Library - Google Project Hosting_files/Radio.jpg"> 
</blockquote><ul><li>Example: The value of variable <tt>select_color</tt> is changed by the Menu. The default value of the variable should match one of the possible selections. </li><pre class="prettyprint"><span class="pln">uint8_t select_color </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln"><br><br></span><span class="kwd">void</span><span class="pln"> fn_ok</span><span class="pun">(</span><span class="pln">m2_el_fnarg_p fnarg</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; </span><span class="com">/* accept selection */</span><span class="pln"><br></span><span class="pun">}</span><span class="pln"><br><br></span><span class="kwd">void</span><span class="pln"> fn_cancel</span><span class="pun">(</span><span class="pln">m2_el_fnarg_p fnarg</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; </span><span class="com">/* discard selection */</span><span class="pln"><br></span><span class="pun">}</span><span class="pln"><br><br>M2_LABEL</span><span class="pun">(</span><span class="pln">el_label1</span><span class="pun">,</span><span class="pln"> NULL</span><span class="pun">,</span><span class="pln"> </span><span class="str">"red"</span><span class="pun">);</span><span class="pln"><br>M2_RADIO</span><span class="pun">(</span><span class="pln">el_radio1</span><span class="pun">,</span><span class="pln"> </span><span class="str">"v0"</span><span class="pun">,</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">select_color</span><span class="pun">);</span><span class="pln"><br><br>M2_LABEL</span><span class="pun">(</span><span class="pln">el_label2</span><span class="pun">,</span><span class="pln"> NULL</span><span class="pun">,</span><span class="pln"> </span><span class="str">"green"</span><span class="pun">);</span><span class="pln"><br>M2_RADIO</span><span class="pun">(</span><span class="pln">el_radio2</span><span class="pun">,</span><span class="pln"> </span><span class="str">"v1"</span><span class="pun">,</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">select_color</span><span class="pun">);</span><span class="pln"><br><br>M2_LABEL</span><span class="pun">(</span><span class="pln">el_label3</span><span class="pun">,</span><span class="pln"> NULL</span><span class="pun">,</span><span class="pln"> </span><span class="str">"blue"</span><span class="pun">);</span><span class="pln"><br>M2_RADIO</span><span class="pun">(</span><span class="pln">el_radio3</span><span class="pun">,</span><span class="pln"> </span><span class="str">"v2"</span><span class="pun">,</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">select_color</span><span class="pun">);</span><span class="pln"><br><br>M2_BUTTON</span><span class="pun">(</span><span class="pln">el_cancel</span><span class="pun">,</span><span class="pln"> NULL</span><span class="pun">,</span><span class="pln"> </span><span class="str">"cancel"</span><span class="pun">,</span><span class="pln"> fn_cancel</span><span class="pun">);</span><span class="pln"><br>M2_BUTTON</span><span class="pun">(</span><span class="pln">el_ok</span><span class="pun">,</span><span class="pln"> NULL</span><span class="pun">,</span><span class="pln"> </span><span class="str">" ok "</span><span class="pun">,</span><span class="pln"> fn_ok</span><span class="pun">);</span><span class="pln"><br><br>M2_LIST</span><span class="pun">(</span><span class="pln">list</span><span class="pun">)</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> <br>&nbsp; &nbsp; </span><span class="pun">&amp;</span><span class="pln">el_label1</span><span class="pun">,</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">el_radio1</span><span class="pun">,</span><span class="pln"> <br>&nbsp; &nbsp; </span><span class="pun">&amp;</span><span class="pln">el_label2</span><span class="pun">,</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">el_radio2</span><span class="pun">,</span><span class="pln"> &nbsp;<br>&nbsp; &nbsp; </span><span class="pun">&amp;</span><span class="pln">el_label3</span><span class="pun">,</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">el_radio3</span><span class="pun">,</span><span class="pln"> <br>&nbsp; &nbsp; </span><span class="pun">&amp;</span><span class="pln">el_cancel</span><span class="pun">,</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">el_ok <br></span><span class="pun">};</span><span class="pln"><br>M2_GRIDLIST</span><span class="pun">(</span><span class="pln">list_element</span><span class="pun">,</span><span class="pln"> </span><span class="str">"c2"</span><span class="pun">,</span><span class="pln">list</span><span class="pun">);</span><span class="pln"><br>M2tk m2</span><span class="pun">(&amp;</span><span class="pln">list_element</span><span class="pun">,</span><span class="pln"> m2_es_arduino</span><span class="pun">,</span><span class="pln"> m2_eh_2bs</span><span class="pun">,</span><span class="pln"> m2_gh_dogm_fbs</span><span class="pun">);</span></pre></ul><h2><a name="ROOT"></a>ROOT<a href="https://code.google.com/p/m2tklib/wiki/elref#ROOT" class="section_anchor"></a></h2><ul><li>Prototype </li><pre class="prettyprint"><span class="pln">M2_ROOT</span><span class="pun">(</span><span class="pln">el</span><span class="pun">,</span><span class="pln">fmt</span><span class="pun">,</span><span class="pln">str</span><span class="pun">,</span><span class="pln">new_root_el</span><span class="pun">)</span></pre><li>Forward Declaration </li><pre class="prettyprint"><span class="pln">M2_EXTERN_ROOT</span><span class="pun">(</span><span class="pln">el</span><span class="pun">)</span></pre><li>Description </li><blockquote>This element puts <tt>str</tt> on the screen. This element can be activated. The new root element is assigned to m2tk, if this element receives the <tt>M2_KEY_SELECT</tt> message. 
</blockquote><li>Arguments </li><ul><li><tt>el</tt>: Name of the element. </li><li><tt>fmt</tt>: Pointer (<tt>const char *</tt>) to the format string. </li><li><tt>str</tt>: This string will be displayed on the screen. </li><li><tt>new_root_el</tt>: Element, which will be assigned as a new root. </li></ul><li>Format Options </li><ul><li><tt>f</tt>: Select a font, default is <tt>f0</tt> </li><li><tt>n</tt>: Change inital focus. Simulate <tt>n</tt> NEXT events. Default is 0 (first writable element) (Available with v1.09).  </li><li><tt>v</tt>: "Change root" value, will be the third argument to the "change root" callback procedure (change value, v1.09 and above). </li><li><tt>r</tt>: <tt>r1</tt> read-only field, default is <tt>r0</tt> (v1.01 and above) </li><li><tt>x</tt>, <tt>y</tt>: Position of the element, if the parent element is a <a href="https://code.google.com/p/m2tklib/wiki/elref#XYLIST">XYLIST</a>.  </li><li><tt>w</tt>: Width. Default: Width of the string.  </li><li><tt>h</tt>: Height. Default: Height of the selected font.  </li></ul><li>Example </li><ul><li><tt>setup()</tt> and <tt>loop()</tt> procedures are removed for this example. These procedures are identical the <a href="https://code.google.com/p/m2tklib/wiki/elref#BUTTON">BUTTON</a> example. </li><li>Two different methods are used to switch between menues: </li><ol><li>A <a href="https://code.google.com/p/m2tklib/wiki/elref#BUTTON">BUTTON</a> element with the <a href="https://code.google.com/p/m2tklib/wiki/fnref#setRoot">setRoot</a> function. </li><li>The <tt>ROOT</tt> element. </li></ol><li>This example also requires the forward declaration of the top-level elements <tt>el_list1</tt> and <tt>el_list2</tt>. </li><pre class="prettyprint"><span class="pln">M2_EXTERN_VLIST</span><span class="pun">(</span><span class="pln">el_list1</span><span class="pun">);</span><span class="pln"><br>M2_EXTERN_VLIST</span><span class="pun">(</span><span class="pln">el_list2</span><span class="pun">);</span><span class="pln"><br><br>M2tk m2</span><span class="pun">(&amp;</span><span class="pln">el_list1</span><span class="pun">,</span><span class="pln"> m2_es_arduino</span><span class="pun">,</span><span class="pln"> m2_eh_2bs</span><span class="pun">,</span><span class="pln"> m2_gh_dogm_fbs</span><span class="pun">);</span><span class="pln"><br><br></span><span class="kwd">void</span><span class="pln"> fn_ok1</span><span class="pun">(</span><span class="pln">m2_el_fnarg_p fnarg</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; m2</span><span class="pun">.</span><span class="pln">setRoot</span><span class="pun">(&amp;</span><span class="pln">el_list2</span><span class="pun">);</span><span class="pln"><br></span><span class="pun">}</span><span class="pln"><br><br>M2_LABEL</span><span class="pun">(</span><span class="pln">el_label1</span><span class="pun">,</span><span class="pln"> NULL</span><span class="pun">,</span><span class="pln"> </span><span class="str">"First Menu"</span><span class="pun">);</span><span class="pln"><br>M2_BUTTON</span><span class="pun">(</span><span class="pln">el_ok1</span><span class="pun">,</span><span class="pln"> NULL</span><span class="pun">,</span><span class="pln"> </span><span class="str">" Goto 2 "</span><span class="pun">,</span><span class="pln"> fn_ok1</span><span class="pun">);</span><span class="pln"><br>M2_LIST</span><span class="pun">(</span><span class="pln">list1</span><span class="pun">)</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">el_label1</span><span class="pun">,</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">el_ok1 </span><span class="pun">};</span><span class="pln"><br>M2_VLIST</span><span class="pun">(</span><span class="pln">el_list1</span><span class="pun">,</span><span class="pln"> NULL</span><span class="pun">,</span><span class="pln"> list1</span><span class="pun">);</span><span class="pln"><br><br>M2_LABEL</span><span class="pun">(</span><span class="pln">el_label2</span><span class="pun">,</span><span class="pln"> NULL</span><span class="pun">,</span><span class="pln"> </span><span class="str">"Second Menu"</span><span class="pun">);</span><span class="pln"><br>M2_ROOT</span><span class="pun">(</span><span class="pln">el_ok2</span><span class="pun">,</span><span class="pln"> NULL</span><span class="pun">,</span><span class="pln"> </span><span class="str">" Goto 1 "</span><span class="pun">,</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">el_list1</span><span class="pun">);</span><span class="pln"><br>M2_LIST</span><span class="pun">(</span><span class="pln">list2</span><span class="pun">)</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">el_label2</span><span class="pun">,</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">el_ok2 </span><span class="pun">};</span><span class="pln"><br>M2_VLIST</span><span class="pun">(</span><span class="pln">el_list2</span><span class="pun">,</span><span class="pln"> NULL</span><span class="pun">,</span><span class="pln"> list2</span><span class="pun">);</span></pre></ul></ul><h2><a name="S8NUM"></a>S8NUM<a href="https://code.google.com/p/m2tklib/wiki/elref#S8NUM" class="section_anchor"></a></h2><h2><a name="S8NUMFN"></a>S8NUMFN<a href="https://code.google.com/p/m2tklib/wiki/elref#S8NUMFN" class="section_anchor"></a></h2><ul><li>Prototype </li><pre class="prettyprint"><span class="pln">M2_S8NUM</span><span class="pun">(</span><span class="pln">el</span><span class="pun">,</span><span class="pln">fmt</span><span class="pun">,</span><span class="pln">min</span><span class="pun">,</span><span class="pln">max</span><span class="pun">,</span><span class="pln">number</span><span class="pun">)</span><span class="pln"><br>M2_S8NUMFN</span><span class="pun">(</span><span class="pln">el</span><span class="pun">,</span><span class="pln">fmt</span><span class="pun">,</span><span class="pln">min</span><span class="pun">,</span><span class="pln">max</span><span class="pun">,</span><span class="pln">s8numcb</span><span class="pun">)</span></pre><li>Forward Declaration </li><pre class="prettyprint"><span class="pln">M2_EXTERN_S8NUM</span><span class="pun">(</span><span class="pln">el</span><span class="pun">)</span><span class="pln"><br>M2_EXTERN_S8NUMFN</span><span class="pun">(</span><span class="pln">el</span><span class="pun">)</span></pre><li>Available: v1.10 </li><li>Description </li><blockquote>This element allows to enter a 8bit signed integer value.  
</blockquote><li>Arguments </li><ul><li><tt>el</tt>: Name of the element. </li><li><tt>fmt</tt>: Pointer (<tt>const char *</tt>) to the format string. </li><li><tt>min</tt>: Lowest possible value. </li><li><tt>max</tt>: Highest possible value. </li><li><tt>number</tt>: Pointer to a 8bit variable. </li><li><tt>s8numcb</tt>: Pointer to a callback procedure. </li><pre class="prettyprint"><span class="pln">int8_t s8numcb</span><span class="pun">(</span><span class="pln">m2_rom_void_p element</span><span class="pun">,</span><span class="pln"> uint8_t msg</span><span class="pun">,</span><span class="pln"> uint8_t val</span><span class="pun">);</span></pre></ul><li>Format Options </li><ul><li><tt>+</tt>: Visibility of the '+' sign (+0: prefix positive number with blank, +1: prefix positive numbers with '+', default is <tt>+0</tt>) </li><li><tt>c</tt>: Number of digits, e.g. "c2" allows numbers between "-99" and "+99". Note, that this setting must fit to the min and max value. </li><li><tt>f</tt>: Select a font, default is <tt>f0</tt> </li><li><tt>r</tt>: <tt>r1</tt> read-only field, default is <tt>r0</tt> (v1.01 and above). </li><li><tt>x</tt>, <tt>y</tt>: Position of the element, if the parent element is a <a href="https://code.google.com/p/m2tklib/wiki/elref#XYLIST">XYLIST</a>.  </li></ul><li>Callback Procedure </li></ul><blockquote>S8NUMFN requires a callback procedre.  
<ul><li><tt>msg == M2_U8_MSG_SET_VALUE</tt>: The new value (<tt>val</tt>) for the variable must be set. This message also indicates a change of the value. The return value is ignored. </li><li><tt>msg == M2_U8_MSG_GET_VALUE</tt>: The current value must be returned by the callback procedure. </li></ul>Example code: 
<pre class="prettyprint"><span class="pln">int8_t global_value </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln"><br>&nbsp;<br>int8_t s8_cb</span><span class="pun">(</span><span class="pln">m2_rom_void_p element</span><span class="pun">,</span><span class="pln"> uint8_t msg</span><span class="pun">,</span><span class="pln"> uint8_t val</span><span class="pun">)</span><span class="pln"><br></span><span class="pun">{</span><span class="pln"><br>&nbsp; </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln"> msg </span><span class="pun">==</span><span class="pln"> M2_U8_MSG_SET_VALUE </span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; global_value </span><span class="pun">=</span><span class="pln"> val</span><span class="pun">;</span><span class="pln"><br>&nbsp; </span><span class="kwd">return</span><span class="pln"> global_value</span><span class="pun">;</span><span class="pln"><br></span><span class="pun">}</span><span class="pln"><br><br>M2_S8NUMFN</span><span class="pun">(</span><span class="pln">el_u8_cb</span><span class="pun">,</span><span class="pln"> </span><span class="str">"+1"</span><span class="pun">,</span><span class="pln"> </span><span class="pun">-</span><span class="lit">10</span><span class="pun">,</span><span class="pln"> </span><span class="lit">20</span><span class="pun">,</span><span class="pln"> s8_cb</span><span class="pun">);</span></pre></blockquote><h2><a name="SPACE"></a>SPACE<a href="https://code.google.com/p/m2tklib/wiki/elref#SPACE" class="section_anchor"></a></h2><h2><a name="SPACECB"></a>SPACECB<a href="https://code.google.com/p/m2tklib/wiki/elref#SPACECB" class="section_anchor"></a></h2><ul><li>Prototype </li><pre class="prettyprint"><span class="pln">M2_SPACE</span><span class="pun">(</span><span class="pln">el</span><span class="pun">,</span><span class="pln">fmt</span><span class="pun">)</span><span class="pln"><br>M2_SPACECB</span><span class="pun">(</span><span class="pln">el</span><span class="pun">,</span><span class="pln">fmt</span><span class="pun">,</span><span class="pln">cb</span><span class="pun">)</span></pre><li>Forward Declaration </li><pre class="prettyprint"><span class="pln">M2_EXTERN_SPACE</span><span class="pun">(</span><span class="pln">el</span><span class="pun">)</span><span class="pln"><br>M2_EXTERN_SPACECB</span><span class="pun">(</span><span class="pln">el</span><span class="pun">)</span></pre><li>Available: v1.03, SPACECB: v1.10 </li><li>Description </li><blockquote>This element occupies some space on the display. The size of the element is defined by the 'w' and 'h' format option. The format option "w1h1" will define a box of 1 pixel (one character for character LCDs) width and height. This element can be used inside VLIST, HLIST or GRIDLIST to add an extra column or row with fixed size. 
The callback procedure "cb" is called, when the dialog is drawn for the first time on the screen. 
</blockquote><li>Arguments </li><ul><li><tt>el</tt>: Name of the element. </li><li><tt>fmt</tt>: Pointer (<tt>const char *</tt>) to the format string. </li><li><tt>cb</tt>: Callback procedure, called once, if this dialog appears on the display. Prototype: </li><pre class="prettyprint"><span class="pln">&nbsp; &nbsp; </span><span class="kwd">void</span><span class="pln"> fn_space_cb</span><span class="pun">(</span><span class="pln">m2_el_fnarg_p fnarg</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"> &nbsp;</span></pre></ul><li>Format Options </li><ul><li><tt>w</tt>: Width. </li><li><tt>h</tt>: Height </li></ul><li>Example: In the following example, the SPACE element is placed between the STRLIST element and the vertical scroll bar.  </li><pre class="prettyprint"><span class="pln">M2_STRLIST</span><span class="pun">(</span><span class="pln">el_strlist</span><span class="pun">,</span><span class="pln"> </span><span class="str">"l2w90"</span><span class="pun">,</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">el_strlist_first</span><span class="pun">,</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">el_strlist_cnt</span><span class="pun">,</span><span class="pln"> el_strlist_getstr</span><span class="pun">);</span><span class="pln"><br>M2_SPACE</span><span class="pun">(</span><span class="pln">el_space</span><span class="pun">,</span><span class="pln"> </span><span class="str">"w1h1"</span><span class="pun">);</span><span class="pln"><br>M2_VSB</span><span class="pun">(</span><span class="pln">el_strlist_vsb</span><span class="pun">,</span><span class="pln"> </span><span class="str">"l2w5r1"</span><span class="pun">,</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">el_strlist_first</span><span class="pun">,</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">el_strlist_cnt</span><span class="pun">);</span><span class="pln"><br>M2_LIST</span><span class="pun">(</span><span class="pln">list_strlist</span><span class="pun">)</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">el_strlist</span><span class="pun">,</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">el_space</span><span class="pun">,</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">el_strlist_vsb </span><span class="pun">};</span><span class="pln"><br>M2_HLIST</span><span class="pun">(</span><span class="pln">el_strlist_hlist</span><span class="pun">,</span><span class="pln"> NULL</span><span class="pun">,</span><span class="pln"> list_strlist</span><span class="pun">);</span></pre><li>Example 2: <tt>M2_SPACECB</tt> can be used as callback procedure for a <tt>2LMENU</tt>. </li><pre class="prettyprint"><span class="pln">M2_EXTERN_ALIGN</span><span class="pun">(</span><span class="pln">top_el_spacecb_menu</span><span class="pun">);</span><span class="pln"><br><br>uint8_t el_space_u8 </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln"><br><br></span><span class="kwd">void</span><span class="pln"> fn_space_cb_zero</span><span class="pun">(</span><span class="pln">m2_el_fnarg_p fnarg</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; el_space_u8 </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln"><br>&nbsp; m2_SetRootExtended</span><span class="pun">(&amp;</span><span class="pln">top_el_spacecb_menu</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">);</span><span class="pln"><br></span><span class="pun">}</span><span class="pln"><br><br></span><span class="kwd">void</span><span class="pln"> fn_space_cb_inc</span><span class="pun">(</span><span class="pln">m2_el_fnarg_p fnarg</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; puts</span><span class="pun">(</span><span class="str">"inc"</span><span class="pun">);</span><span class="pln"><br>&nbsp; el_space_u8</span><span class="pun">++;</span><span class="pln"><br>&nbsp; m2_SetRootExtended</span><span class="pun">(&amp;</span><span class="pln">top_el_spacecb_menu</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">);</span><span class="pln"><br></span><span class="pun">}</span><span class="pln"><br><br></span><span class="kwd">void</span><span class="pln"> fn_space_cb_dec</span><span class="pun">(</span><span class="pln">m2_el_fnarg_p fnarg</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; el_space_u8</span><span class="pun">--;</span><span class="pln"><br>&nbsp; m2_SetRootExtended</span><span class="pun">(&amp;</span><span class="pln">top_el_spacecb_menu</span><span class="pun">,</span><span class="pln"> </span><span class="lit">2</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">);</span><span class="pln"><br></span><span class="pun">}</span><span class="pln"><br><br>M2_SPACECB</span><span class="pun">(</span><span class="pln">el_space_cb_zero</span><span class="pun">,</span><span class="pln"> NULL</span><span class="pun">,</span><span class="pln"> fn_space_cb_zero</span><span class="pun">);</span><span class="pln"><br>M2_SPACECB</span><span class="pun">(</span><span class="pln">el_space_cb_inc</span><span class="pun">,</span><span class="pln"> NULL</span><span class="pun">,</span><span class="pln"> fn_space_cb_inc</span><span class="pun">);</span><span class="pln"><br>M2_SPACECB</span><span class="pun">(</span><span class="pln">el_space_cb_dec</span><span class="pun">,</span><span class="pln"> NULL</span><span class="pun">,</span><span class="pln"> fn_space_cb_dec</span><span class="pun">);</span><span class="pln"><br>m2_menu_entry space_cb_menu_data</span><span class="pun">[]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> &nbsp;</span><span class="pun">{</span><span class="pln"><br>&nbsp; </span><span class="pun">{</span><span class="pln"> </span><span class="str">"Zero"</span><span class="pun">,</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">el_space_cb_zero </span><span class="pun">},</span><span class="pln"><br>&nbsp; </span><span class="pun">{</span><span class="pln"> </span><span class="str">"Inc"</span><span class="pun">,</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">el_space_cb_inc </span><span class="pun">},</span><span class="pln"><br>&nbsp; </span><span class="pun">{</span><span class="pln"> </span><span class="str">"Dec"</span><span class="pun">,</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">el_space_cb_dec </span><span class="pun">},</span><span class="pln"><br>&nbsp; </span><span class="pun">{</span><span class="pln"> NULL</span><span class="pun">,</span><span class="pln"> NULL </span><span class="pun">},</span><span class="pln"><br></span><span class="pun">};</span><span class="pln"><br>uint8_t el_2lspace_first </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln"><br>uint8_t el_2lspace_cnt </span><span class="pun">=</span><span class="pln"> </span><span class="lit">3</span><span class="pun">;</span><span class="pln"><br>M2_U8NUM</span><span class="pun">(</span><span class="pln">el_2lspace_u8</span><span class="pun">,</span><span class="pln"> </span><span class="str">"r1c3"</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">255</span><span class="pun">,</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">el_space_u8</span><span class="pun">);</span><span class="pln"><br>M2_2LMENU</span><span class="pun">(</span><span class="pln">el_2lspace_strlist</span><span class="pun">,</span><span class="pln"> </span><span class="str">"l3e15F3W47"</span><span class="pun">,</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">el_2lspace_first</span><span class="pun">,</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">el_2lspace_cnt</span><span class="pun">,</span><span class="pln"> space_cb_menu_data</span><span class="pun">,</span><span class="pln"> </span><span class="lit">65</span><span class="pun">,</span><span class="pln"> </span><span class="lit">102</span><span class="pun">,</span><span class="pln"> </span><span class="str">'\0'</span><span class="pun">);</span><span class="pln"><br>M2_LIST</span><span class="pun">(</span><span class="pln">list_2lspace_strlist</span><span class="pun">)</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">el_2lspace_u8</span><span class="pun">,</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">el_2lspace_strlist </span><span class="pun">};</span><span class="pln"><br>M2_VLIST</span><span class="pun">(</span><span class="pln">el_2lspace_hlist</span><span class="pun">,</span><span class="pln"> NULL</span><span class="pun">,</span><span class="pln"> list_2lspace_strlist</span><span class="pun">);</span><span class="pln"><br>M2_ALIGN</span><span class="pun">(</span><span class="pln">top_el_spacecb_menu</span><span class="pun">,</span><span class="pln"> </span><span class="str">"-1|1W64H64"</span><span class="pun">,</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">el_2lspace_hlist</span><span class="pun">);</span></pre></ul><p>  </p><h2><a name="STRLIST"></a>STRLIST<a href="https://code.google.com/p/m2tklib/wiki/elref#STRLIST" class="section_anchor"></a></h2><ul><li>Prototype </li><pre class="prettyprint"><span class="pln">M2_STRLIST</span><span class="pun">(</span><span class="pln">el</span><span class="pun">,</span><span class="pln">fmt</span><span class="pun">,</span><span class="pln"> first</span><span class="pun">,</span><span class="pln"> cnt</span><span class="pun">,</span><span class="pln"> fn</span><span class="pun">)</span></pre><li>Forward Declaration </li><pre class="prettyprint"><span class="pln">M2_EXTERN_STRLIST</span><span class="pun">(</span><span class="pln">el</span><span class="pun">)</span></pre><li>Available: v1.03 </li><li>Description </li><blockquote>Displays up to 254 strings in a smaller box with one or more lines.  
This element expects a callback procedure (function pointer <tt>fn</tt>) which must return the string for given line number and will be informed if a line is selected: 
<pre class="prettyprint"><span class="kwd">const</span><span class="pln"> </span><span class="kwd">char</span><span class="pln"> </span><span class="pun">*</span><span class="pln">el_strlist_getstr</span><span class="pun">(</span><span class="pln">uint8_t idx</span><span class="pun">,</span><span class="pln"> uint8_t msg</span><span class="pun">)</span></pre>The message argument are: 
<ul><li>M2_STRLIST_MSG_GET_STR: Return string for the provided <tt>idx</tt>. </li><li>M2_STRLIST_MSG_SELECT: The user has selected the line with <tt>idx</tt>. </li><li>M2_STRLIST_MSG_GET_EXTENDED_STR (v1.08): String for the extra (prefix) column in line <tt>idx</tt> (Format option <tt>e</tt> or <tt>E</tt>). </li><li>M2_STRLIST_MSG_NEW_DIALOG (v1.08): First message to the callback procedure. The STRLIST element will be visible soon. This message can be used to setup the code for the callback procedure. </li></ul>The number of strings (<tt>cnt</tt>, up to 254) may change and is provided in a variable. The address of <tt>cnt</tt> must be passed to the element. STRLIST only reads the number of strings from <tt>cnt</tt>. <tt>cnt</tt> is not modified by the STRLIST element, but may be changed by other parts of the program at any time. 
Additionally STRLIST requires a variable to store the position of the first visible element (<tt>first</tt>). <tt>cnt</tt> and <tt>first</tt> can be shared with the scroll bar element. 
</blockquote><li>Arguments </li><ul><li><tt>el</tt>: Name of the element. </li><li><tt>fmt</tt>: Pointer (<tt>const char *</tt>) to the format string. </li><li><tt>first</tt>: Pointer to uint8_t, which contains the index number of the first string which is visible (range is from 0 to <tt>cnt</tt> - l).  </li><li><tt>cnt</tt>: Pointer to the total number of strings (Pointer to uint8_t). </li><li><tt>fn</tt>: Callback procedure. </li><pre class="prettyprint"><span class="kwd">const</span><span class="pln"> </span><span class="kwd">char</span><span class="pln"> </span><span class="pun">*</span><span class="pln">el_strlist_getstr</span><span class="pun">(</span><span class="pln">uint8_t idx</span><span class="pun">,</span><span class="pln"> uint8_t msg</span><span class="pun">)</span></pre></ul><li>Format Options </li><ul><li><tt>e</tt> / <tt>E</tt>: Pixel/char space of the first colunn / relative space of the first column. </li><li><tt>f</tt>: Font </li><li><tt>F</tt>: Font of the first (extra) column (Default: Same value as <tt>f</tt>). </li><li><tt>w</tt>: Width, value is interpreted as number of pixels. </li><li><tt>W</tt>: Value is relative width according to the total width of the display (W64 = total display width, W32 = half display width, ...) </li><li><tt>h</tt>: Height </li><li><tt>l</tt>: Number of visible lines (required). </li><li><tt>x</tt>, <tt>y</tt>: Position of the element, if the parent element is a <a href="https://code.google.com/p/m2tklib/wiki/elref#XYLIST">XYLIST</a>.  </li><li><tt>t</tt>: Enable touch screen support (available with v1.11) </li></ul><li>Note:  </li><ul><li>One of <tt>w</tt> or <tt>W</tt> is required. <tt>e</tt> or <tt>E</tt> will activate the additional first column. </li><li>The message <tt>M2_STRLIST_MSG_NEW_DIALOG</tt> is generated if this element or a parent of this element is assined to fnref#setRoot, the <a href="https://code.google.com/p/m2tklib/wiki/fnref#M2tk">constructor</a> or the <a href="https://code.google.com/p/m2tklib/wiki/fnref#M2tk">init procedure</a>. If the constructor sends <tt>M2_STRLIST_MSG_NEW_DIALOG</tt>, then the callback procedure can receive this message before the Arduino <tt>setup()</tt> is executed. </li></ul></ul><ul><li>Example  </li><pre class="prettyprint"><span class="kwd">const</span><span class="pln"> </span><span class="kwd">char</span><span class="pln"> </span><span class="pun">*</span><span class="pln">selected </span><span class="pun">=</span><span class="pln"> </span><span class="str">"Nothing"</span><span class="pun">;</span><span class="pln"><br></span><span class="kwd">const</span><span class="pln"> </span><span class="kwd">char</span><span class="pln"> </span><span class="pun">*</span><span class="pln">el_strlist_getstr</span><span class="pun">(</span><span class="pln">uint8_t idx</span><span class="pun">,</span><span class="pln"> uint8_t msg</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; </span><span class="kwd">const</span><span class="pln"> </span><span class="kwd">char</span><span class="pln"> </span><span class="pun">*</span><span class="pln">s </span><span class="pun">=</span><span class="pln"> </span><span class="str">""</span><span class="pun">;</span><span class="pln"><br>&nbsp; </span><span class="kwd">if</span><span class="pln"> &nbsp;</span><span class="pun">(</span><span class="pln"> idx </span><span class="pun">==</span><span class="pln"> </span><span class="lit">0</span><span class="pln"> </span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; s </span><span class="pun">=</span><span class="pln"> </span><span class="str">"Apple"</span><span class="pun">;</span><span class="pln"><br>&nbsp; </span><span class="kwd">else</span><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln"> idx </span><span class="pun">==</span><span class="pln"> </span><span class="lit">1</span><span class="pln"> </span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; s </span><span class="pun">=</span><span class="pln"> </span><span class="str">"Banana"</span><span class="pun">;</span><span class="pln"><br>&nbsp; </span><span class="kwd">else</span><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln"> idx </span><span class="pun">==</span><span class="pln"> </span><span class="lit">2</span><span class="pln"> </span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; s </span><span class="pun">=</span><span class="pln"> </span><span class="str">"Peach"</span><span class="pun">;</span><span class="pln"><br>&nbsp; </span><span class="kwd">else</span><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln"> idx </span><span class="pun">==</span><span class="pln"> </span><span class="lit">3</span><span class="pln"> </span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; s </span><span class="pun">=</span><span class="pln"> </span><span class="str">"Pumpkin"</span><span class="pun">;</span><span class="pln"><br>&nbsp; </span><span class="kwd">else</span><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln"> idx </span><span class="pun">==</span><span class="pln"> </span><span class="lit">4</span><span class="pln"> </span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; s </span><span class="pun">=</span><span class="pln"> </span><span class="str">"Corn"</span><span class="pun">;</span><span class="pln"><br>&nbsp; </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">msg </span><span class="pun">==</span><span class="pln"> M2_STRLIST_MSG_GET_STR</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="com">/* nothing else todo, return the correct string */</span><span class="pln"><br>&nbsp; </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">else</span><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln"> msg </span><span class="pun">==</span><span class="pln"> M2_STRLIST_MSG_SELECT </span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; selected </span><span class="pun">=</span><span class="pln"> s</span><span class="pun">;</span><span class="pln"><br>&nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; </span><span class="kwd">return</span><span class="pln"> s</span><span class="pun">;</span><span class="pln"><br></span><span class="pun">}</span><span class="pln"><br><br>uint8_t el_strlist_first </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln"><br>uint8_t el_strlist_cnt </span><span class="pun">=</span><span class="pln"> </span><span class="lit">5</span><span class="pun">;</span><span class="pln"><br><br>M2_STRLIST</span><span class="pun">(</span><span class="pln">el_strlist</span><span class="pun">,</span><span class="pln"> </span><span class="str">"l2w90"</span><span class="pun">,</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">el_strlist_first</span><span class="pun">,</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">el_strlist_cnt</span><span class="pun">,</span><span class="pln"> el_strlist_getstr</span><span class="pun">);</span><span class="pln"><br>M2_SPACE</span><span class="pun">(</span><span class="pln">el_space</span><span class="pun">,</span><span class="pln"> </span><span class="str">"w1h1"</span><span class="pun">);</span><span class="pln"><br>M2_VSB</span><span class="pun">(</span><span class="pln">el_strlist_vsb</span><span class="pun">,</span><span class="pln"> </span><span class="str">"l2w5r1"</span><span class="pun">,</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">el_strlist_first</span><span class="pun">,</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">el_strlist_cnt</span><span class="pun">);</span><span class="pln"><br>M2_LIST</span><span class="pun">(</span><span class="pln">list_strlist</span><span class="pun">)</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">el_strlist</span><span class="pun">,</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">el_space</span><span class="pun">,</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">el_strlist_vsb </span><span class="pun">};</span><span class="pln"><br>M2_HLIST</span><span class="pun">(</span><span class="pln">el_strlist_hlist</span><span class="pun">,</span><span class="pln"> NULL</span><span class="pun">,</span><span class="pln"> list_strlist</span><span class="pun">);</span><span class="pln"><br><br>M2_LABEL</span><span class="pun">(</span><span class="pln">el_label</span><span class="pun">,</span><span class="pln">NULL</span><span class="pun">,</span><span class="pln"> </span><span class="str">"Selected:"</span><span class="pun">);</span><span class="pln"><br>M2_LABELPTR</span><span class="pun">(</span><span class="pln">el_labelptr</span><span class="pun">,</span><span class="pln">NULL</span><span class="pun">,</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">selected</span><span class="pun">);</span><span class="pln"><br>M2_LIST</span><span class="pun">(</span><span class="pln">list_label</span><span class="pun">)</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">el_label</span><span class="pun">,</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">el_labelptr </span><span class="pun">};</span><span class="pln"><br>M2_HLIST</span><span class="pun">(</span><span class="pln">el_label_hlist</span><span class="pun">,</span><span class="pln"> NULL</span><span class="pun">,</span><span class="pln"> list_label</span><span class="pun">);</span><span class="pln"><br><br>M2_LIST</span><span class="pun">(</span><span class="pln">list</span><span class="pun">)</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">el_strlist_hlist</span><span class="pun">,</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">el_label_hlist </span><span class="pun">};</span><span class="pln"><br>M2_VLIST</span><span class="pun">(</span><span class="pln">el_vlist</span><span class="pun">,</span><span class="pln"> NULL</span><span class="pun">,</span><span class="pln"> list</span><span class="pun">);</span><span class="pln"><br>M2_ALIGN</span><span class="pun">(</span><span class="pln">top_el</span><span class="pun">,</span><span class="pln"> </span><span class="str">"-1|1W64H64"</span><span class="pun">,</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">el_vlist</span><span class="pun">);</span><span class="pln"><br><br>M2tk m2</span><span class="pun">(&amp;</span><span class="pln">top_el</span><span class="pun">,</span><span class="pln"> m2_es_arduino</span><span class="pun">,</span><span class="pln"> m2_eh_4bs</span><span class="pun">,</span><span class="pln"> m2_gh_glcd_ffs</span><span class="pun">);</span></pre></ul><blockquote>See also the <a href="https://code.google.com/p/m2tklib/wiki/fileselectbox">file selection box</a> for another example. The file selection box code pattern also uses the extra column (<tt>e</tt> / <tt>E</tt>); 
</blockquote><ul><li>Picture: STRLIST element on a DOGS102 Display </li></ul><blockquote><img src="./elref - m2tklib - Element (Widget) Reference - Mini Interative Interface Toolkit Library - Google Project Hosting_files/dogs102_strlist.jpg"> 
</blockquote><h2><a name="TEXT"></a>TEXT<a href="https://code.google.com/p/m2tklib/wiki/elref#TEXT" class="section_anchor"></a></h2><ul><li>Prototype </li><pre class="prettyprint"><span class="pln">M2_TEXT</span><span class="pun">(</span><span class="pln">el</span><span class="pun">,</span><span class="pln">fmt</span><span class="pun">,</span><span class="pln">text</span><span class="pun">,</span><span class="pln">len</span><span class="pun">)</span></pre><li>Forward Declaration </li><pre class="prettyprint"><span class="pln">M2_EXTERN_TEXT</span><span class="pun">(</span><span class="pln">el</span><span class="pun">)</span></pre><li>Description </li><blockquote>This element is a text input element.  
</blockquote><li>Arguments </li><ul><li><tt>el</tt>: Name of the element. </li><li><tt>fmt</tt>: Pointer (<tt>const char *</tt>) to the format string. </li><li><tt>text</tt>: Pointer to an array of <tt>len</tt> characters. The user can modify characters of this <tt>text</tt> array. </li><li><tt>len</tt>: The length of the <tt>text</tt> array without the terminating '\0' character.   </li></ul><li>Format Options </li><ul><li><tt>a</tt>: auto-down option  </li><ul><li>"a0": The user has to select the number and can cycle within the characters of the text field (default behavior). </li><li>"a1": The user does not need to select the text field. The focus cycles between the character of the text field and all other elements of the parent. </li></ul><li><tt>f</tt>: Select a font, default is <tt>f0</tt> </li><li><tt>r</tt>: <tt>r1</tt> read-only field, default is <tt>r0</tt> (v1.01 and above). Note: Option <tt>a1</tt> has precedence over <tt>r1</tt>. </li><li><tt>x</tt>, <tt>y</tt>: Position of the element, if the parent element is a <a href="https://code.google.com/p/m2tklib/wiki/elref#XYLIST">XYLIST</a>.  </li></ul><li>Picture: Text input field on the DOGS102 Display </li></ul><blockquote><img src="./elref - m2tklib - Element (Widget) Reference - Mini Interative Interface Toolkit Library - Google Project Hosting_files/dogm_text.jpg"> 
</blockquote><ul><li>Example: The user can put some text into the variable <tt>text</tt>. Note, that <tt>text</tt> is an array with 12+1 elements. The string assignment also adds a terminating '\0' character. </li><pre class="prettyprint"><span class="com">#define</span><span class="pln"> TEXT_LEN </span><span class="lit">12</span><span class="pln"><br></span><span class="kwd">char</span><span class="pln"> text</span><span class="pun">[]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="str">"abcdefghijkl"</span><span class="pun">;</span><span class="pln"><br><br></span><span class="kwd">void</span><span class="pln"> fn_text_ok</span><span class="pun">(</span><span class="pln">m2_el_fnarg_p fnarg</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; </span><span class="com">/* do something with the text */</span><span class="pln"><br></span><span class="pun">}</span><span class="pln"><br><br>M2_LABEL</span><span class="pun">(</span><span class="pln">el_label</span><span class="pun">,</span><span class="pln"> NULL</span><span class="pun">,</span><span class="pln"> </span><span class="str">"Enter Text:"</span><span class="pun">);</span><span class="pln"><br>M2_TEXT</span><span class="pun">(</span><span class="pln">el_text</span><span class="pun">,</span><span class="pln"> NULL</span><span class="pun">,</span><span class="pln"> text</span><span class="pun">,</span><span class="pln"> TEXT_LEN</span><span class="pun">);</span><span class="pln"><br>M2_BUTTON</span><span class="pun">(</span><span class="pln">el_ok</span><span class="pun">,</span><span class="pln"> </span><span class="str">""</span><span class="pun">,</span><span class="pln"> </span><span class="str">" ok "</span><span class="pun">,</span><span class="pln"> fn_text_ok</span><span class="pun">);</span><span class="pln"><br>M2_LIST</span><span class="pun">(</span><span class="pln">list</span><span class="pun">)</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">el_label</span><span class="pun">,</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">el_text</span><span class="pun">,</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">el_ok </span><span class="pun">};</span><span class="pln"><br>M2_VLIST</span><span class="pun">(</span><span class="pln">list_element</span><span class="pun">,</span><span class="pln"> NULL</span><span class="pun">,</span><span class="pln"> list</span><span class="pun">);</span><span class="pln"><br>M2tk m2</span><span class="pun">(&amp;</span><span class="pln">list_element</span><span class="pun">,</span><span class="pln"> m2_es_arduino</span><span class="pun">,</span><span class="pln"> m2_eh_2bs</span><span class="pun">,</span><span class="pln"> m2_gh_dogm_fbs</span><span class="pun">);</span></pre></ul><h2><a name="TOGGLE"></a>TOGGLE<a href="https://code.google.com/p/m2tklib/wiki/elref#TOGGLE" class="section_anchor"></a></h2><ul><li>Prototype </li><pre class="prettyprint"><span class="pln">M2_TOGGLE</span><span class="pun">(</span><span class="pln">el</span><span class="pun">,</span><span class="pln">fmt</span><span class="pun">,</span><span class="pln">variable</span><span class="pun">)</span></pre><li>Forward Declaration </li><pre class="prettyprint"><span class="pln">M2_EXTERN_TOGGLE</span><span class="pun">(</span><span class="pln">el</span><span class="pun">)</span></pre><li>Description </li><blockquote>This element allows to select values 0 and 1 for a variable. If the TOGGLE element receives a M2_KEY_SELECT message, the value of the variable will change from zero to 1 or from any other value to zero. This element does not output any text. Instead an icon will be displayed.  
</blockquote><li>Arguments </li><ul><li><tt>el</tt>: Name of the element. </li><li><tt>fmt</tt>: Pointer (<tt>const char *</tt>) to the format string. </li><li><tt>variable</tt>: Address of a variable. </li></ul><li>Format Options </li><ul><li><tt>f</tt>: Select a font. This might have an effect on the icon size. </li><li><tt>r</tt>: <tt>r1</tt> read-only field, default is <tt>r0</tt> (v1.01 and above) </li><li><tt>x</tt>, <tt>y</tt>: Position of the element, if the parent element is a <a href="https://code.google.com/p/m2tklib/wiki/elref#XYLIST">XYLIST</a>.  </li></ul><li>Picture: See <tt>M2_RADIO</tt> </li></ul><p>  </p><h2><a name="TSK"></a>TSK<a href="https://code.google.com/p/m2tklib/wiki/elref#TSK" class="section_anchor"></a></h2><h2><a name="TSKP"></a>TSKP<a href="https://code.google.com/p/m2tklib/wiki/elref#TSKP" class="section_anchor"></a></h2><ul><li>Prototype </li><pre class="prettyprint"><span class="pln">M2_TSK</span><span class="pun">(</span><span class="pln">el</span><span class="pun">,</span><span class="pln">fmt</span><span class="pun">,</span><span class="pln">str</span><span class="pun">,</span><span class="pln">key</span><span class="pun">)</span><span class="pln"><br>M2_TSKP</span><span class="pun">(</span><span class="pln">el</span><span class="pun">,</span><span class="pln">fmt</span><span class="pun">,</span><span class="pln">strp</span><span class="pun">,</span><span class="pln">key</span><span class="pun">)</span></pre><li>Forward Declaration </li><pre class="prettyprint"><span class="pln">M2_EXTERN_TSK</span><span class="pun">(</span><span class="pln">el</span><span class="pun">)</span><span class="pln"><br>M2_EXTERN_TSKP</span><span class="pun">(</span><span class="pln">el</span><span class="pun">)</span></pre><li>Available: v1.10 </li><li>Description </li><blockquote>A TSK (touch screen key) element generates a key event. It is only useful together with the <tt>m2_eh_4bsts</tt> or  <tt>m2_eh_6bsts</tt> event handler. The <tt>key</tt> argument can be one of the following constants: <tt>M2_KEY_SELECT</tt>, <tt>M2_KEY_EXIT</tt>, <tt>M2_KEY_NEXT</tt>, <tt>M2_KEY_PREV</tt>, <tt>M2_KEY_DATA_UP</tt>, <tt>M2_KEY_DATA_DOWN</tt>, <tt>M2_KEY_HOME</tt>. 
<tt>str</tt> is displayed as active area for the touch screen.  
</blockquote><li>Arguments </li><ul><li><tt>el</tt>: Name of the element. </li><li><tt>fmt</tt>: Pointer (<tt>const char *</tt>) to the format string. </li><li><tt>str</tt>: This string will be displayed on the screen. </li><li><tt>strp</tt>: This string will be displayed on the screen (PROGMEM). </li></ul><li>Format Options </li><ul><li><tt>f</tt>: Select a font, default is <tt>f0</tt> </li><li><tt>x</tt>, <tt>y</tt>: Position of the element, if the parent element is a <a href="https://code.google.com/p/m2tklib/wiki/elref#XYLIST">XYLIST</a>.  </li><li><tt>w</tt>: Width. Default: Width of the string.  </li><li><tt>h</tt>: Height. Default: Height of the selected font.  </li></ul><li>See also: <a href="https://code.google.com/p/m2tklib/wiki/t10">Tutorial 10 (Touch Screen Support)</a>  </li></ul><h2><a name="U32NUM"></a>U32NUM<a href="https://code.google.com/p/m2tklib/wiki/elref#U32NUM" class="section_anchor"></a></h2><h2><a name="U32NUMFN"></a>U32NUMFN<a href="https://code.google.com/p/m2tklib/wiki/elref#U32NUMFN" class="section_anchor"></a></h2><ul><li>Prototype </li><pre class="prettyprint"><span class="pln">M2_U32NUM</span><span class="pun">(</span><span class="pln">el</span><span class="pun">,</span><span class="pln">fmt</span><span class="pun">,</span><span class="pln">number</span><span class="pun">)</span><span class="pln"><br>M2_U32NUMFN</span><span class="pun">(</span><span class="pln">el</span><span class="pun">,</span><span class="pln">fmt</span><span class="pun">,</span><span class="pln">u32numcb</span><span class="pun">)</span></pre><li>Forward Declaration </li><pre class="prettyprint"><span class="pln">M2_EXTERN_U32NUM</span><span class="pun">(</span><span class="pln">el</span><span class="pun">)</span><span class="pln"><br>M2_EXTERN_U32NUMFN</span><span class="pun">(</span><span class="pln">el</span><span class="pun">)</span></pre><li>Available: U32NUMFN v1.05 </li><li>Description </li><blockquote>This element allows to enter a 32bit unsigned integer value.  
</blockquote><li>Arguments </li><ul><li><tt>el</tt>: Name of the element. </li><li><tt>fmt</tt>: Pointer (<tt>const char *</tt>) to the format string. </li><li><tt>number</tt>: Pointer to a 32bit variable. </li><li><tt>u32numcb</tt>: Pointer to a callback procedure. </li><pre class="prettyprint"><span class="pln">uint32_t u32numcb</span><span class="pun">(</span><span class="pln">m2_rom_void_p element</span><span class="pun">,</span><span class="pln"> uint8_t msg</span><span class="pun">,</span><span class="pln"> uint32_t val</span><span class="pun">);</span></pre></ul><li>Format Options </li><ul><li><tt>a</tt>: auto-down option  </li><ul><li>"a0": The user has to select the number and can cycle within the digits of the number (default behavior). </li><li>"a1": The user does not need to select the number. The focus cycles between the digits of the number and all other elements of the parent. </li></ul><li><tt>c</tt>: Number of digits, e.g. "c4" allows numbers between "0000" and "9999".  </li><li><tt>f</tt>: Select a font, default is <tt>f0</tt> </li><li><tt>r</tt>: <tt>r1</tt> read-only field, default is <tt>r0</tt> (v1.01 and above). Note: Option <tt>a1</tt> has precedence over <tt>r1</tt>. </li><li><tt>x</tt>, <tt>y</tt>: Position of the element, if the parent element is a <a href="https://code.google.com/p/m2tklib/wiki/elref#XYLIST">XYLIST</a>.  </li><li><tt>.</tt>: Provide position of the <tt>.</tt> character. This option does not affect the number itself. It just shows a dot at the screen at the specified position, counting from right side. Value "123" with option ".1" will appear as "12.3".  </li></ul><li>Callback Procedure </li></ul><blockquote>U32NUMFN requires a callback procedre.  
<ul><li><tt>msg == M2_U32_MSG_SET_VALUE</tt>: The new value (<tt>val</tt>) for the variable must be set. This message also indicates a change of the value. The return value is ignored. </li><li><tt>msg == M2_U32_MSG_GET_VALUE</tt>: The current value must be returned by the callback procedure. </li></ul>Example code: 
<pre class="prettyprint"><span class="pln">uint32_t global_value </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln"><br>&nbsp;<br>uint32_t u32_cb</span><span class="pun">(</span><span class="pln">m2_rom_void_p element</span><span class="pun">,</span><span class="pln"> uint8_t msg</span><span class="pun">,</span><span class="pln"> uint32_t val</span><span class="pun">)</span><span class="pln"><br></span><span class="pun">{</span><span class="pln"><br>&nbsp; </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln"> msg </span><span class="pun">==</span><span class="pln"> M2_U32_MSG_SET_VALUE </span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; global_value </span><span class="pun">=</span><span class="pln"> val</span><span class="pun">;</span><span class="pln"><br>&nbsp; </span><span class="kwd">return</span><span class="pln"> global_value</span><span class="pun">;</span><span class="pln"><br></span><span class="pun">}</span><span class="pln"><br><br>M2_U32NUMFN</span><span class="pun">(</span><span class="pln">el_u8_cb</span><span class="pun">,</span><span class="pln"> </span><span class="str">"a1c4"</span><span class="pun">,</span><span class="pln"> u32_cb</span><span class="pun">);</span></pre></blockquote><ul><li>Picture </li><blockquote>Arduino Hardware with KS0066 16x4 LCD 
</blockquote></ul><blockquote><img src="./elref - m2tklib - Element (Widget) Reference - Mini Interative Interface Toolkit Library - Google Project Hosting_files/U32.jpg"> 
</blockquote><blockquote>Arduino Hardware with DOGS102 Display 
</blockquote><blockquote><img src="./elref - m2tklib - Element (Widget) Reference - Mini Interative Interface Toolkit Library - Google Project Hosting_files/dogm_u32.jpg"> 
</blockquote><p>   </p><ul><li>Example: The user can enter a number between "0000" and "9999". The auto-down option is enabled. </li><pre class="prettyprint"><span class="pln">uint32_t number </span><span class="pun">=</span><span class="pln"> </span><span class="lit">1234</span><span class="pun">;</span><span class="pln"><br><br></span><span class="kwd">void</span><span class="pln"> fn_ok</span><span class="pun">(</span><span class="pln">m2_el_fnarg_p fnarg</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; </span><span class="com">/* do something with the number */</span><span class="pln"><br></span><span class="pun">}</span><span class="pln"><br><br>M2_LABEL</span><span class="pun">(</span><span class="pln">el_label</span><span class="pun">,</span><span class="pln"> NULL</span><span class="pun">,</span><span class="pln"> </span><span class="str">"Num: "</span><span class="pun">);</span><span class="pln"><br>M2_U32NUM</span><span class="pun">(</span><span class="pln">el_text</span><span class="pun">,</span><span class="pln"> </span><span class="str">"a1c4"</span><span class="pun">,</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">number</span><span class="pun">);</span><span class="pln"><br>M2_BUTTON</span><span class="pun">(</span><span class="pln">el_ok</span><span class="pun">,</span><span class="pln"> </span><span class="str">""</span><span class="pun">,</span><span class="pln"> </span><span class="str">" ok "</span><span class="pun">,</span><span class="pln"> fn_ok</span><span class="pun">);</span><span class="pln"><br>M2_LIST</span><span class="pun">(</span><span class="pln">list</span><span class="pun">)</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">el_label</span><span class="pun">,</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">el_text</span><span class="pun">,</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">el_ok </span><span class="pun">};</span><span class="pln"><br>M2_HLIST</span><span class="pun">(</span><span class="pln">list_element</span><span class="pun">,</span><span class="pln"> NULL</span><span class="pun">,</span><span class="pln"> list</span><span class="pun">);</span><span class="pln"><br>M2tk m2</span><span class="pun">(&amp;</span><span class="pln">list_element</span><span class="pun">,</span><span class="pln"> m2_es_arduino</span><span class="pun">,</span><span class="pln"> m2_eh_2bs</span><span class="pun">,</span><span class="pln"> m2_gh_dogm_fbs</span><span class="pun">);</span></pre></ul><h2><a name="U8NUM"></a>U8NUM<a href="https://code.google.com/p/m2tklib/wiki/elref#U8NUM" class="section_anchor"></a></h2><h2><a name="U8NUMFN"></a>U8NUMFN<a href="https://code.google.com/p/m2tklib/wiki/elref#U8NUMFN" class="section_anchor"></a></h2><ul><li>Prototype </li><pre class="prettyprint"><span class="pln">M2_U8NUM</span><span class="pun">(</span><span class="pln">el</span><span class="pun">,</span><span class="pln">fmt</span><span class="pun">,</span><span class="pln">min</span><span class="pun">,</span><span class="pln">max</span><span class="pun">,</span><span class="pln">number</span><span class="pun">)</span><span class="pln"><br>M2_U8NUMFN</span><span class="pun">(</span><span class="pln">el</span><span class="pun">,</span><span class="pln">fmt</span><span class="pun">,</span><span class="pln">min</span><span class="pun">,</span><span class="pln">max</span><span class="pun">,</span><span class="pln">u8numcb</span><span class="pun">)</span></pre><li>Forward Declaration </li><pre class="prettyprint"><span class="pln">M2_EXTERN_U8NUM</span><span class="pun">(</span><span class="pln">el</span><span class="pun">)</span><span class="pln"><br>M2_EXTERN_U8NUMFN</span><span class="pun">(</span><span class="pln">el</span><span class="pun">)</span></pre><li>Available: U8NUMFN v1.05 </li><li>Description </li><blockquote>This element allows to enter a 8bit unsigned integer value.  
</blockquote><li>Arguments </li><ul><li><tt>el</tt>: Name of the element. </li><li><tt>fmt</tt>: Pointer (<tt>const char *</tt>) to the format string. </li><li><tt>min</tt>: Lowest possible value. </li><li><tt>max</tt>: Highest possible value. </li><li><tt>number</tt>: Pointer to a 8bit variable. </li><li><tt>u8numcb</tt>: Pointer to a callback procedure. </li><pre class="prettyprint"><span class="pln">uint8_t u8numcb</span><span class="pun">(</span><span class="pln">m2_rom_void_p element</span><span class="pun">,</span><span class="pln"> uint8_t msg</span><span class="pun">,</span><span class="pln"> uint8_t val</span><span class="pun">);</span></pre></ul><li>Format Options </li><ul><li><tt>c</tt>: Number of digits, e.g. "c2" allows numbers between "00" and "99". Note, that this setting must fit to the min and max value. </li><li><tt>f</tt>: Select a font, default is <tt>f0</tt> </li><li><tt>r</tt>: <tt>r1</tt> read-only field, default is <tt>r0</tt> (v1.01 and above). </li><li><tt>x</tt>, <tt>y</tt>: Position of the element, if the parent element is a <a href="https://code.google.com/p/m2tklib/wiki/elref#XYLIST">XYLIST</a>.  </li></ul><li>Callback Procedure </li></ul><blockquote>U8NUMFN requires a callback procedre.  
<ul><li><tt>msg == M2_U8_MSG_SET_VALUE</tt>: The new value (<tt>val</tt>) for the variable must be set. This message also indicates a change of the value. The return value is ignored. </li><li><tt>msg == M2_U8_MSG_GET_VALUE</tt>: The current value must be returned by the callback procedure. </li></ul>Example code: 
<pre class="prettyprint"><span class="pln">uint8_t global_value </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln"><br>&nbsp;<br>uint8_t u8_cb</span><span class="pun">(</span><span class="pln">m2_rom_void_p element</span><span class="pun">,</span><span class="pln"> uint8_t msg</span><span class="pun">,</span><span class="pln"> uint8_t val</span><span class="pun">)</span><span class="pln"><br></span><span class="pun">{</span><span class="pln"><br>&nbsp; </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln"> msg </span><span class="pun">==</span><span class="pln"> M2_U8_MSG_SET_VALUE </span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; global_value </span><span class="pun">=</span><span class="pln"> val</span><span class="pun">;</span><span class="pln"><br>&nbsp; </span><span class="kwd">return</span><span class="pln"> global_value</span><span class="pun">;</span><span class="pln"><br></span><span class="pun">}</span><span class="pln"><br><br>M2_U8NUMFN</span><span class="pun">(</span><span class="pln">el_u8_cb</span><span class="pun">,</span><span class="pln"> NULL</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">10</span><span class="pun">,</span><span class="pln"> u8_cb</span><span class="pun">);</span></pre></blockquote><ul><li>Picture: U8 and U32 elements (DOGS102 display). Focus is on the U8 field. </li></ul><blockquote><img src="./elref - m2tklib - Element (Widget) Reference - Mini Interative Interface Toolkit Library - Google Project Hosting_files/dogm_de_u8.jpg"> 
</blockquote><ul><li>Example: See the <a href="https://code.google.com/p/m2tklib/wiki/elref#BUTTON">BUTTON</a> element. </li></ul><h2><a name="VLIST"></a>VLIST<a href="https://code.google.com/p/m2tklib/wiki/elref#VLIST" class="section_anchor"></a></h2><ul><li>Prototype </li><pre class="prettyprint"><span class="pln">M2_VLIST</span><span class="pun">(</span><span class="pln">el</span><span class="pun">,</span><span class="pln">fmt</span><span class="pun">,</span><span class="pln">list</span><span class="pun">)</span></pre><li>Forward Declaration </li><pre class="prettyprint"><span class="pln">M2_EXTERN_VLIST</span><span class="pun">(</span><span class="pln">el</span><span class="pun">)</span></pre><li>Description </li><blockquote><tt>VLIST</tt> is a container element. All sub-elements are put in one column from top to down. 
</blockquote><li>Arguments </li><ul><li><tt>el</tt>: Name of the element. </li><li><tt>fmt</tt>: Pointer (<tt>const char *</tt>) to the format string. </li><li><tt>list</tt>: A list, defined with <tt>M2_LIST</tt>. Do <strong>NOT</strong> use '&amp;' on the list argument. </li></ul><li>Format Options </li><ul><li><tt>x</tt>, <tt>y</tt>: Position of the element, if the parent element is a <a href="https://code.google.com/p/m2tklib/wiki/elref#XYLIST">XYLIST</a>.  </li></ul><li>Example: See also <a href="https://code.google.com/p/m2tklib/wiki/elref#TEXT">TEXT</a> </li><pre class="prettyprint"><span class="pln">M2_LABEL</span><span class="pun">(</span><span class="pln">el_label</span><span class="pun">,</span><span class="pln"> NULL</span><span class="pun">,</span><span class="pln"> </span><span class="str">"Enter Text:"</span><span class="pun">);</span><span class="pln"><br>M2_TEXT</span><span class="pun">(</span><span class="pln">el_text</span><span class="pun">,</span><span class="pln"> NULL</span><span class="pun">,</span><span class="pln"> text</span><span class="pun">,</span><span class="pln"> TEXT_LEN</span><span class="pun">);</span><span class="pln"><br>M2_BUTTON</span><span class="pun">(</span><span class="pln">el_ok</span><span class="pun">,</span><span class="pln"> </span><span class="str">""</span><span class="pun">,</span><span class="pln"> </span><span class="str">" ok "</span><span class="pun">,</span><span class="pln"> fn_text_ok</span><span class="pun">);</span><span class="pln"><br>M2_LIST</span><span class="pun">(</span><span class="pln">list</span><span class="pun">)</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">el_label</span><span class="pun">,</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">el_text</span><span class="pun">,</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">el_ok </span><span class="pun">};</span><span class="pln"><br>M2_VLIST</span><span class="pun">(</span><span class="pln">list_element</span><span class="pun">,</span><span class="pln"> NULL</span><span class="pun">,</span><span class="pln"> list</span><span class="pun">);</span></pre></ul><h2><a name="VSB"></a>VSB<a href="https://code.google.com/p/m2tklib/wiki/elref#VSB" class="section_anchor"></a></h2><ul><li>Prototype </li><pre class="prettyprint"><span class="pln">M2_VSB</span><span class="pun">(</span><span class="pln">el</span><span class="pun">,</span><span class="pln">fmt</span><span class="pun">,</span><span class="pln">first</span><span class="pun">,</span><span class="pln">cnt</span><span class="pun">)</span></pre><li>Forward Declaration </li><pre class="prettyprint"><span class="pln">M2_EXTERN_VSB</span><span class="pun">(</span><span class="pln">el</span><span class="pun">)</span></pre><li>Available: v1.03 </li><li>Description </li><blockquote>The vertical scroll bar is an element which is usually used together with STRLIST or INFO elements. VSB will display a vertical scroll bar.  
</blockquote><li>Arguments </li><ul><li><tt>el</tt>: Name of the element. </li><li><tt>fmt</tt>: Pointer (<tt>const char *</tt>) to the format string. </li><li><tt>first</tt>: Pointer to uint8_t, which contains the index number of the first element which is visible (range is from 0 to <tt>cnt</tt> - l).  </li><li><tt>cnt</tt>: Pointer to the total number of elements (Pointer to uint8_t). </li></ul><li>Format Options </li><ul><li><tt>w</tt>: Width (required). </li><li><tt>h</tt>: Height </li><li><tt>l</tt>: Number of visible lines (required). </li><li><tt>x</tt>, <tt>y</tt>: Position of the element, if the parent element is a <a href="https://code.google.com/p/m2tklib/wiki/elref#XYLIST">XYLIST</a>.  </li><li><tt>t</tt>: Enable touch screen support (available with v1.11). Selecting VSB via touch screen will do a "page down" on the connected list. </li></ul><li>Example: See <a href="https://code.google.com/p/m2tklib/wiki/elref#STRLIST">STRLIST</a> </li><li>Picture: VSB element on a 16x4 LCD </li></ul><blockquote><img src="./elref - m2tklib - Element (Widget) Reference - Mini Interative Interface Toolkit Library - Google Project Hosting_files/lc_strlist.jpg"><img src="./elref - m2tklib - Element (Widget) Reference - Mini Interative Interface Toolkit Library - Google Project Hosting_files/lc_rapunzel.jpg"> 
</blockquote><h2><a name="X2LMENU"></a>X2LMENU<a href="https://code.google.com/p/m2tklib/wiki/elref#X2LMENU" class="section_anchor"></a></h2><ul><li>Prototype </li><pre class="prettyprint"><span class="pln">M2_X2LMENU</span><span class="pun">(</span><span class="pln">el</span><span class="pun">,</span><span class="pln">fmt</span><span class="pun">,</span><span class="pln">first</span><span class="pun">,</span><span class="pln">cnt</span><span class="pun">,</span><span class="pln">xmenu_data</span><span class="pun">,</span><span class="pln">menu_char</span><span class="pun">,</span><span class="pln">expanded_char</span><span class="pun">,</span><span class="pln">submenu_char</span><span class="pun">)</span></pre><li>Forward Declaration </li><pre class="prettyprint"><span class="pln">M2_EXTERN_X2LMENU</span><span class="pun">(</span><span class="pln">el</span><span class="pun">)</span></pre><li>Description </li><blockquote>This element defines a scrollable menu with expandable submenus. The state of the menu entry is shown in the first column (<tt>e</tt> or <tt>E</tt> option). The vertical scroll bar can be connected to this element. 
</blockquote></ul><p>The menu is defined by a list of menu entries: </p><pre class="prettyprint"><span class="pln">&nbsp; </span><span class="kwd">struct</span><span class="pln"> _m2_xmenu_entry<br>&nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="kwd">const</span><span class="pln"> </span><span class="kwd">char</span><span class="pln"> </span><span class="pun">*</span><span class="pln">label</span><span class="pun">;</span><span class="pln"><br>&nbsp; &nbsp; m2_rom_void_p element</span><span class="pun">;</span><span class="pln"><br>&nbsp; &nbsp; m2_strlist_cb_fnptr cb</span><span class="pun">;</span><span class="pln"><br>&nbsp; </span><span class="pun">};</span><span class="pln"><br>&nbsp; </span><span class="kwd">typedef</span><span class="pln"> </span><span class="kwd">struct</span><span class="pln"> _m2_xmenu_entry m2_xmenu_entry</span><span class="pun">;</span></pre><blockquote>Compared to <tt>M2_2LMENU</tt>, the <tt>M2_X2LMENU</tt>  
menu data structure has an additional callback procedure <tt>cb</tt>. The prototype of <tt>cb</tt> is: 
<pre class="prettyprint"><span class="kwd">const</span><span class="pln"> </span><span class="kwd">char</span><span class="pln"> </span><span class="pun">*</span><span class="pln">el_strlist_getstr</span><span class="pun">(</span><span class="pln">uint8_t idx</span><span class="pun">,</span><span class="pln"> uint8_t msg</span><span class="pun">)</span></pre>The message argument are: 
<ul><li>M2_STRLIST_MSG_GET_STR: Return string for the provided <tt>idx</tt>. This message is only send if <tt>label</tt> equals <tt>"""</tt> or <tt>"."</tt>. </li><li>M2_STRLIST_MSG_SELECT: The user has selected the line with <tt>idx</tt>. This message is sent, if the user selects the corresponding line. </li></ul></blockquote><p>    </p><ul><li>Available: v1.10 </li><li>Arguments </li><ul><li><tt>el</tt>: Name of the element. </li><li><tt>fmt</tt>: Pointer (<tt>const char *</tt>) to the format string. </li><li><tt>first</tt>: Pointer to uint8_t, which contains the index number of the first string which is visible (range is from 0 to <tt>cnt</tt> - l).  </li><li><tt>cnt</tt>: Pointer to the total number of strings (Pointer to uint8_t). </li><li><tt>menu_data</tt>: List of menu entries (pointer to <tt>m2_xmenu_entry</tt>). </li><li><tt>menu_char</tt>: Character (icon) for the non-expanded menu entry. Visible only with <tt>e</tt> or <tt>E</tt> option. </li><li><tt>expanded_char</tt>: Character (icon) for the expanded menu entry. Visible only with <tt>e</tt> or <tt>E</tt> option.  </li><li><tt>submenu_char</tt>: Character (icon) for the sub-menu entry. Visible only with <tt>e</tt> or <tt>E</tt> option.  </li></ul><li>Format Options </li><ul><li><tt>e</tt> / <tt>E</tt>: Pixel/char space of the first colunn / relative space of the first column. </li><li><tt>f</tt>: Font </li><li><tt>F</tt>: Font of the first (extra) column (Default: Same value as <tt>f</tt>). </li><li><tt>w</tt>: Width, value is interpreted as number of pixels. </li><li><tt>W</tt>: Value is relative width according to the total width of the display (W64 = total display width, W32 = half display width, ...) </li><li><tt>h</tt>: Height </li><li><tt>l</tt>: Number of visible lines (required). </li><li><tt>x</tt>, <tt>y</tt>: Position of the element, if the parent element is a <a href="https://code.google.com/p/m2tklib/wiki/elref#XYLIST">XYLIST</a>.  </li></ul><li>See also: <a href="https://code.google.com/p/m2tklib/wiki/elref#2LMENU">2LMENU</a>  </li><li>Example: From the Arduino MenuX2L example: </li><p></p><pre class="prettyprint"><span class="pln">uint8_t value </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln"><br></span><span class="kwd">char</span><span class="pln"> buf</span><span class="pun">[</span><span class="lit">20</span><span class="pun">];</span><span class="pln"><br><br></span><span class="kwd">const</span><span class="pln"> </span><span class="kwd">char</span><span class="pln"> </span><span class="pun">*</span><span class="pln">xmenu_value</span><span class="pun">(</span><span class="pln">uint8_t idx</span><span class="pun">,</span><span class="pln"> uint8_t msg</span><span class="pun">)</span><span class="pln"><br></span><span class="pun">{</span><span class="pln"> &nbsp;<br>&nbsp; </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln"> msg </span><span class="pun">==</span><span class="pln"> M2_STRLIST_MSG_GET_STR </span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; strcpy</span><span class="pun">(</span><span class="pln">buf</span><span class="pun">,</span><span class="pln"> </span><span class="str">" Value: "</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; itoa</span><span class="pun">((</span><span class="kwd">int</span><span class="pun">)</span><span class="pln">value</span><span class="pun">,</span><span class="pln"> buf</span><span class="pun">+</span><span class="pln">strlen</span><span class="pun">(</span><span class="pln">buf</span><span class="pun">),</span><span class="pln"> </span><span class="lit">10</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="kwd">return</span><span class="pln"> buf</span><span class="pun">;</span><span class="pln"><br>&nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; </span><span class="kwd">return</span><span class="pln"> </span><span class="str">""</span><span class="pun">;</span><span class="pln"><br></span><span class="pun">}</span><span class="pln"><br><br></span><span class="com">// define callback procedures which increment and decrement a value</span><span class="pln"><br></span><span class="kwd">const</span><span class="pln"> </span><span class="kwd">char</span><span class="pln"> </span><span class="pun">*</span><span class="pln">xmenu_inc</span><span class="pun">(</span><span class="pln">uint8_t idx</span><span class="pun">,</span><span class="pln"> uint8_t msg</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln"> msg </span><span class="pun">==</span><span class="pln"> M2_STRLIST_MSG_SELECT &nbsp;</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; value</span><span class="pun">++;</span><span class="pln"><br>&nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; </span><span class="kwd">return</span><span class="pln"> </span><span class="str">""</span><span class="pun">;</span><span class="pln"><br></span><span class="pun">}</span><span class="pln"><br><br></span><span class="kwd">const</span><span class="pln"> </span><span class="kwd">char</span><span class="pln"> </span><span class="pun">*</span><span class="pln">xmenu_dec</span><span class="pun">(</span><span class="pln">uint8_t idx</span><span class="pun">,</span><span class="pln"> uint8_t msg</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln"> msg </span><span class="pun">==</span><span class="pln"> M2_STRLIST_MSG_SELECT &nbsp;</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; value</span><span class="pun">--;</span><span class="pln"><br>&nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; </span><span class="kwd">return</span><span class="pln"> </span><span class="str">""</span><span class="pun">;</span><span class="pln"><br></span><span class="pun">}</span><span class="pln"><br><br>m2_xmenu_entry xmenu_data</span><span class="pun">[]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> <br></span><span class="pun">{</span><span class="pln"><br>&nbsp; </span><span class="pun">{</span><span class="pln"> </span><span class="str">"Menu 1"</span><span class="pun">,</span><span class="pln"> NULL</span><span class="pun">,</span><span class="pln"> NULL </span><span class="pun">},</span><span class="pln"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">/* expandable main menu entry */</span><span class="pln"><br>&nbsp; </span><span class="pun">{</span><span class="pln"> </span><span class="str">"."</span><span class="pun">,</span><span class="pln"> NULL</span><span class="pun">,</span><span class="pln"> xmenu_value </span><span class="pun">},</span><span class="pln"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">/* The label of this menu line is returned by the callback procedure */</span><span class="pln"><br>&nbsp; </span><span class="pun">{</span><span class="pln"> </span><span class="str">". Inc"</span><span class="pun">,</span><span class="pln"> NULL</span><span class="pun">,</span><span class="pln"> xmenu_inc </span><span class="pun">},</span><span class="pln"> &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">/* This callback increments the value */</span><span class="pln"><br>&nbsp; </span><span class="pun">{</span><span class="pln"> </span><span class="str">". Dec"</span><span class="pun">,</span><span class="pln"> NULL</span><span class="pun">,</span><span class="pln"> xmenu_dec </span><span class="pun">},</span><span class="pln"> &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">/* This callback decrements the value */</span><span class="pln"><br>&nbsp; </span><span class="pun">{</span><span class="pln"> </span><span class="str">"Menu 2"</span><span class="pun">,</span><span class="pln"> NULL</span><span class="pun">,</span><span class="pln"> NULL </span><span class="pun">},</span><span class="pln"><br>&nbsp; </span><span class="pun">{</span><span class="pln"> </span><span class="str">". Sub 2-1"</span><span class="pun">,</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">top_el_mnu1_sel</span><span class="pun">,</span><span class="pln"> NULL </span><span class="pun">},</span><span class="pln"><br>&nbsp; </span><span class="pun">{</span><span class="pln"> </span><span class="str">". Sub 2-2"</span><span class="pun">,</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">top_el_mnu2_sel</span><span class="pun">,</span><span class="pln"> NULL</span><span class="pun">},</span><span class="pln"><br>&nbsp; </span><span class="pun">{</span><span class="pln"> </span><span class="str">". Sub 2-3"</span><span class="pun">,</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">top_el_mnu3_sel</span><span class="pun">,</span><span class="pln"> NULL </span><span class="pun">},</span><span class="pln"><br>&nbsp; </span><span class="pun">{</span><span class="pln"> NULL</span><span class="pun">,</span><span class="pln"> NULL</span><span class="pun">,</span><span class="pln"> NULL </span><span class="pun">},</span><span class="pln"><br></span><span class="pun">};</span><span class="pln"><br><br></span><span class="com">// The first visible line and the total number of visible lines.</span><span class="pln"><br></span><span class="com">// Both values are written by M2_X2LMENU and read by M2_VSB</span><span class="pln"><br>uint8_t el_x2l_first </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln"><br>uint8_t el_x2l_cnt </span><span class="pun">=</span><span class="pln"> </span><span class="lit">3</span><span class="pun">;</span><span class="pln"><br><br></span><span class="com">// Option l4 = four visible lines</span><span class="pln"><br></span><span class="com">// Option e15 = first column has a width of 15 pixel</span><span class="pln"><br></span><span class="com">// Option W43 = second column has a width of 43/64 of the display width</span><span class="pln"><br>M2_X2LMENU</span><span class="pun">(</span><span class="pln">el_x2l_strlist</span><span class="pun">,</span><span class="pln"> </span><span class="str">"l4e15W43"</span><span class="pun">,</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">el_x2l_first</span><span class="pun">,</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">el_x2l_cnt</span><span class="pun">,</span><span class="pln"> xmenu_data</span><span class="pun">,</span><span class="pln"> </span><span class="str">'+'</span><span class="pun">,</span><span class="str">'-'</span><span class="pun">,</span><span class="str">'\0'</span><span class="pun">);</span></pre></ul><h2><a name="XBMBUTTONP"></a>XBMBUTTONP<a href="https://code.google.com/p/m2tklib/wiki/elref#XBMBUTTONP" class="section_anchor"></a></h2><h2><a name="XBMROOTP"></a>XBMROOTP<a href="https://code.google.com/p/m2tklib/wiki/elref#XBMROOTP" class="section_anchor"></a></h2><ul><li>Prototype </li><pre class="prettyprint"><span class="pln">M2_XBMBUTTONP</span><span class="pun">(</span><span class="pln">el</span><span class="pun">,</span><span class="pln">fmt</span><span class="pun">,</span><span class="pln">w</span><span class="pun">,</span><span class="pln">h</span><span class="pun">,</span><span class="pln">data</span><span class="pun">,</span><span class="pln">element</span><span class="pun">)</span><span class="pln"><br>M2_XBMROOTP</span><span class="pun">(</span><span class="pln">el</span><span class="pun">,</span><span class="pln">fmt</span><span class="pun">,</span><span class="pln">w</span><span class="pun">,</span><span class="pln">h</span><span class="pun">,</span><span class="pln">data</span><span class="pun">,</span><span class="pln">cb_fn</span><span class="pun">)</span></pre><li>Forward Declaration </li><pre class="prettyprint"><span class="pln">M2_EXTERN_XBMBUTTONP</span><span class="pun">(</span><span class="pln">el</span><span class="pun">)</span><span class="pln"><br>M2_EXTERN_XBMROOTP</span><span class="pun">(</span><span class="pln">el</span><span class="pun">)</span></pre><li>Available: v1.09, U8glib variant only </li><li>Description </li><blockquote>Same as <a href="https://code.google.com/p/m2tklib/wiki/elref#BUTTON">`M2_BUTTON`</a>/<a href="https://code.google.com/p/m2tklib/wiki/elref#ROOT">`M2_ROOT`</a>, but will display a XBM bitmap instead of a string. If the <tt>w</tt> and/or <tt>h</tt> format options provide larger values than the XBM bitmap size, then the bitmap is centered into this direction. 
</blockquote><li>Arguments </li><ul><li><tt>el</tt>: Name of the element. </li><li><tt>fmt</tt>: Pointer (<tt>const char *</tt>) to the format string. </li><li><tt>w</tt>: Width of the XBM bitmap data.  </li><li><tt>h</tt>: Height of the XBM bitmap data.  </li><li><tt>data</tt>: Pointer to the XBM bitmap data (PROGMEM area).  </li><li><tt>element</tt>: Pointer to a root element. This element will be assigned as new root element if <tt>XBMROOTP</tt> is selcted by the user.  </li><li><tt>cb_fn</tt>: Callback procedure, will be called if the user selects the <tt>XBMBUTTONP</tt> element.  </li><pre class="prettyprint"><span class="pln">&nbsp; </span><span class="kwd">void</span><span class="pln"> my_cb_fn</span><span class="pun">(</span><span class="pln">m2_el_fnarg_p fnarg</span><span class="pun">)</span><span class="pln"> </span></pre></ul><li>Format Options </li><ul><li><tt>n</tt>: Change inital focus. Simulate <tt>n</tt> NEXT events. Default is 0 (first writable element) (Available with v1.09).  </li><li><tt>h</tt>: Absolute pixel height (defaults to height of the picture, larger value will center the picture). </li><li><tt>H</tt>: Relative height according to the total height of the display (H64 = total display height, H32 = half display height, ...) </li><li><tt>v</tt>: "Change root" value, will be the third argument to the "change root" callback procedure (change value, v1.09 and above). </li><li><tt>w</tt>: Absolute pixel width (defaults to width of the picture, larger value will center the picture). </li><li><tt>W</tt>: Relative width according to the total width of the display (W64 = total display width, W32 = half display width, ...) </li><li><tt>r</tt>: <tt>r1</tt> read-only field, default is <tt>r0</tt> (v1.01 and above) </li><li><tt>x</tt>, <tt>y</tt>: Position of the element, if the parent element is a <a href="https://code.google.com/p/m2tklib/wiki/elref#XYLIST">XYLIST</a>.  </li></ul><li>Example: </li><blockquote><img src="./elref - m2tklib - Element (Widget) Reference - Mini Interative Interface Toolkit Library - Google Project Hosting_files/u8g_select_xbm.png"> 
<pre class="prettyprint"><span class="kwd">static</span><span class="pln"> </span><span class="kwd">char</span><span class="pln"> memory_card_28_bits</span><span class="pun">[]</span><span class="pln"> U8G_PROGMEM </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; </span><span class="lit">0xF8</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0xFF</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0x3F</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0x00</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0xFC</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0xFF</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0x7F</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0x00</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0xFC</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0xFF</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0xFF</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0x00</span><span class="pun">,</span><span class="pln"> <br>&nbsp; </span><span class="lit">0x3C</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0xE7</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0xFC</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0x01</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0x3C</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0xE7</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0xFC</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0x03</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0x3C</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0xE7</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0xFC</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0x03</span><span class="pun">,</span><span class="pln"> <br>&nbsp; </span><span class="lit">0x3C</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0xE7</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0xFC</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0x03</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0x3C</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0xE7</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0xFC</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0x03</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0x3C</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0xE7</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0xFC</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0x03</span><span class="pun">,</span><span class="pln"> <br>&nbsp; </span><span class="lit">0x3C</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0xE7</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0xFC</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0x03</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0xFC</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0xFF</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0xFF</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0x03</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0xFC</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0xFF</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0xFF</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0x01</span><span class="pun">,</span><span class="pln"> <br>&nbsp; </span><span class="lit">0xFC</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0xFF</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0xFF</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0x01</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0xFC</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0xFF</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0xFF</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0x01</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0xFC</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0xFF</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0xFF</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0x01</span><span class="pun">,</span><span class="pln"> <br>&nbsp; </span><span class="lit">0xFC</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0xFF</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0xFF</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0x01</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0xFC</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0xFF</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0xFF</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0x03</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0xFC</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0xFF</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0xFF</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0x03</span><span class="pun">,</span><span class="pln"> <br>&nbsp; </span><span class="lit">0xFC</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0xFF</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0xFF</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0x03</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0x3C</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0x00</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0xE0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0x03</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0x1C</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0x00</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0xC0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0x03</span><span class="pun">,</span><span class="pln"> <br>&nbsp; </span><span class="lit">0x1C</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0x00</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0xC0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0x03</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0x1C</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0x00</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0xC0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0x03</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0x1C</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0x00</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0xC0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0x03</span><span class="pun">,</span><span class="pln"> <br>&nbsp; </span><span class="lit">0x3C</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0x00</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0xE0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0x03</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0xFC</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0xFF</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0xFF</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0x03</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0xFC</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0xFF</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0xFF</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0x03</span><span class="pun">,</span><span class="pln"> <br>&nbsp; </span><span class="lit">0xF8</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0xFF</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0xFF</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0x01</span><span class="pun">,</span><span class="pln"> </span><span class="pun">};</span><span class="pln"><br></span><span class="kwd">static</span><span class="pln"> </span><span class="kwd">char</span><span class="pln"> tools_28_bits</span><span class="pun">[]</span><span class="pln"> U8G_PROGMEM </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; </span><span class="lit">0x00</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0x00</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0x0E</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0x00</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0x00</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0x80</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0x0F</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0x00</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0x04</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0xC0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0x0F</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0x00</span><span class="pun">,</span><span class="pln"> <br>&nbsp; </span><span class="lit">0x0E</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0xE0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0x07</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0x00</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0x1F</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0xE0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0x03</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0x00</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0x3F</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0xF0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0x03</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0x00</span><span class="pun">,</span><span class="pln"> <br>&nbsp; </span><span class="lit">0x3E</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0xF0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0x03</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0x00</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0x7C</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0xF0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0x03</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0x00</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0xF0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0xF0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0x03</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0x0E</span><span class="pun">,</span><span class="pln"> <br>&nbsp; </span><span class="lit">0xE0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0xF1</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0x07</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0x0F</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0xC0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0xF3</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0xFF</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0x0F</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0x80</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0xFF</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0xFF</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0x07</span><span class="pun">,</span><span class="pln"> <br>&nbsp; </span><span class="lit">0x00</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0xFF</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0xFF</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0x07</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0x00</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0xFE</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0xFF</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0x03</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0x00</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0xFF</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0xFF</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0x01</span><span class="pun">,</span><span class="pln"> <br>&nbsp; </span><span class="lit">0x80</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0xFF</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0x7F</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0x00</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0xC0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0xFF</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0x01</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0x00</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0xE0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0xFF</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0x01</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0x00</span><span class="pun">,</span><span class="pln"> <br>&nbsp; </span><span class="lit">0xF0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0xFF</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0x03</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0x00</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0xF8</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0xBF</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0x0F</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0x00</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0xFC</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0x1F</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0x3F</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0x00</span><span class="pun">,</span><span class="pln"> <br>&nbsp; </span><span class="lit">0xFE</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0x0F</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0x7F</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0x00</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0xCF</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0x07</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0xFF</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0x00</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0xC7</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0x03</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0xFE</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0x01</span><span class="pun">,</span><span class="pln"> <br>&nbsp; </span><span class="lit">0xE7</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0x01</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0xFE</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0x01</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0xFF</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0x00</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0xFC</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0x01</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0x7E</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0x00</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0xF8</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0x01</span><span class="pun">,</span><span class="pln"> <br>&nbsp; </span><span class="lit">0x3C</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0x00</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0xE0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0x00</span><span class="pun">,</span><span class="pln"> </span><span class="pun">};</span><span class="pln"><br></span><span class="kwd">void</span><span class="pln"> fn_xbm_select_sd</span><span class="pun">(</span><span class="pln">m2_el_fnarg_p fnarg</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; </span><span class="com">/* ... */</span><span class="pln"><br></span><span class="pun">}</span><span class="pln"><br></span><span class="kwd">void</span><span class="pln"> fn_xbm_select_tools</span><span class="pun">(</span><span class="pln">m2_el_fnarg_p fnarg</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; </span><span class="com">/* ... */</span><span class="pln"><br></span><span class="pun">}</span><span class="pln"><br>M2_XBMBUTTONP</span><span class="pun">(</span><span class="pln">el_xbm_mc</span><span class="pun">,</span><span class="pln"> </span><span class="str">"W30H60"</span><span class="pun">,</span><span class="pln"> </span><span class="lit">28</span><span class="pun">,</span><span class="pln"> </span><span class="lit">28</span><span class="pun">,</span><span class="pln"> memory_card_28_bits</span><span class="pun">,</span><span class="pln"> fn_xbm_select_sd</span><span class="pun">);</span><span class="pln"><br>M2_XBMBUTTONP</span><span class="pun">(</span><span class="pln">el_xbm_tools</span><span class="pun">,</span><span class="pln"> </span><span class="str">"W30H60"</span><span class="pun">,</span><span class="pln"> </span><span class="lit">28</span><span class="pun">,</span><span class="pln"> </span><span class="lit">28</span><span class="pun">,</span><span class="pln"> tools_28_bits</span><span class="pun">,</span><span class="pln"> fn_xbm_select_tools</span><span class="pun">);</span><span class="pln"><br>M2_LIST</span><span class="pun">(</span><span class="pln">el_xbm_list</span><span class="pun">)</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">el_xbm_mc</span><span class="pun">,</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">el_xbm_tools </span><span class="pun">};</span><span class="pln"><br>M2_HLIST</span><span class="pun">(</span><span class="pln">el_xbm</span><span class="pun">,</span><span class="pln"> NULL</span><span class="pun">,</span><span class="pln"> el_xbm_list</span><span class="pun">);</span></pre></blockquote></ul><h2><a name="XBMLABELP"></a>XBMLABELP<a href="https://code.google.com/p/m2tklib/wiki/elref#XBMLABELP" class="section_anchor"></a></h2><ul><li>Prototype </li><pre class="prettyprint"><span class="pln">M2_XBMLABELP</span><span class="pun">(</span><span class="pln">el</span><span class="pun">,</span><span class="pln">fmt</span><span class="pun">,</span><span class="pln">w</span><span class="pun">,</span><span class="pln">h</span><span class="pun">,</span><span class="pln">data</span><span class="pun">)</span></pre><li>Forward Declaration </li><pre class="prettyprint"><span class="pln">M2_EXTERN_XBMLABELP</span><span class="pun">(</span><span class="pln">el</span><span class="pun">)</span></pre><li>Available: v1.09, U8glib variant only </li><li>Description </li><blockquote>Same as <a href="https://code.google.com/p/m2tklib/wiki/elref#LABEL">`M2_LABEL`</a>, but will display a XBM bitmap instead of a string. If the <tt>w</tt> and/or <tt>h</tt> format options provide larger values than the XBM bitmap size, then the bitmap is centered into this direction. 
</blockquote><li>Arguments </li><ul><li><tt>el</tt>: Name of the element. </li><li><tt>fmt</tt>: Pointer (<tt>const char *</tt>) to the format string. </li><li><tt>w</tt>: Width of the XBM bitmap data.  </li><li><tt>h</tt>: Height of the XBM bitmap data.  </li><li><tt>data</tt>: Pointer to the XBM bitmap data (PROGMEM area).  </li></ul><li>Format Options </li><ul><li><tt>b</tt>: no border ("b0") or additional space at top and bottom ("b1")  </li><li><tt>h</tt>: Absolute pixel height (defaults to height of the picture). </li><li><tt>H</tt>: Relative height according to the total height of the display (H64 = total display height, H32 = half display height, ...) </li><li><tt>w</tt>: Absolute pixel width (defaults to width of the picture). </li><li><tt>W</tt>: Relative width according to the total width of the display (W64 = total display width, W32 = half display width, ...) </li><li><tt>x</tt>, <tt>y</tt>: Position of the element, if the parent element is a <a href="https://code.google.com/p/m2tklib/wiki/elref#XYLIST">XYLIST</a>.  </li></ul></ul><h2><a name="XBMTSKP"></a>XBMTSKP<a href="https://code.google.com/p/m2tklib/wiki/elref#XBMTSKP" class="section_anchor"></a></h2><ul><li>Prototype </li><pre class="prettyprint"><span class="pln">M2_XBMTSKP</span><span class="pun">(</span><span class="pln">el</span><span class="pun">,</span><span class="pln">fmt</span><span class="pun">,</span><span class="pln">w</span><span class="pun">,</span><span class="pln">h</span><span class="pun">,</span><span class="pln">data</span><span class="pun">,</span><span class="pln">key</span><span class="pun">)</span></pre><li>Forward Declaration </li><pre class="prettyprint"><span class="pln">M2_EXTERN_XBMTSKP</span><span class="pun">(</span><span class="pln">el</span><span class="pun">)</span></pre><li>Available: v1.10, U8glib variant only </li><li>Description </li><blockquote>A TSK (touch screen key) element generates a key event. It is only useful together with the <tt>m2_eh_4bsts</tt> or  <tt>m2_eh_6bsts</tt> event handler. The <tt>key</tt> argument can be one of the following constants: <tt>M2_KEY_SELECT</tt>, <tt>M2_KEY_EXIT</tt>, <tt>M2_KEY_NEXT</tt>, <tt>M2_KEY_PREV</tt>, <tt>M2_KEY_DATA_UP</tt>, <tt>M2_KEY_DATA_DOWN</tt>, <tt>M2_KEY_HOME</tt>. 
The <tt>M2_XBMTSKP</tt> element shows a XBM bitmap as active area for the touch screen. If the <tt>w</tt> and/or <tt>h</tt> format options provide larger values than the XBM bitmap size, then the bitmap is centered. 
</blockquote><li>Arguments </li><ul><li><tt>el</tt>: Name of the element. </li><li><tt>fmt</tt>: Pointer (<tt>const char *</tt>) to the format string. </li><li><tt>w</tt>: Width of the XBM bitmap data.  </li><li><tt>h</tt>: Height of the XBM bitmap data.  </li><li><tt>data</tt>: Pointer to the XBM bitmap data (PROGMEM area).  </li><li><tt>key</tt>: Key event value (see above) </li></ul><li>Format Options </li><ul><li><tt>h</tt>: Absolute pixel height (defaults to height of the picture). </li><li><tt>H</tt>: Relative height according to the total height of the display (H64 = total display height, H32 = half display height, ...) </li><li><tt>w</tt>: Absolute pixel width (defaults to width of the picture). </li><li><tt>W</tt>: Relative width according to the total width of the display (W64 = total display width, W32 = half display width, ...) </li><li><tt>x</tt>, <tt>y</tt>: Position of the element, if the parent element is a <a href="https://code.google.com/p/m2tklib/wiki/elref#XYLIST">XYLIST</a>.  </li></ul><li>See also: <a href="https://code.google.com/p/m2tklib/wiki/t10">Tutorial 10 (Touch Screen Support)</a>  </li></ul><h2><a name="XYLIST"></a>XYLIST<a href="https://code.google.com/p/m2tklib/wiki/elref#XYLIST" class="section_anchor"></a></h2><ul><li>Prototype </li><pre class="prettyprint"><span class="pln">M2_XYLIST</span><span class="pun">(</span><span class="pln">el</span><span class="pun">,</span><span class="pln">fmt</span><span class="pun">,</span><span class="pln">list</span><span class="pun">)</span></pre><li>Forward Declaration </li><pre class="prettyprint"><span class="pln">M2_EXTERN_XYLIST</span><span class="pun">(</span><span class="pln">el</span><span class="pun">)</span></pre><li>Description </li><blockquote><tt>XYLIST</tt> is a container element. All sub-elements are put at a specified x-y position on the screen. The x-y position is described in the format string of the sub-elements. The units for x-y values are defined by the graphics handler (see <a href="https://code.google.com/p/m2tklib/wiki/fnref#M2tk">M2tk</a>) and might be pixels (Graphics LCD) or character position (Character LCD).  
</blockquote><li>Arguments </li><ul><li><tt>el</tt>: Name of the element. </li><li><tt>fmt</tt>: Pointer (<tt>const char *</tt>) to the format string. </li><li><tt>list</tt>: A list, defined with <tt>M2_LIST</tt>. Do <strong>NOT</strong> use '&amp;' on the list argument. </li></ul><li>Format Options </li><ul><li><tt>x</tt>, <tt>y</tt>: Position of the element, if the parent element is also a XYLIST.  </li></ul><li>Example: The sub-elements have x and y format options in their format string to describe the position within the XYLIST. The complete example is show at the <a href="https://code.google.com/p/m2tklib/wiki/elref#BUTTON">button element</a>. </li><pre class="prettyprint"><span class="pln">M2_U8NUM</span><span class="pun">(</span><span class="pln">el_u8num</span><span class="pun">,</span><span class="pln"> </span><span class="str">"x15y20"</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">255</span><span class="pun">,</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">value</span><span class="pun">);</span><span class="pln"><br>M2_BUTTON</span><span class="pun">(</span><span class="pln">el_plus10</span><span class="pun">,</span><span class="pln"> </span><span class="str">"x0y1"</span><span class="pun">,</span><span class="pln"> </span><span class="str">"-10"</span><span class="pun">,</span><span class="pln"> fn_minus10</span><span class="pun">);</span><span class="pln"><br>M2_BUTTON</span><span class="pun">(</span><span class="pln">el_minus10</span><span class="pun">,</span><span class="pln"> </span><span class="str">"x30y1"</span><span class="pun">,</span><span class="pln"> </span><span class="str">"+10"</span><span class="pun">,</span><span class="pln"> fn_plus10</span><span class="pun">);</span><span class="pln"><br>M2_LIST</span><span class="pun">(</span><span class="pln">list</span><span class="pun">)</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">el_u8num</span><span class="pun">,</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">el_plus10</span><span class="pun">,</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">el_minus10 </span><span class="pun">};</span><span class="pln"><br>M2_XYLIST</span><span class="pun">(</span><span class="pln">list_element</span><span class="pun">,</span><span class="pln"> NULL</span><span class="pun">,</span><span class="pln">list</span><span class="pun">);</span></pre></ul><h1><a name="Links"></a>Links<a href="https://code.google.com/p/m2tklib/wiki/elref#Links" class="section_anchor"></a></h1><ul><li><a href="https://code.google.com/p/m2tklib/wiki/m2tklib">Wiki Start Page</a> </li><li><a href="http://code.google.com/p/m2tklib/" rel="nofollow">Project Home</a> </li></ul>
 </div>
 </div>
 </td></tr><tr>
</tr></tbody></table>
 </div>


 
 <div id="wikicommentcol">
 


 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 

<div class="collapse">


 


<div id="commentlist">

 
 <div class="artifactcomment">
 
 
 
 
 
 
 <span class="author">Comment
 
 by 
 
 

 <a class="userlink" href="https://code.google.com/u/103730299733288337512/">Slypstee...@Gtebel.com</a>,
 
 </span>
 <span class="date" title="Fri Nov 23 09:32:16 2012">Nov 23, 2012</span>
 <div>
<div class="commentcontent">
<p>Hello, </p><p>I am new in Arduino community. I need your help for little problem. I want to use the 2Lmenu, but i need a mainscreen (to show analogs) with button for switch between the two of them. Can you give me the road to take???? </p><p>Sorry for my english is not my original language. </p><p>Thanks a lot  </p>
</div>
 
 
 </div>
 </div>
 

 
 <div class="artifactcomment">
 
 
 
 
 
 
 <span class="author">Comment
 
 by 
 
 

 <a class="userlink" href="https://code.google.com/u/103730299733288337512/">Slypstee...@Gtebel.com</a>,
 
 </span>
 <span class="date" title="Fri Nov 23 09:36:42 2012">Nov 23, 2012</span>
 <div>
<div class="commentcontent">
<p>Sorry i forgot. I use a glcd screen </p><p>Thanks again </p>
</div>
 
 
 </div>
 </div>
 

 
 <div class="artifactcomment">
 
 
 
 
 
 
 <span class="author">Comment
 
 by  project member 
 
 

 <a class="userlink" href="https://code.google.com/u/105030373771868615429/">olikr...@gmail.com</a>,
 
 </span>
 <span class="date" title="Fri Nov 23 12:59:22 2012">Nov 23, 2012</span>
 <div>
<div class="commentcontent">
<p>see email </p>
</div>
 
 
 </div>
 </div>
 

 
 <div class="artifactcomment">
 
 
 
 
 
 
 <span class="author">Comment
 
 by 
 
 

 <a class="userlink" href="https://code.google.com/u/115572317680044446818/">gregory....@swissdotnet.ch</a>,
 
 </span>
 <span class="date" title="Mon Jan  7 00:48:03 2013">Jan 7, 2013</span>
 <div>
<div class="commentcontent">
<p>Hi,  </p><p>How it's possible to know my position in the Menu2L ? </p><p>Thanks </p>
</div>
 
 
 </div>
 </div>
 

 
 <div class="artifactcomment">
 
 
 
 
 
 
 <span class="author">Comment
 
 by  project member 
 
 

 <a class="userlink" href="https://code.google.com/u/105030373771868615429/">olikr...@gmail.com</a>,
 
 </span>
 <span class="date" title="Mon Jan  7 01:18:25 2013">Jan 7, 2013</span>
 <div>
<div class="commentcontent">
<p>Not verified, but  m2_nav_get_child_pos(m2_get_nav(m2_global_object))) should return this value. </p><p>In principle, M2_STRLIST might be better if you need the position. </p><p>Oliver </p>
</div>
 
 
 </div>
 </div>
 

 
 <div class="artifactcomment">
 
 
 
 
 
 
 <span class="author">Comment
 
 by 
 
 

 <a class="userlink" href="https://code.google.com/u/115572317680044446818/">gregory....@swissdotnet.ch</a>,
 
 </span>
 <span class="date" title="Mon Jan  7 01:39:35 2013">Jan 7, 2013</span>
 <div>
<div class="commentcontent">
<p>Thanks for your answer Olivier but, I don't have the accurate position. How can I use M2_STRLIST with Menu2L ? </p><p>Thanks. </p>
</div>
 
 
 </div>
 </div>
 

 
 <div class="artifactcomment">
 
 
 
 
 
 
 <span class="author">Comment
 
 by  project member 
 
 

 <a class="userlink" href="https://code.google.com/u/105030373771868615429/">olikr...@gmail.com</a>,
 
 </span>
 <span class="date" title="Mon Jan  7 03:32:20 2013">Jan 7, 2013</span>
 <div>
<div class="commentcontent">
<p>M2_STRLIST does not offer nested menues. So M2_STRLIST can not directly replace Menu2l, but if you do not need nested menues, then M2_STRLIST might be better. For M2_STRLIST you must provide a callback procedure which returns the names of the menues. There is an example which demonstrates M2_STRLIST: <a href="http://code.google.com/p/m2tklib/source/browse/arduino/u8g/StrList/StrList.pde" rel="nofollow">http://code.google.com/p/m2tklib/source/browse/arduino/u8g/StrList/StrList.pde</a> </p><p>Can you describe you application so that i can better understand your need for the position? Maybe i can also suggest a better approach with some more background information. </p><p>Oliver </p>
</div>
 
 
 </div>
 </div>
 

 
 <div class="artifactcomment">
 
 
 
 
 
 
 <span class="author">Comment
 
 by 
 
 

 <a class="userlink" href="https://code.google.com/u/115572317680044446818/">gregory....@swissdotnet.ch</a>,
 
 </span>
 <span class="date" title="Mon Jan  7 03:44:03 2013">Jan 7, 2013</span>
 <div>
<div class="commentcontent">
<p>Thanks for your answer Olivier. </p><p>I need to know my position in Menu2L with Sub Menu for calling a procedure by title. </p><p>This is my menu : </p><pre class="prettyprint"><span class="com">// Forward declaration of the toplevel element M2_EXTERN_ALIGN(top_el_expandable_menu);</span><span class="pln"><br><br></span><span class="com">// Left entry: Menu name. Submenus must have a '.' at the beginning // Right entry: Reference to the target dialog box (In this example all menus call the toplevel element again m2_menu_entry m2_2lmenu_data = {</span><span class="pln"><br><br></span><span class="pun">{</span><span class="pln"> </span><span class="str">"Status"</span><span class="pun">,</span><span class="pln"> NULL </span><span class="pun">},</span><span class="pln"><br></span><span class="pun">{</span><span class="pln"> </span><span class="str">". Fire"</span><span class="pun">,</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">top_el_expandable_menu </span><span class="pun">},</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="str">". Intruder"</span><span class="pun">,</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">top_el_expandable_menu </span><span class="pun">},</span><span class="pln"><br></span><span class="pun">{</span><span class="pln"> </span><span class="str">"Log"</span><span class="pun">,</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">top_el_expandable_menu </span><span class="pun">},</span><span class="pln"><br></span><span class="pun">{</span><span class="pln"> </span><span class="str">"Setup"</span><span class="pun">,</span><span class="pln"> NULL </span><span class="pun">},</span><span class="pln"><br></span><span class="pun">{</span><span class="pln"> </span><span class="str">". Network"</span><span class="pun">,</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">top_el_expandable_menu </span><span class="pun">},</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="str">". GSM/3G"</span><span class="pun">,</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">top_el_expandable_menu </span><span class="pun">},</span><span class="pln"><br></span><span class="pun">{</span><span class="pln"> </span><span class="str">"Exit"</span><span class="pun">,</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">top_el_expandable_menu </span><span class="pun">},</span><span class="pln"><br></span><span class="pun">{</span><span class="pln"> NULL</span><span class="pun">,</span><span class="pln"> NULL </span><span class="pun">},</span><span class="pln"><br></span><span class="pun">};</span><span class="pln"> </span><span class="com">// The first visible line and the total number of visible lines. // Both values are written by M2_2LMENU and read by M2_VSB uint8_t m2_2lmenu_first; uint8_t m2_2lmenu_cnt;</span><span class="pln"><br><br></span><span class="com">// M2_2LMENU definition // Option l4 = four visible lines // Option e15 = first column has a width of 15 pixel // Option W43 = second column has a width of 43/64 of the display width</span><span class="pln"><br><br>M2_2LMENU</span><span class="pun">(</span><span class="pln">el_2lmenu</span><span class="pun">,</span><span class="pln"> </span><span class="str">"l4F3e15W43"</span><span class="pun">,</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">m2_2lmenu_first</span><span class="pun">,</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">m2_2lmenu_cnt</span><span class="pun">,</span><span class="pln"><br><br>m2_2lmenu_data</span><span class="pun">,</span><span class="pln"> </span><span class="lit">65</span><span class="pun">,</span><span class="pln"> </span><span class="lit">102</span><span class="pun">,</span><span class="pln"> </span><span class="str">'\0'</span><span class="pun">);</span><span class="pln"><br>M2_SPACE</span><span class="pun">(</span><span class="pln">el_space</span><span class="pun">,</span><span class="pln"> </span><span class="str">"W1h1"</span><span class="pun">);</span><span class="pln"> M2_VSB</span><span class="pun">(</span><span class="pln">el_vsb</span><span class="pun">,</span><span class="pln"> </span><span class="str">"l4W2r"</span><span class="pun">,</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">m2_2lmenu_first</span><span class="pun">,</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">m2_2lmenu_cnt</span><span class="pun">);</span><span class="pln"> M2_LIST</span><span class="pun">(</span><span class="pln">list_2lmenu</span><span class="pun">)</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{&amp;</span><span class="pln">el_2lmenu</span><span class="pun">,</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">el_space</span><span class="pun">,</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">el_vsb</span><span class="pun">};</span><span class="pln"> M2_HLIST</span><span class="pun">(</span><span class="pln">el_hlist</span><span class="pun">,</span><span class="pln"> NULL</span><span class="pun">,</span><span class="pln"> list_2lmenu</span><span class="pun">);</span><span class="pln"> M2_ALIGN</span><span class="pun">(</span><span class="pln">top_el_expandable_menu</span><span class="pun">,</span><span class="pln"> </span><span class="str">"-1|1W64H64"</span><span class="pun">,</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">el_hlist</span><span class="pun">);</span></pre><p>So, how can I add M2_STRLIST with this application ? </p>
</div>
 
 
 </div>
 </div>
 

 
 <div class="artifactcomment">
 
 
 
 
 
 
 <span class="author">Comment
 
 by  project member 
 
 

 <a class="userlink" href="https://code.google.com/u/105030373771868615429/">olikr...@gmail.com</a>,
 
 </span>
 <span class="date" title="Mon Jan  7 03:58:45 2013">Jan 7, 2013</span>
 <div>
<div class="commentcontent">
<p>Idea of MENU2L is to refer to different other dialog windows. In your example you always refer to the same (self) dialog "top_el_expandable_menu"Â´. You probably want to define your dialog window for each of the entries, so for example ". Network" should not refere to "&amp;top_el_expandable_menu" but to something like "&amp;top_el_network_menu" which contains network specific entries. MENU2L will automatically jump to "top_el_network_menu" once ". Network" is selected. This refered network-setup-menu might have an M2_ROOT() button which will jump back to "top_el_expandable_menu" </p><p>So, M2_STRLIST and also the position are not required for your application. Instead i suggest to implement a data entry dialog (based on M2_GRIDLIST, M2_LABEL, M2_U8NUM, M2_ROOT) and let the MENU2L call this data entry dialog. </p><p>Oliver </p>
</div>
 
 
 </div>
 </div>
 

 
 <div class="artifactcomment">
 
 
 
 
 
 
 <span class="author">Comment
 
 by 
 
 

 <a class="userlink" href="https://code.google.com/u/115572317680044446818/">gregory....@swissdotnet.ch</a>,
 
 </span>
 <span class="date" title="Mon Jan  7 04:25:24 2013">Jan 7, 2013</span>
 <div>
<div class="commentcontent">
<p>Thanks for your answer.  </p><p>I think your idea is very good, but I'm not sure to have understand how I can make this. </p><p>Do you can make a little code example of your solution ? </p><p>Thanks. </p>
</div>
 
 
 </div>
 </div>
 

 
 <div class="artifactcomment">
 
 
 
 
 
 
 <span class="author">Comment
 
 by  project member 
 
 

 <a class="userlink" href="https://code.google.com/u/105030373771868615429/">olikr...@gmail.com</a>,
 
 </span>
 <span class="date" title="Mon Jan  7 05:52:23 2013">Jan 7, 2013</span>
 <div>
<div class="commentcontent">
<p>ok, i see the point. This example is very misleading: <a href="http://code.google.com/p/m2tklib/source/browse/arduino/u8g/Menu2L/Menu2L.pde" rel="nofollow">http://code.google.com/p/m2tklib/source/browse/arduino/u8g/Menu2L/Menu2L.pde</a> </p><p>I have created an issue for this: <a href="http://code.google.com/p/m2tklib/issues/detail?id=93" rel="nofollow">http://code.google.com/p/m2tklib/issues/detail?id=93</a> </p><p>Maybe i can update the example within the next 24h </p><p>Oliver </p>
</div>
 
 
 </div>
 </div>
 

 
 <div class="artifactcomment">
 
 
 
 
 
 
 <span class="author">Comment
 
 by 
 
 

 <a class="userlink" href="https://code.google.com/u/115572317680044446818/">gregory....@swissdotnet.ch</a>,
 
 </span>
 <span class="date" title="Mon Jan  7 06:05:06 2013">Jan 7, 2013</span>
 <div>
<div class="commentcontent">
<p>Thanks for your answer.  </p><p>If you can update a little example within the next 24h, it would be fabulous ! </p><p>Thanks in advance. </p>
</div>
 
 
 </div>
 </div>
 

 
 <div class="artifactcomment">
 
 
 
 
 
 
 <span class="author">Comment
 
 by  project member 
 
 

 <a class="userlink" href="https://code.google.com/u/105030373771868615429/">olikr...@gmail.com</a>,
 
 </span>
 <span class="date" title="Mon Jan  7 12:45:43 2013">Jan 7, 2013</span>
 <div>
<div class="commentcontent">
<p>I have updated the Menu2L.pde example: <a href="http://code.google.com/p/m2tklib/source/browse/arduino/u8g/Menu2L/Menu2L.pde" rel="nofollow">http://code.google.com/p/m2tklib/source/browse/arduino/u8g/Menu2L/Menu2L.pde</a> Some more useful submenues are added. I did not touched Menu4 and Menu5. Also some more usefull menues are needed here too, but I hope you get the idea. </p><p>Oliver </p>
</div>
 
 
 </div>
 </div>
 

 
 <div class="artifactcomment">
 
 
 
 
 
 
 <span class="author">Comment
 
 by 
 
 

 <a class="userlink" href="https://code.google.com/u/115572317680044446818/">gregory....@swissdotnet.ch</a>,
 
 </span>
 <span class="date" title="Mon Jan  7 23:22:43 2013">Jan 7, 2013</span>
 <div>
<div class="commentcontent">
<p>Thanks you very much for your help ! </p><p>This is exactly what I want.  </p><p>I have a last question, it is possible to go to an other Menu2L ? </p><p>example :  In the Menu2L you go to "&amp;top_el_muse", but we can replace this with a Menu2L ? </p><p>Thanks in advance </p>
</div>
 
 
 </div>
 </div>
 

 
 <div class="artifactcomment">
 
 
 
 
 
 
 <span class="author">Comment
 
 by  project member 
 
 

 <a class="userlink" href="https://code.google.com/u/105030373771868615429/">olikr...@gmail.com</a>,
 
 </span>
 <span class="date" title="Mon Jan  7 23:56:54 2013">Jan 7, 2013</span>
 <div>
<div class="commentcontent">
<p>For sure, you can jump to another M2_2LMENU(). There are no restrictions. Indeed refering to another menu is a "goto" and not a "sub procedure call"-kind of call, so there so no nesting and no stack memory consumption. You can also have as many M2_2LMENU's as you want, as long as it fits into your flash memory.  </p><p>Oliver  </p>
</div>
 
 
 </div>
 </div>
 

 
 <div class="artifactcomment">
 
 
 
 
 
 
 <span class="author">Comment
 
 by 
 
 

 <a class="userlink" href="https://code.google.com/u/115572317680044446818/">gregory....@swissdotnet.ch</a>,
 
 </span>
 <span class="date" title="Tue Jan  8 00:08:20 2013">Jan 8, 2013</span>
 <div>
<div class="commentcontent">
<p>Thanks ! </p>
</div>
 
 
 </div>
 </div>
 

 
 <div class="artifactcomment">
 
 
 
 
 
 
 <span class="author">Comment
 
 by 
 
 

 <a class="userlink" href="https://code.google.com/u/115572317680044446818/">gregory....@swissdotnet.ch</a>,
 
 </span>
 <span class="date" title="Thu Jan 10 23:42:36 2013">Jan 10, 2013</span>
 <div>
<div class="commentcontent">
<p>Hello, </p><p>Do you can tell me, how M2_XBMBUTTONP print a bitmap ? I try to draw a bitmap, but it doesn't look like. </p><p>Thanks in advance ! </p>
</div>
 
 
 </div>
 </div>
 

 
 <div class="artifactcomment">
 
 
 
 
 
 
 <span class="author">Comment
 
 by  project member 
 
 

 <a class="userlink" href="https://code.google.com/u/105030373771868615429/">olikr...@gmail.com</a>,
 
 </span>
 <span class="date" title="Fri Jan 11 12:26:45 2013">Jan 11, 2013</span>
 <div>
<div class="commentcontent">
<p>You need to create a .xbm file. For example "gimp" can export such file type. .xbm already is c-code, so the .xbm file can be pasted into your code. Do not forget to add U8G_PROGMEM (or PROGMEM) as shown in the examples above. </p><p>Oliver </p>
</div>
 
 
 </div>
 </div>
 

 
 <div class="artifactcomment">
 
 
 
 
 
 
 <span class="author">Comment
 
 by 
 
 

 <a class="userlink" href="https://code.google.com/u/107505387383768835645/">sjag...@gmail.com</a>,
 
 </span>
 <span class="date" title="Tue Jan 15 04:42:42 2013">Jan 15, 2013</span>
 <div>
<div class="commentcontent">
<p>Hello, Is it possible to use the item U32NUM XYLIST. If you can do this in C language (WinAVR). Thank you very much </p>
</div>
 
 
 </div>
 </div>
 

 
 <div class="artifactcomment">
 
 
 
 
 
 
 <span class="author">Comment
 
 by  project member 
 
 

 <a class="userlink" href="https://code.google.com/u/105030373771868615429/">olikr...@gmail.com</a>,
 
 </span>
 <span class="date" title="Tue Jan 15 09:02:34 2013">Jan 15, 2013</span>
 <div>
<div class="commentcontent">
<p>I try to repeat your questions: Is it possible to use U32NUM within the XYLIST container element? Yes, if not then it is a bug. </p><p>Can M2tklib be used with plain C? Yes, of course, but only with u8glib together, see here: <a href="http://code.google.com/p/m2tklib/wiki/as6" rel="nofollow">http://code.google.com/p/m2tklib/wiki/as6</a> </p>
</div>
 
 
 </div>
 </div>
 

 
 <div class="artifactcomment">
 
 
 
 
 
 
 <span class="author">Comment
 
 by 
 
 

 <a class="userlink" href="https://code.google.com/u/107505387383768835645/">sjag...@gmail.com</a>,
 
 </span>
 <span class="date" title="Tue Jan 15 21:15:10 2013">Jan 15, 2013</span>
 <div>
<div class="commentcontent">
<p>Sorry, my English was translated with google. The question is: how element U32NUM draw with xy coordinates. By default, the element that draws X0Y0<a href="https://code.google.com/p/m2tklib/w/edit/X0Y0">?</a>. Thank you very much. </p>
</div>
 
 
 </div>
 </div>
 

 
 <div class="artifactcomment">
 
 
 
 
 
 
 <span class="author">Comment
 
 by  project member 
 
 

 <a class="userlink" href="https://code.google.com/u/105030373771868615429/">olikr...@gmail.com</a>,
 
 </span>
 <span class="date" title="Tue Jan 15 21:47:30 2013">Jan 15, 2013</span>
 <div>
<div class="commentcontent">
<p>Your question: How to apply the position for an element withing the XYLIST container. Answer: Use the x and y format options.  Example: M2_U32NUM(el_u8num, "x15y20", &amp;value); </p><blockquote>This will place the U32NUM at x = 15 and y = 20 
</blockquote>Does this answer your question? <p></p><p>Oliver </p>
</div>
 
 
 </div>
 </div>
 

 
 <div class="artifactcomment">
 
 
 
 
 
 
 <span class="author">Comment
 
 by 
 
 

 <a class="userlink" href="https://code.google.com/u/107505387383768835645/">sjag...@gmail.com</a>,
 
 </span>
 <span class="date" title="Tue Jan 15 22:00:42 2013">Jan 15, 2013</span>
 <div>
<div class="commentcontent">
<p>Thank you very much. You answered my klausimÄ….Ar could be this M2_U32NUM (el_text, a1c4 ", &amp; number); draw with xy coordinates? </p>
</div>
 
 
 </div>
 </div>
 

 
 <div class="artifactcomment">
 
 
 
 
 
 
 <span class="author">Comment
 
 by  project member 
 
 

 <a class="userlink" href="https://code.google.com/u/105030373771868615429/">olikr...@gmail.com</a>,
 
 </span>
 <span class="date" title="Tue Jan 15 23:02:46 2013">Jan 15, 2013</span>
 <div>
<div class="commentcontent">
<p>Format options can be combined in any sequence: In your example this would be: M2_U32NUM(el_u8num, "x15y20a1c4", &amp;value);  </p><p>Oliver </p>
</div>
 
 
 </div>
 </div>
 

 
 <div class="artifactcomment">
 
 
 
 
 
 
 <span class="author">Comment
 
 by 
 
 

 <a class="userlink" href="https://code.google.com/u/107505387383768835645/">sjag...@gmail.com</a>,
 
 </span>
 <span class="date" title="Wed Jan 16 01:05:19 2013">Jan 16, 2013</span>
 <div>
<div class="commentcontent">
<p>Ok. Thank you for your answers. </p>
</div>
 
 
 </div>
 </div>
 

 
 <div class="artifactcomment">
 
 
 
 
 
 
 <span class="author">Comment
 
 by 
 
 

 <a class="userlink" href="https://code.google.com/u/108189151833056726376/">MarcusSi...@gmail.com</a>,
 
 </span>
 <span class="date" title="Sun Jan 20 08:47:14 2013">Jan 20, 2013</span>
 <div>
<div class="commentcontent">
<p>Hi Oliver </p><p>I just downloaded your library and i think this is a very cool Library. I plan to use it in my private project. Unfortunately i am not that good in writing and understanding code so i tried and failed to change your example to a 3 level menu. Can you give me a hint how to do this? </p><p>Kind regards, --  Marcus  </p>
</div>
 
 
 </div>
 </div>
 

 
 <div class="artifactcomment">
 
 
 
 
 
 
 <span class="author">Comment
 
 by  project member 
 
 

 <a class="userlink" href="https://code.google.com/u/105030373771868615429/">olikr...@gmail.com</a>,
 
 </span>
 <span class="date" title="Sun Jan 20 09:19:45 2013">Jan 20, 2013</span>
 <div>
<div class="commentcontent">
<p>Hi Marcus The 2LMENU only allows two levels. There is no 3LMENU element. However, for calling submenues, there is no limit (unlimited nesting) with elements like M2_ROOT() </p><p>Does this help? Maybe you can describe your application. </p><p>Oliver </p>
</div>
 
 
 </div>
 </div>
 

 
 <div class="artifactcomment">
 
 
 
 
 
 
 <span class="author">Comment
 
 by 
 
 

 <a class="userlink" href="https://code.google.com/u/108189151833056726376/">MarcusSi...@gmail.com</a>,
 
 </span>
 <span class="date" title="Sun Jan 20 10:00:08 2013">Jan 20, 2013</span>
 <div>
<div class="commentcontent">
<p>Hi Oliver, </p><p>Thanks for the response. </p><p>I have a project where i am controlling, panning, tilting and moving a camera. The controller is a PS3 Controller connected to an Arduino Mega using a USB Hostshield. The display is a adafruit 7565. I already got the Display running and played with your examples. The Menu i want to display is something like this: Toplevel: Settings, shperic Pano, gigapixelpano, timelapse, movie. Within the settings Menu i would like to have a submenu e.g. Camera, Lens, delay, aperture, bracketing, mirror lockup. Within the Camera Menu i would like to select SLR or Point and shoot. Within the Lens i would like to select the focal Length of the lens and so on and so forth. The best would be that if a camera like a point and shoot is selected, ther would only displayed the possible focal lenght of that camera. I know that this can be implemented with different focal-Menus. But how is the question. It is some 15 years ago that i programed C++ </p><p>Marcus --  if you are interrested, my german (google translate helps) blog is at  </p><p><a href="http://arduinophotobot.wordpress.com/" rel="nofollow">http://arduinophotobot.wordpress.com</a> </p>
</div>
 
 
 </div>
 </div>
 

 
 <div class="artifactcomment">
 
 
 
 
 
 
 <span class="author">Comment
 
 by 
 
 

 <a class="userlink" href="https://code.google.com/u/115572317680044446818/">gregory....@swissdotnet.ch</a>,
 
 </span>
 <span class="date" title="Mon Jan 21 07:09:35 2013">Jan 21, 2013</span>
 <div>
<div class="commentcontent">
<p>Thanks for the M2_XBMBUTTONP tips. </p>
</div>
 
 
 </div>
 </div>
 

 
 <div class="artifactcomment">
 
 
 
 
 
 
 <span class="author">Comment
 
 by 
 
 

 <a class="userlink" href="https://code.google.com/u/108615438061775378956/">521...@gmail.com</a>,
 
 </span>
 <span class="date" title="Mon Jun  3 01:31:34 2013">Jun 3, 2013</span>
 <div>
<div class="commentcontent">
<p>Very impressive library, has my head spinning though. Is there any examples of using 4 buttons with a Liquid Crystal Display ie 2x16 lCD </p>
</div>
 
 
 </div>
 </div>
 

 
 <div class="artifactcomment">
 
 
 
 
 
 
 <span class="author">Comment
 
 by  project member 
 
 

 <a class="userlink" href="https://code.google.com/u/105030373771868615429/">olikr...@gmail.com</a>,
 
 </span>
 <span class="date" title="Mon Jun  3 10:37:41 2013">Jun 3, 2013</span>
 <div>
<div class="commentcontent">
<p>The Bookmarks example makes use of 4 buttons <a href="https://code.google.com/p/m2tklib/source/browse/arduino/LiquidCrystal/Bookmarks/Bookmarks.pde" rel="nofollow">https://code.google.com/p/m2tklib/source/browse/arduino/LiquidCrystal/Bookmarks/Bookmarks.pde</a> But also simpler examples like the FindNum<a href="https://code.google.com/p/m2tklib/w/edit/FindNum">?</a> example <a href="https://code.google.com/p/m2tklib/source/browse/arduino/LiquidCrystal/FindNum/FindNum.pde" rel="nofollow">https://code.google.com/p/m2tklib/source/browse/arduino/LiquidCrystal/FindNum/FindNum.pde</a> can be extended to four buttons without problems: 1) replace m2_eh_4bs with m2_eh_4bs 2) setup four keys: </p><blockquote>m2.setPin(M2_KEY_SELECT, 1); 
m2.setPin(M2_KEY_PREV, 0); 
m2.setPin(M2_KEY_NEXT, 9); 
m2.setPin(M2_KEY_HOME, 10);  
</blockquote><p></p><p>Oliver </p>
</div>
 
 
 </div>
 </div>
 

 
 <div class="artifactcomment">
 
 
 
 
 
 
 <span class="author">Comment
 
 by 
 
 

 <a class="userlink" href="https://code.google.com/u/109910434915908421633/">zhang1z...@gmail.com</a>,
 
 </span>
 <span class="date" title="Sun Jun  9 07:27:54 2013">Jun 9, 2013</span>
 <div>
<div class="commentcontent">
<p>Hi Oliver,  </p><p>In the XBM example, I tried to change the XBMROOTP elements to XBMBUTTONP, using the code in this reference. It seems that the buttons are not selectable (no frame outside the element, down and up keys are useless), and the focus is always on the first element. </p><p>I replaced </p><p>M2_XBMROOTP(el_xbm_mc, "w30h30", 28, 28, memory_card_28_bits, &amp;el_mc); M2_XBMROOTP(el_xbm_tools, "w30h30", 28, 28, tools_28_bits, &amp;el_tools); </p><p>with  </p><p>extern M2tk m2; void fn_xbm_select_sd(m2_el_fnarg_p fnarg) { </p><blockquote>m2.setRoot(&amp;el_mc);  
</blockquote>} void fn_xbm_select_tools(m2_el_fnarg_p fnarg) { <blockquote>m2.setRoot(&amp;el_tools); 
</blockquote>} <p></p><p>M2_XBMBUTTONP(el_xbm_mc, "w30h30", 28, 28, memory_card_28_bits, fn_xbm_select_sd); M2_XBMBUTTONP(el_xbm_tools, "w30h30", 28, 28, tools_28_bits, fn_xbm_select_tools); </p><p>zz </p>
</div>
 
 
 </div>
 </div>
 

 
 <div class="artifactcomment">
 
 
 
 
 
 
 <span class="author">Comment
 
 by  project member 
 
 

 <a class="userlink" href="https://code.google.com/u/105030373771868615429/">olikr...@gmail.com</a>,
 
 </span>
 <span class="date" title="Sun Jun  9 07:47:36 2013">Jun 9, 2013</span>
 <div>
<div class="commentcontent">
<p>Thanks for reporting this. I have created <a title="XBM Example is invalid" class="closed_ref" href="https://code.google.com/p/m2tklib/issues/detail?id=110">&nbsp;issue 110&nbsp;</a> (<a href="http://code.google.com/p/m2tklib/issues/detail?id=110" rel="nofollow">http://code.google.com/p/m2tklib/issues/detail?id=110</a>) to investigate this. </p>
</div>
 
 
 </div>
 </div>
 

 
 <div class="artifactcomment">
 
 
 
 
 
 
 <span class="author">Comment
 
 by 
 
 

 <a class="userlink" href="https://code.google.com/u/112694133950683843494/">miner...@gmail.com</a>,
 
 </span>
 <span class="date" title="Wed Jul 10 03:15:44 2013">Jul 10, 2013</span>
 <div>
<div class="commentcontent">
<p>Hi Oliver, </p><p>Your library is excellent. Many thanks for this. My C is a bit rusty but I got an I2C connected 2x16 character based LCD  + rotary encoder working on an Arduino board (with your recent 'm2_gh_nlc' option). Still experimenting ... only scratched the surface of the huge range of functionality that you have built.  </p><p>Next, I need to learn how to persist the entered data to EEPROM. </p><p>Thanks, Derek.  </p>
</div>
 
 
 </div>
 </div>
 

 
 <div class="artifactcomment">
 
 
 
 
 
 
 <span class="author">Comment
 
 by  project member 
 
 

 <a class="userlink" href="https://code.google.com/u/105030373771868615429/">olikr...@gmail.com</a>,
 
 </span>
 <span class="date" title="Wed Jul 10 11:57:36 2013">Jul 10, 2013</span>
 <div>
<div class="commentcontent">
<p>Glad to see that you like the library. Oliver </p>
</div>
 
 
 </div>
 </div>
 

 
 <div class="artifactcomment">
 
 
 
 
 
 
 <span class="author">Comment
 
 by 
 
 

 <a class="userlink" href="https://code.google.com/u/111427952755987361746/">will...@curitiba.org</a>,
 
 </span>
 <span class="date" title="Thu Oct 24 11:13:57 2013">Oct 24, 2013</span>
 <div>
<div class="commentcontent">
<p>Oliver, there is any way to get the actual object on focus when using XBMBUTTONP/XBMROOTP? I mean, in a list containing multiples buttons, how could I check which one is actually under focus (not selected, just focused)? This way I could display a string (M2_LABEL?) containing button description. </p>
</div>
 
 
 </div>
 </div>
 

 
 <div class="artifactcomment">
 
 
 
 
 
 
 <span class="author">Comment
 
 by  project member 
 
 

 <a class="userlink" href="https://code.google.com/u/105030373771868615429/">olikr...@gmail.com</a>,
 
 </span>
 <span class="date" title="Thu Oct 24 11:55:34 2013">Oct 24, 2013</span>
 <div>
<div class="commentcontent">
<p>Whithout having this tested, it should be this: focus = m2_nav_get_current_element(m2_get_nav(m2_global_object)); This could be compared against your button: if ( focus == &amp;my_element ) </p><p>Use LABELPTR for the help text, maybe use a fixed width (format option "w") so that the LABELPTR element does not have other side effects after changing the text. </p>
</div>
 
 
 </div>
 </div>
 

 
 <div class="artifactcomment">
 
 
 
 
 
 
 <span class="author">Comment
 
 by 
 
 

 <a class="userlink" href="https://code.google.com/u/111427952755987361746/">will...@curitiba.org</a>,
 
 </span>
 <span class="date" title="Fri Oct 25 07:03:32 2013">Oct 25, 2013</span>
 <div>
<div class="commentcontent">
<p>Oliver, it worked! Thanks again, pal. </p><p>m2_rom_void_p focus = m2_nav_get_current_element(m2_get_nav(&amp;m2_global_object));  </p>
</div>
 
 
 </div>
 </div>
 

 
 <div class="artifactcomment">
 
 
 
 
 
 
 <span class="author">Comment
 
 by 
 
 

 <a class="userlink" href="https://code.google.com/u/111427952755987361746/">will...@curitiba.org</a>,
 
 </span>
 <span class="date" title="Fri Oct 25 07:24:39 2013">Oct 25, 2013</span>
 <div>
<div class="commentcontent">
<p>What's the difference between X2LMENU and 2LMENU? I don't get it! </p>
</div>
 
 
 </div>
 </div>
 

 
 <div class="artifactcomment">
 
 
 
 
 
 
 <span class="author">Comment
 
 by  project member 
 
 

 <a class="userlink" href="https://code.google.com/u/105030373771868615429/">olikr...@gmail.com</a>,
 
 </span>
 <span class="date" title="Fri Oct 25 11:02:06 2013">Oct 25, 2013</span>
 <div>
<div class="commentcontent">
<p>X2LMENU can have a callback procedure for each of the menu entries. </p>
</div>
 
 
 </div>
 </div>
 

 
 <div class="artifactcomment">
 
 
 
 
 
 
 <span class="author">Comment
 
 by 
 
 

 <a class="userlink" href="https://code.google.com/u/111427952755987361746/">will...@curitiba.org</a>,
 
 </span>
 <span class="date" title="Fri Oct 25 11:47:44 2013">Oct 25, 2013</span>
 <div>
<div class="commentcontent">
<p>Oh, I see now! Sorry. </p>
</div>
 
 
 </div>
 </div>
 

 
 <div class="artifactcomment">
 
 
 
 
 
 
 <span class="author">Comment
 
 by  project member 
 
 

 <a class="userlink" href="https://code.google.com/u/105030373771868615429/">olikr...@gmail.com</a>,
 
 </span>
 <span class="date" title="Sat Nov  2 22:57:39 2013">Nov 2, 2013</span>
 <div>
<div class="commentcontent">
<p>@zhang1zhe2 (Jun 9, 2013) The XBMBUTTONP bug will be fixed in the next release (m2elxbm.c has been updated on the repo). </p>
</div>
 
 
 </div>
 </div>
 

 
 <div class="artifactcomment">
 
 
 
 
 
 
 <span class="author">Comment
 
 by 
 
 

 <a class="userlink" href="https://code.google.com/u/111431304649619913929/">20100.ca...@gmail.com</a>,
 
 </span>
 <span class="date" title="Mon Nov 25 02:44:18 2013">Nov 25, 2013</span>
 <div>
<div class="commentcontent">
<p>Hi Oliver, </p><p>I have problem with LABEL. I tried :  </p><pre class="prettyprint"><span class="kwd">char</span><span class="pln"> </span><span class="pun">*</span><span class="pln"> str </span><span class="pun">=</span><span class="pln"> </span><span class="str">"text"</span><span class="pun">;</span><span class="pln"><br>M2_LABELPTR</span><span class="pun">(</span><span class="pln">el_labelptr</span><span class="pun">,</span><span class="pln"> NULL</span><span class="pun">,</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">str</span><span class="pun">);</span></pre><p>But to make it compile, I was obliged to modify it like this: </p><pre class="prettyprint"><span class="kwd">const</span><span class="pln"> </span><span class="kwd">char</span><span class="pln"> </span><span class="pun">*</span><span class="pln"> str </span><span class="pun">=</span><span class="pln"> </span><span class="str">"text"</span><span class="pun">;</span><span class="pln"> <br>M2_LABELPTR</span><span class="pun">(</span><span class="pln">el_labelptr</span><span class="pun">,</span><span class="pln"> NULL</span><span class="pun">,</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">str</span><span class="pun">);</span></pre><p>But I would like to modify my "str" by using snprintf, with a  </p><pre class="prettyprint"><span class="kwd">const</span><span class="pln"> </span><span class="kwd">char</span><span class="pln"> </span><span class="pun">*</span><span class="pln"><br></span><span class="pun">}}},</span><span class="pln"> it </span><span class="kwd">is</span><span class="pln"> </span><span class="kwd">not</span><span class="pln"> possible</span><span class="pun">.</span><span class="pln"> I could I achieve </span><span class="kwd">this</span><span class="pln"> </span><span class="pun">?</span><span class="pln"><br><br></span><span class="typ">Could</span><span class="pln"> you include an example </span><span class="kwd">with</span><span class="pln"> M2_LABELP </span><span class="pun">?</span></pre>
</div>
 
 
 </div>
 </div>
 

 
 <div class="artifactcomment">
 
 
 
 
 
 
 <span class="author">Comment
 
 by  project member 
 
 

 <a class="userlink" href="https://code.google.com/u/105030373771868615429/">olikr...@gmail.com</a>,
 
 </span>
 <span class="date" title="Mon Nov 25 11:46:09 2013">Nov 25, 2013</span>
 <div>
<div class="commentcontent">
<p>This might work: </p><pre class="prettyprint"><span class="kwd">char</span><span class="pln"> </span><span class="pun">*</span><span class="pln">text </span><span class="pun">=</span><span class="pln"> </span><span class="str">"Color"</span><span class="pun">;</span><span class="pln"><br>M2_LABELPTR</span><span class="pun">(</span><span class="pln">el_label1</span><span class="pun">,</span><span class="pln"> NULL</span><span class="pun">,</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">const</span><span class="pln"> </span><span class="kwd">char</span><span class="pln"> </span><span class="pun">**)&amp;</span><span class="pln">text</span><span class="pun">);</span></pre>
</div>
 
 
 </div>
 </div>
 

 
 <div class="artifactcomment">
 
 
 
 
 
 
 <span class="author">Comment
 
 by 
 
 

 <a class="userlink" href="https://code.google.com/u/111431304649619913929/">20100.ca...@gmail.com</a>,
 
 </span>
 <span class="date" title="Wed Nov 27 01:08:31 2013">Nov 27, 2013</span>
 <div>
<div class="commentcontent">
<p>Thanks you Oliver, this worked ! </p>
</div>
 
 
 </div>
 </div>
 

 
 <div class="artifactcomment">
 
 
 
 
 
 
 <span class="author">Comment
 
 by 
 
 

 <a class="userlink" href="https://code.google.com/u/109752270027761080454/">jkpub...@kartech.biz</a>,
 
 </span>
 <span class="date" title="Thu Apr 10 06:02:04 2014">Apr 10, 2014</span>
 <div>
<div class="commentcontent">
<p>Would there be a chance for S32NUM ? I looked int the code, should not be that much work... </p>
</div>
 
 
 </div>
 </div>
 

 
 <div class="artifactcomment">
 
 
 
 
 
 
 <span class="author">Comment
 
 by  project member 
 
 

 <a class="userlink" href="https://code.google.com/u/105030373771868615429/">olikr...@gmail.com</a>,
 
 </span>
 <span class="date" title="Thu Apr 10 12:11:54 2014">Apr 10, 2014</span>
 <div>
<div class="commentcontent">
<p>i have added <a title="S32NUM" href="https://code.google.com/p/m2tklib/issues/detail?id=132">issue 132</a> for this. </p>
</div>
 
 
 </div>
 </div>
 

 
 <div class="artifactcomment">
 
 
 
 
 
 
 <span class="author">Comment
 
 by 
 
 

 <a class="userlink" href="https://code.google.com/u/118293738709380435995/">Clemens....@physik.uni-halle.de</a>,
 
 </span>
 <span class="date" title="Thu Sep  4 03:51:40 2014">Sep 4, 2014</span>
 <div>
<div class="commentcontent">
<p>Hello, </p><p>I would like to know, if when using M2_ROOT to call other menus the old menu will be deleted like it's done when calling m2.clear()? </p><p>I'm asking as I use M2_ROOT Several times in my menu and the sub menus are becoming a little bit slow. </p><p>Thanks for comments. </p>
</div>
 
 
 </div>
 </div>
 

 
 <div class="artifactcomment">
 
 
 
 
 
 
 <span class="author">Comment
 
 by  project member 
 
 

 <a class="userlink" href="https://code.google.com/u/105030373771868615429/">olikr...@gmail.com</a>,
 
 </span>
 <span class="date" title="Thu Sep  4 07:05:25 2014">Sep 4, 2014</span>
 <div>
<div class="commentcontent">
<p>M2tklib does not use any dynamic memory allocation. In that sense, nothing can be deleted. I assume some other reason for the delay. </p>
</div>
 
 
 </div>
 </div>
 

 
 <div class="artifactcomment">
 
 
 
 
 
 
 <span class="author">Comment
 
 by 
 
 

 <a class="userlink" href="https://code.google.com/u/118293738709380435995/">Clemens....@physik.uni-halle.de</a>,
 
 </span>
 <span class="date" title="Wed Sep 17 05:46:36 2014">Sep 17, 2014</span>
 <div>
<div class="commentcontent">
<p>Hello, </p><p>this time I have two issues. </p><p>1. Is it possible, to draw a menu on top of another menu? What I intend to do, is to show something like pop-up messages or menus, when doing something in a certain menu. This message should not fill the total screen and therefore parts of the old menu should be visible (like on ordinary PC). If I just create a new menu for the pop-up and set it to root, the old menu disappears completely. </p><p>Maybe m2.setRoot can be changed to not delete the old menu on the screen? Then I could use m2.clear if I really want to clear the previous menu. </p><p>2. Is it possible for numerical fields (e.g. U32num) to increase the total number and not only the digits on M2_KEY_DATA_UP/M2_KEY_DATA_DOWN? </p><p>Ideal for me would be to increase the number displayed by one just by pushing up/down, when the number field is selected. If the up/down buttons are pressed constantly the number increases faster/slower. </p><p>Probably the last part is not achievable with m2tklib (but would be a great feature in future versions). But I think the first, I think, might be possible with minor change of code. </p><p>I would be glad about comments. Thanks! </p>
</div>
 
 
 </div>
 </div>
 

 
 <div class="artifactcomment">
 
 
 
 
 
 
 <span class="author">Comment
 
 by  project member 
 
 

 <a class="userlink" href="https://code.google.com/u/105030373771868615429/">olikr...@gmail.com</a>,
 
 </span>
 <span class="date" title="Wed Sep 17 10:51:22 2014">Sep 17, 2014</span>
 <div>
<div class="commentcontent">
<p>1. This is not possible. M2tklib is not a "windows" based system. Also the interface to the graphics subsystem does not allow this.  2. Just to clarify this: U32NUM acts like this, but U8NUM works completly different. Make the U32NUM read-only and use some extra buttons (maybe with the Quick-Button feature - format option q -  for connecting the buttons directly to the keys) to add or subtract something. The auto-repeat function has been discussed in one of the tutorials: <a href="https://code.google.com/p/m2tklib/wiki/t11#Auto_Repeat" rel="nofollow">https://code.google.com/p/m2tklib/wiki/t11#Auto_Repeat</a> </p><p>So finally the opposite is true, 1. is not possible but 2. should be no problem. </p>
</div>
 
 
 </div>
 </div>
 

 
 <div class="artifactcomment">
 
 
 
 
 
 
 <span class="author">Comment
 
 by 
 
 

 <a class="userlink" href="https://code.google.com/u/118293738709380435995/">Clemens....@physik.uni-halle.de</a>,
 
 </span>
 <span class="date" title="Thu Sep 18 04:26:48 2014">Sep 18, 2014</span>
 <div>
<div class="commentcontent">
<p>Thank you.  The autorepeat will help me a lot.  I also found a workaround for issue number 1, that works ok for me. </p><p>What you suggested for U32NUM, making it read only and use quick keys, doesn't work for me, as I have more than one U32NUM field in one menu and not enough keys to assign quick-keys to. </p><p>For me, it would be necessary to select one field and then increase/decrease the displayed number. Do you have any suggestion how to do that? </p>
</div>
 
 
 </div>
 </div>
 

 
 <div class="artifactcomment">
 
 
 
 
 
 
 <span class="author">Comment
 
 by  project member 
 
 

 <a class="userlink" href="https://code.google.com/u/105030373771868615429/">olikr...@gmail.com</a>,
 
 </span>
 <span class="date" title="Thu Sep 18 11:44:29 2014">Sep 18, 2014</span>
 <div>
<div class="commentcontent">
<p>Using U8NUM is not an option? It exactly provides this. </p>
</div>
 
 
 </div>
 </div>
 

 
 <div class="artifactcomment">
 
 
 
 
 
 
 <span class="author">Comment
 
 by 
 
 

 <a class="userlink" href="https://code.google.com/u/118293738709380435995/">Clemens....@physik.uni-halle.de</a>,
 
 </span>
 <span class="date" title="Tue Oct  7 09:19:59 2014">Oct 7, 2014</span>
 <div>
<div class="commentcontent">
<p>Sorry for the late reply, but I was away some time. U8NUM might work, but there are some difficulties when I try to implement it. </p><p>From the tutorial I can see, that the whole number is increased when Key_Select<a href="https://code.google.com/p/m2tklib/w/edit/Key_Select">?</a> is pressed. I assume that pressing data_down /data_up will also decrease / increase the total number. </p><p>I would like to use the up and down keys on my keypad to do this, but I already use them for navigating through the whole menu. </p><p>Is it possible to "enter" the U8num Element like I can "enter" a U32num element, e.g. by clicking Key_Select<a href="https://code.google.com/p/m2tklib/w/edit/Key_Select">?</a> when the cursor is on the element. </p><p>For U32num I set a flag when entering the element, which allows me to define separate keys for the u32nm elements.  </p><p>The result should be the following: use up/down keys to navigate through menu. When on u8num field, I click select. Now I can increase / decrease the number by clicking the up/down keys previously used for navigation. When I'm finished I click select which exits the u8num element and changes up/down keys back to normal operation. </p><p>Is that possible with u8num? Any suggestions how to do it. </p><p>Thanks for helping </p>
</div>
 
 
 </div>
 </div>
 

 
 <div class="artifactcomment">
 
 
 
 
 
 
 <span class="author">Comment
 
 by  project member 
 
 

 <a class="userlink" href="https://code.google.com/u/105030373771868615429/">olikr...@gmail.com</a>,
 
 </span>
 <span class="date" title="Tue Oct  7 11:30:46 2014">Oct 7, 2014</span>
 <div>
<div class="commentcontent">
<p>Such behavior is supported by the m2_eh_4bd event handler. </p>
</div>
 
 
 </div>
 </div>
 

 
 <div class="artifactcomment">
 
 
 
 
 
 
 <span class="author">Comment
 
 by 
 
 

 <a class="userlink" href="https://code.google.com/u/118293738709380435995/">Clemens....@physik.uni-halle.de</a>,
 
 </span>
 <span class="date" title="Thu Oct  9 00:43:51 2014">Oct 9, 2014</span>
 <div>
<div class="commentcontent">
<p>Thank you. I could solve my issue. </p><p>By the way, is it possible to center the single elements in a string list? Is it possible to shrink the frame around the selected element to the width of the element? </p><p>If not , I think it might be a nice feature for a later version. </p>
</div>
 
 
 </div>
 </div>
 

 
 <div class="artifactcomment">
 
 
 
 
 
 
 <span class="author">Comment
 
 by  project member 
 
 

 <a class="userlink" href="https://code.google.com/u/105030373771868615429/">olikr...@gmail.com</a>,
 
 </span>
 <span class="date" title="Thu Oct  9 11:52:36 2014">Oct 9, 2014</span>
 <div>
<div class="commentcontent">
<p>There are two was to center strings. One is the f8,f9,f10,f11 options. Second is the use of the M2_ALIGN element. In general any container tries to be as much "shrinked" as possible. If this is not the case, then maybe a manual width prevents the parent container from shrinking. </p>
</div>
 
 
 </div>
 </div>
 

 
 <div class="artifactcomment">
 
 
 
 
 
 
 <span class="author">Comment
 
 by 
 
 

 <a class="userlink" href="https://code.google.com/u/118293738709380435995/">Clemens....@physik.uni-halle.de</a>,
 
 </span>
 <span class="date" title="Fri Oct 10 00:42:49 2014">Oct 10, 2014</span>
 <div>
<div class="commentcontent">
<p>Maybe I didn't explain it correctly. I don't want to center the StrList<a href="https://code.google.com/p/m2tklib/w/edit/StrList">?</a> on the screen, like I would with ALIGN. I want to center the elements in the stringlist (e.g. apple, banana,..). Further I would like to shrink the selection box of the respective elements to be as wide as the word that is selected (e.g. apple, banana) </p><p>In principle f8-f11 should work, but the text is not centred. The only thing I recognized is that the f8-f11 parameters seems to overwrite the f0-f3 parameters. </p><p>To give you an example: I define m2.setFont(1, u8g_font_6x13); m2.setFont(0, u8g_font_6x10); </p><p>Text with option f1 is 13 high, with f0 is 10 high. I change to: m2.setFont(1, u8g_font_6x13); m2.setFont(9, u8g_font_6x10); m2.setFont(0, u8g_font_6x10); </p><p>Now text with f1 is 10 high and text with f 0 is 10 high. It seems f9 has overwritten f1, however without centering the text horizontally. Also using f9 does not enable centering. </p>
</div>
 
 
 </div>
 </div>
 

 
 <div class="artifactcomment">
 
 
 
 
 
 
 <span class="author">Comment
 
 by  project member 
 
 

 <a class="userlink" href="https://code.google.com/u/105030373771868615429/">olikr...@gmail.com</a>,
 
 </span>
 <span class="date" title="Fri Oct 10 11:36:48 2014">Oct 10, 2014</span>
 <div>
<div class="commentcontent">
<p>ok, first, there can be only 4 fonts maximum. </p><blockquote>m2.setFont(9, u8g_font_6x10) will be treated as 
m2.setFont(9 &amp; 3, u8g_font_6x10) which is actually  m2.setFont(1, u8g_font_6x10); 
</blockquote>The f8 option refers to the format argument: M2_BUTTON(mybutton, "f8", "ok") This will center "ok" within the button. usually, this is used with the width option: M2_BUTTON(mybutton, "f8W64", "ok") W64 will use the current display width and f8 will center the ok button for font 0. f9 will center, but use font 1 f10 will center with font 2 and f11, with font 3 Similar things will happen with f4 to f9. They will apply the highlight style to the button. And of course highlight and center can be combined f12 will use centered text with the highlight stile. So it is a bit encoded number: Bits 0 and 1: font index Bit 2: highlight style Bit 3: center flag <p></p>
</div>
 
 
 </div>
 </div>
 

 
 <div class="artifactcomment">
 
 
 
 
 
 
 <span class="author">Comment
 
 by 
 
 

 <a class="userlink" href="https://code.google.com/u/118293738709380435995/">Clemens....@physik.uni-halle.de</a>,
 
 </span>
 <span class="date" title="Tue Oct 21 04:55:31 2014">Oct 21, 2014</span>
 <div>
<div class="commentcontent">
<p>Hello, this time I have a more conceptual issue. However as it is mainly related to the M2tklib this might still be the right place to post. </p><p>As my code is now approaching 2000 lines, I feel more and more the need to split my project (main.cpp) into different files to not loose the overview over my project. Therefore I would like to put all M2tklib menu structure related code into a separate file (Menu.h).  </p><p>Until now, I was able to put all declarations like M2_LABEL etc into a separate header file.  However I don't know how to handle the variables that are used by e.g. M2_STRLIST or M2_COMBO to set number of visible lines and so on. </p><p>I tried to define them globally in my Global.h file which is by used any other file and then define them locally in the main.cpp and Menu.h However, this seems not to be legitimate as I get a compiler error message "redefinition of 'uint8_t select_color'" / "'uint8_t select_color' previously declared here". </p><p>Is there a (maybe more elegant) possibility how to put most M2tklib related code (including functions for STRLIST, BUTTON etc) into a separate file. Maybe someone has an example project that is setup like this. </p><p>Again, thanks a lot for help. </p>
</div>
 
 
 </div>
 </div>
 

 
 <div class="artifactcomment">
 
 
 
 
 
 
 <span class="author">Comment
 
 by 
 
 

 <a class="userlink" href="https://code.google.com/u/111427952755987361746/">will...@curitiba.org</a>,
 
 </span>
 <span class="date" title="Tue Oct 21 12:04:02 2014">Oct 21, 2014</span>
 <div>
<div class="commentcontent">
<p>Hi Oliver! Is it possible to change a XBMBUTTONP pointer when active using callback function or something? Eg: I have a XBM button with a speaker icon, how could I change that to a "mute speaker" icon when callback function is called? I'm not sure if it's possible to achieve... Thanks in advance! </p>
</div>
 
 
 </div>
 </div>
 

 
 <div class="artifactcomment">
 
 
 
 
 
 
 <span class="author">Comment
 
 by  project member 
 
 

 <a class="userlink" href="https://code.google.com/u/105030373771868615429/">olikr...@gmail.com</a>,
 
 </span>
 <span class="date" title="Tue Oct 21 13:19:27 2014">Oct 21, 2014</span>
 <div>
<div class="commentcontent">
<p>@Clemens: You must not put any M2 element into a .h file. Use a second .cpp or .c file. @willian: Currently this is not possible. I see two workarounds: (1) maybe you can write the bitmap directly to the screen. There is a tutorial on this topic (2) you can try to use the undocumented M2_HIDE element. Use a M2_XYLIST to place two different M2_HIDE elements at the same position. Each of the two M2_HIDE elements contain one bitmap, but the condition for hide will only enable one of the two bitmaps. </p>
</div>
 
 
 </div>
 </div>
 

 
 <div class="artifactcomment">
 
 
 
 
 
 
 <span class="author">Comment
 
 by 
 
 

 <a class="userlink" href="https://code.google.com/u/118293738709380435995/">Clemens....@physik.uni-halle.de</a>,
 
 </span>
 <span class="date" title="Wed Oct 22 04:52:03 2014">Oct 22, 2014</span>
 <div>
<div class="commentcontent">
<p>Thank you, now it seems to work </p>
</div>
 
 
 </div>
 </div>
 

 
 <div class="artifactcomment">
 
 
 
 
 
 
 <span class="author">Comment
 
 by 
 
 

 <a class="userlink" href="https://code.google.com/u/118293738709380435995/">Clemens....@physik.uni-halle.de</a>,
 
 </span>
 <span class="date" title="Mon Nov  3 06:04:07 2014">Nov 3, 2014</span>
 <div>
<div class="commentcontent">
<p>Hello Oliver, </p><p>I have a question regarding STRLIST. Is it possible to set the line that is selected when calling the STRLIST element? </p><p>What I intend to do is, to select for example entry two of four in the STRLIST,open the connected element in another menu. When I return to STRLIST entry 2 should be already selected not the like by default the first element. </p><p>As far as I understand "el_strlist_first" cannot be used, as it indicates the first visible element in a STRLIST, when not all elements are visible. (In my case all elements are visible). </p><p>Thank you for your help </p>
</div>
 
 
 </div>
 </div>
 

 
 <div class="artifactcomment">
 
 
 
 
 
 
 <span class="author">Comment
 
 by  project member 
 
 

 <a class="userlink" href="https://code.google.com/u/105030373771868615429/">olikr...@gmail.com</a>,
 
 </span>
 <span class="date" title="Mon Nov  3 07:09:45 2014">Nov 3, 2014</span>
 <div>
<div class="commentcontent">
<p>The setRoot function has a 2nd argument which contains the number of "next" messages, which should be sent to the dialog. If your STRLIST is the topmost dialog, then just provide the desired position as second argument to setRoot.  </p>
</div>
 
 
 </div>
 </div>
 

 
 <div class="artifactcomment">
 
 
 
 
 
 
 <span class="author">Comment
 
 by  project member 
 
 

 <a class="userlink" href="https://code.google.com/u/105030373771868615429/">olikr...@gmail.com</a>,
 
 </span>
 <span class="date" title="Mon Nov  3 07:11:19 2014">Nov 3, 2014</span>
 <div>
<div class="commentcontent">
<p>M2_ROOT has also this "next" option, but it is a static option only. So you may need to change the calling M2_ROOT element to M2_BUTTON with a setRoot as action callback. </p>
</div>
 
 
 </div>
 </div>
 

 
 <div class="artifactcomment">
 
 
 
 
 
 
 <span class="author">Comment
 
 by 
 
 

 <a class="userlink" href="https://code.google.com/u/118293738709380435995/">Clemens....@physik.uni-halle.de</a>,
 
 </span>
 <span class="date" title="Thu Dec 11 02:13:11 2014">Dec 11 (6 days ago)</span>
 <div>
<div class="commentcontent">
<p>Hello Oliver, </p><p>first thank you for your last reply. The next option was, what I needed. </p><p>Today I have another question regarding the strlist. How can I make a STRLIST Element not selectable? </p><p>The actual problem is the following: I have a list of selectable items in the middle of the screen. I can select an item (then marked with a cross). Afterwards I click on a button below my list, which opens another STRLIST showing options what to do with the element selected before. </p><p>I this situation I want to be able to only scroll the Options STRLIST. However when I come to the end of the list the focus jumps to Items STRLIST. </p><p>In other situations, where I have input elements, I set them read only, so it's not possible to put the focus on them. Unfortunately there is no such "<a href="https://code.google.com/p/m2tklib/source/detail?r=1">r1</a>" option for a STRLIST element. </p><p>Do you see another possibility to reach my goal. </p><p>Thank you. </p>
</div>
 
 
 </div>
 </div>
 

 
 <div class="artifactcomment">
 
 
 
 
 
 
 <span class="author">Comment
 
 by  project member 
 
 

 <a class="userlink" href="https://code.google.com/u/105030373771868615429/">olikr...@gmail.com</a>,
 
 </span>
 <span class="date" title="Thu Dec 11 12:59:42 2014">Dec 11 (6 days ago)</span>
 <div>
<div class="commentcontent">
<p>Currently it is not possible to set a single element of STRLIST to read only.  I am not sure whether I understood your problem correct, but maybe you could open the option STRLIST in an extra dialog window. </p>
</div>
 
 
 </div>
 </div>
 

 
 <div class="artifactcomment">
 
 
 
 
 
 
 <span class="author">Comment
 
 by 
 
 

 <a class="userlink" href="https://code.google.com/u/118293738709380435995/">Clemens....@physik.uni-halle.de</a>,
 
 </span>
 <span class="date" title="Fri Dec 12 00:00:22 2014">Dec 12 (5 days ago)</span>
 <div>
<div class="commentcontent">
<p>I'm don't want to set a single element of a STRLIST to read only but the whole list. </p><p>I try to explain it in more detail. I split my screen into three parts: header line, center, footer line. The center contains the Items STRLIST. The footer lines shows the current function of the contextual keys below. </p><p>Now I can select an item from STRLIST. Then, by clicking a certain button positioned in the footer line, I open a new dialog window which looks exactly like the first but the footer line is replayed by a one line STRLIST showing options what to do with the previously selected element. Options are like load item, delete item, new item, or go back. The latter opening the first dialog window without STRLIST footer. </p><p>What I want to achieve is that I can only scroll in Options STRLIST, when it is opened. That means the items STRLIST which can still be seen should not be accessible for the cursor. </p><p>I hope I could make it a little bit clearer. </p>
</div>
 
 
 </div>
 </div>
 

 
 <div class="artifactcomment">
 
 
 
 
 
 
 <span class="author">Comment
 
 by 
 
 

 <a class="userlink" href="https://code.google.com/u/118293738709380435995/">Clemens....@physik.uni-halle.de</a>,
 
 </span>
 <span class="date" title="Fri Dec 12 03:51:56 2014">Dec 12 (5 days ago)</span>
 <div>
<div class="commentcontent">
<p>Trying with COMBO now, hope it works. </p>
</div>
 
 
 </div>
 </div>
 

 
 <div class="artifactcomment">
 
 
 
 
 
 
 <span class="author">Comment
 
 by 
 
 

 <a class="userlink" href="https://code.google.com/u/118293738709380435995/">Clemens....@physik.uni-halle.de</a>,
 
 </span>
 <span class="date" title="Mon Dec 15 05:21:53 2014">Dec 15 (2 days ago)</span>
 <div>
<div class="commentcontent">
<p>Turned out COMBO is what works well, in my menu structure. I was even able to get rid of my text centering problem, I posted earlier. It seems, that it's simply not possible to center text in STRLIST with e.g. "f8" format option. However it works with the combo box. </p><p>One think I noticed when using combo with DATA_UP / DATA_DOWN keys is, that I can only go up with DATA_UP but not down with DATA_DOWN in my list, except the case when I go from the previous last element to the last element of my list. </p><p>Same also happens, when I use the COMBO example. Maybe it's a bug? You should be able to reproduce the effect when exchanging the following lines in the combo example: [[[ M2tk m2(&amp;el_top, m2_es_arduino, m2_eh_6bs, m2_gh_u8g_bf); ]]] and  [[[ </p><blockquote>m2.setPin(M2_KEY_DATA_UP, uiKeyDownPin); 
</blockquote><blockquote>m2.setPin(M2_KEY_DATA_DOWN,uiKeyUpPin); 
</blockquote>]]] <p></p><p>If you want I can post the whole file as well. </p>
</div>
 
 
 </div>
 </div>
 

 
 <div class="artifactcomment">
 
 
 
 
 
 
 <span class="author">Comment
 
 by  project member 
 
 

 <a class="userlink" href="https://code.google.com/u/105030373771868615429/">olikr...@gmail.com</a>,
 
 </span>
 <span class="date" title="Mon Dec 15 10:38:45 2014">Dec 15 (2 days ago)</span>
 <div>
<div class="commentcontent">
<p>The complete example would be best together with a description for me: What did you expect, what did you actually see. It would be even better if you could create an issure for this. </p>
</div>
 
 
 </div>
 </div>
 

</div>
</div>

 


 <script type="text/javascript">
 function delComment(sequence_num, create_time, delete_mode) {
 var f = document.forms["delcom"];
 f.sequence_num.value = sequence_num;
 f.create_time.value = create_time;
 f.mode.value = delete_mode;
 f.submit();
 return false;
 }
 </script>


 </div>
 
 
 
 
 <br>
 <div class="artifactcomment">
 <span class="indicator">â–º</span> <a href="https://www.google.com/accounts/ServiceLogin?service=code&ltmpl=phosting&continue=https%3A%2F%2Fcode.google.com%2Fp%2Fm2tklib%2Fwiki%2Felref&followup=https%3A%2F%2Fcode.google.com%2Fp%2Fm2tklib%2Fwiki%2Felref">Sign in</a> to add a comment
 </div>
 
 
 
 
 <form name="delcom" action="https://code.google.com/p/m2tklib/w/delComment.do" method="POST">
 <input type="hidden" name="sequence_num" value="">
 <input type="hidden" name="create_time" value="">
 <input type="hidden" name="mode" value="">
 <input type="hidden" name="pagename" value="elref">
 <input type="hidden" name="token" value="">
 </form>


 <script src="./elref - m2tklib - Element (Widget) Reference - Mini Interative Interface Toolkit Library - Google Project Hosting_files/prettify.js"></script>
 <script type="text/javascript">
 prettyPrint();
 </script>

<script type="text/javascript" src="./elref - m2tklib - Element (Widget) Reference - Mini Interative Interface Toolkit Library - Google Project Hosting_files/dit_scripts.js"></script>



  
 
 
 <script type="text/javascript" src="./elref - m2tklib - Element (Widget) Reference - Mini Interative Interface Toolkit Library - Google Project Hosting_files/ph_core.js"></script>
 
 <script type="text/javascript" src="./elref - m2tklib - Element (Widget) Reference - Mini Interative Interface Toolkit Library - Google Project Hosting_files/ph_dwiki.js"></script>
 
 
 
 
</div> 

<div id="footer" dir="ltr">
 <div class="text">
 <a href="https://code.google.com/projecthosting/terms.html">Terms</a> -
 <a href="http://www.google.com/privacy.html">Privacy</a> -
 <a href="https://code.google.com/p/support/">Project Hosting Help</a>
 </div>
</div>
 <div class="hostedBy" style="margin-top: -20px;">
 <span style="vertical-align: top;">Powered by <a href="http://code.google.com/projecthosting/">Google Project Hosting</a></span>
 </div>

 
 


 
 



<div class="menuDiv instance0" id="menuDiv-projects-dropdown" style="position: absolute; display: none; top: 17px; left: 846px;"><div class="menuCategory default" style="display: none;"></div><div class="menuCategory controls first"><a class="menuItem" href="http://www.google.com/accounts/ServiceLogin?service=code&ltmpl=phosting&continue=https%3A%2F%2Fcode.google.com%2Fp%2Fm2tklib%2Fwiki%2Felref&amp;followup=https%3A%2F%2Fcode.google.com%2Fp%2Fm2tklib%2Fwiki%2Felref" style="display: block;">Sign in to see your favorites</a><hr class="menuSeparator"><a class="menuItem" href="https://code.google.com/hosting/" style="display: block;">Find open source projects...</a><a class="menuItem" href="https://code.google.com/hosting/createProject" style="display: block;">Create a project...</a></div></div><script id="hiddenlpsubmitdiv" style="display: none;"></script><script>try{for(var lastpass_iter=0; lastpass_iter < document.forms.length; lastpass_iter++){ var lastpass_f = document.forms[lastpass_iter]; if(typeof(lastpass_f.lpsubmitorig2)=="undefined"){ lastpass_f.lpsubmitorig2 = lastpass_f.submit; lastpass_f.submit = function(){ var form=this; var customEvent = document.createEvent("Event"); customEvent.initEvent("lpCustomEvent", true, true); var d = document.getElementById("hiddenlpsubmitdiv"); if (d) {for(var i = 0; i < document.forms.length; i++){ if(document.forms[i]==form){ if (typeof(d.innerText) != 'undefined') { d.innerText=i; } else { d.textContent=i; } } } d.dispatchEvent(customEvent); }form.lpsubmitorig2(); } } }}catch(e){}</script></body></html>