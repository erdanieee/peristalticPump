<!DOCTYPE html>
<!-- saved from url=(0044)https://code.google.com/p/m2tklib/wiki/fnref -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
 
 <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
 
 <meta name="ROBOTS" content="NOARCHIVE">
 
 <link rel="icon" type="image/vnd.microsoft.icon" href="https://ssl.gstatic.com/codesite/ph/images/phosting.ico">
 
 
 <link rel="canonical" href="./fnref - m2tklib - Function Reference - Mini Interative Interface Toolkit Library - Google Project Hosting_files/fnref - m2tklib - Function Reference - Mini Interative Interface Toolkit Library - Google Project Hosting.html">
 
 <script src="./fnref - m2tklib - Function Reference - Mini Interative Interface Toolkit Library - Google Project Hosting_files/cb=gapi.loaded_0" async=""></script><script type="text/javascript" async="" src="./fnref - m2tklib - Function Reference - Mini Interative Interface Toolkit Library - Google Project Hosting_files/plusone.js" gapi_processed="true"></script><script type="text/javascript">
 
 
 
 
 var codesite_token = null;
 
 
 var CS_env = {"loggedInUserEmail": null, "relativeBaseUrl": "", "assetHostPath": "https://ssl.gstatic.com/codesite/ph", "profileUrl": null, "domainName": null, "assetVersionPath": "https://ssl.gstatic.com/codesite/ph/1729405847801014513", "projectHomeUrl": "/p/m2tklib", "token": null, "projectName": "m2tklib"};
 var _gaq = _gaq || [];
 _gaq.push(
 ['siteTracker._setAccount', 'UA-18071-1'],
 ['siteTracker._trackPageview']);
 
 _gaq.push(
 ['projectTracker._setAccount', 'UA-12892188-2'],
 ['projectTracker._trackPageview']);
 
 (function() {
 var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
 ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
 (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(ga);
 })();
 
 </script><script type="text/javascript" async="" src="./fnref - m2tklib - Function Reference - Mini Interative Interface Toolkit Library - Google Project Hosting_files/ga.js"></script>
 
 
 <title>fnref - 
 m2tklib -
 
 Function Reference - 
 Mini Interative Interface Toolkit Library - Google Project Hosting
 </title>
 <link type="text/css" rel="stylesheet" href="./fnref - m2tklib - Function Reference - Mini Interative Interface Toolkit Library - Google Project Hosting_files/core.css">
 
 <link type="text/css" rel="stylesheet" href="./fnref - m2tklib - Function Reference - Mini Interative Interface Toolkit Library - Google Project Hosting_files/ph_detail.css">
 
 
 
 <link type="application/atom+xml" rel="alternate" href="https://code.google.com/feeds/p/m2tklib/hgchanges/basic?path=/fnref.wiki&repo=wiki">
 
 
<!--[if IE]>
 <link type="text/css" rel="stylesheet" href="https://ssl.gstatic.com/codesite/ph/1729405847801014513/css/d_ie.css" >
<![endif]-->
 <style type="text/css">
 .menuIcon.off { background: no-repeat url(https://ssl.gstatic.com/codesite/ph/images/dropdown_sprite.gif) 0 -42px }
 .menuIcon.on { background: no-repeat url(https://ssl.gstatic.com/codesite/ph/images/dropdown_sprite.gif) 0 -28px }
 .menuIcon.down { background: no-repeat url(https://ssl.gstatic.com/codesite/ph/images/dropdown_sprite.gif) 0 0; }
 
 
 #maincol {
 padding-top: 0;
 padding-bottom: 0;
 }

 
 </style>
</head>
<body class="t6">
<script type="text/javascript">
 window.___gcfg = {lang: 'en'};
 (function() 
 {var po = document.createElement("script");
 po.type = "text/javascript"; po.async = true;po.src = "https://apis.google.com/js/plusone.js";
 var s = document.getElementsByTagName("script")[0];
 s.parentNode.insertBefore(po, s);
 })();
</script>
<div class="headbg">

 <div id="gaia">
 

 <span>
 
 
 <a href="https://code.google.com/p/m2tklib/wiki/fnref#" id="projects-dropdown" onclick="return false;"><u>My favorites</u> <small>â–¼</small></a>
 | <a href="https://www.google.com/accounts/ServiceLogin?service=code&ltmpl=phosting&continue=https%3A%2F%2Fcode.google.com%2Fp%2Fm2tklib%2Fwiki%2Ffnref&followup=https%3A%2F%2Fcode.google.com%2Fp%2Fm2tklib%2Fwiki%2Ffnref" onclick="_CS_click(&#39;/gb/ph/signin&#39;);"><u>Sign in</u></a>
 
 </span>

 </div>

 <div class="gbh" style="left: 0pt;"></div>
 <div class="gbh" style="right: 0pt;"></div>
 
 
 <div style="height: 1px"></div>
<!--[if lte IE 7]>
<div style="text-align:center;">
Your version of Internet Explorer is not supported. Try a browser that
contributes to open source, such as <a href="http://www.firefox.com">Firefox</a>,
<a href="http://www.google.com/chrome">Google Chrome</a>, or
<a href="http://code.google.com/chrome/chromeframe/">Google Chrome Frame</a>.
</div>
<![endif]-->



 <table style="padding:0px; margin: 0px 0px 10px 0px; width:100%" cellpadding="0" cellspacing="0" itemscope="" itemtype="http://schema.org/CreativeWork">
 <tbody><tr style="height: 58px;">
 
 
 
 <td id="plogo">
 <link itemprop="url" href="https://code.google.com/p/m2tklib">
 <a href="https://code.google.com/p/m2tklib/">
 
 <img src="./fnref - m2tklib - Function Reference - Mini Interative Interface Toolkit Library - Google Project Hosting_files/defaultlogo.png" alt="Logo" itemprop="image">
 
 </a>
 </td>
 
 <td style="padding-left: 0.5em">
 
 <div id="pname">
 <a href="https://code.google.com/p/m2tklib/"><span itemprop="name">m2tklib</span></a>
 </div>
 
 <div id="psum">
 <a id="project_summary_link" href="https://code.google.com/p/m2tklib/"><span itemprop="description">Mini Interative Interface Toolkit Library</span></a>
 
 </div>
 
 
 </td>
 <td style="white-space:nowrap;text-align:right; vertical-align:bottom;">
 
 <form action="https://code.google.com/hosting/search">
 <input size="30" name="q" value="" type="text">
 
 <input type="submit" name="projectsearch" value="Search projects">
 </form>
 
 </td></tr>
 </tbody></table>

</div>

 
<div id="mt" class="gtb"> 
 <a href="https://code.google.com/p/m2tklib/" class="tab ">Project&nbsp;Home</a>
 
 
 
 
 <a href="https://code.google.com/p/m2tklib/downloads/list" class="tab ">Downloads</a>
 
 
 
 
 
 <a href="https://code.google.com/p/m2tklib/wiki/m2tklib?tm=6" class="tab active">Wiki</a>
 
 
 
 
 
 <a href="https://code.google.com/p/m2tklib/issues/list" class="tab ">Issues</a>
 
 
 
 
 
 <a href="https://code.google.com/p/m2tklib/source/checkout" class="tab ">Source</a>
 
 
 
 
 
 
 
 
 <div class="gtbc"></div>
</div>
<table cellspacing="0" cellpadding="0" width="100%" align="center" border="0" class="st">
 <tbody><tr>
 
 
 
 <td class="subt">
 <div class="issueDetail">
<div class="isf">
 
 <span class="inIssueList"> 
 <span>Search</span>
 <form action="https://code.google.com/p/m2tklib/w/list" method="GET" style="display:inline">
 <select id="can" name="can">
 <option disabled="disabled">Search within:</option>
 
 <option value="1">&nbsp;All wiki pages</option>
 <option value="3">&nbsp;Featured pages</option>
 <option value="2" selected="selected">&nbsp;Current pages</option>
 
 
 <option value="4">&nbsp;Deprecated pages</option>
 
 </select>
 <span>for</span>
 <span id="qq"><input type="text" size="38" id="searchq" name="q" value="" autocomplete="off"></span>
 
 
 
 <input type="submit" value="Search">
 </form>
 </span>

 
 
 
 
 
 
 

</div>
</div>

 </td>
 
 
 
 
 
 
 <td align="right" valign="top" class="bevel-right"></td>
 </tr>
</tbody></table>


<script type="text/javascript">
 var cancelBubble = false;
 function _go(url) { document.location = url; }
</script>
<div id="maincol">

 







 <style type="text/css">
 .delcom { background: #e8e8e8 }
 .commentcontent {
 margin: 2em;
 padding: 0px 10px;
 width: 66em;
 }
 .artifactcomment {
 border-top: 3px solid #c3d9ff;
 }
 #commentform {
 border-top: 3px solid #c3d9ff;
 }
 </style>

<div id="wikipage">
<table>
 <tbody><tr>
 
 
 <td style="vertical-align:top; padding-left:5px">
 
 <div id="wikiheader">
 
 <span style="font-size:120%;font-weight:bold">fnref</span>
 &nbsp;
 <div> 
 
 <i>Function Reference</i>
 
 
 
 <div id="wikiauthor" style="float:right">
 Updated <span title="Tue Nov  5 02:41:42 2013">
 Nov 5, 2013</span>
 
 by 

 <a class="userlink" href="https://code.google.com/u/105030373771868615429/">olikr...@gmail.com</a>
 
 </div>
 </div>
 </div>
 
 <div id="wikicontent">
 <div class="vt" id="wikimaincol">
 <p></p><ul><li><a href="https://code.google.com/p/m2tklib/wiki/fnref#Function_Reference">Function Reference</a></li><ul><li><a href="https://code.google.com/p/m2tklib/wiki/fnref#checkKey">checkKey</a></li><li><a href="https://code.google.com/p/m2tklib/wiki/fnref#clear">clear</a></li><li><a href="https://code.google.com/p/m2tklib/wiki/fnref#draw">draw</a></li><li><a href="https://code.google.com/p/m2tklib/wiki/fnref#getKey">getKey</a></li><li><a href="https://code.google.com/p/m2tklib/wiki/fnref#getRoot">getRoot</a></li><li><a href="https://code.google.com/p/m2tklib/wiki/fnref#Init">Init</a></li><li><a href="https://code.google.com/p/m2tklib/wiki/fnref#handleKey">handleKey</a></li><li><a href="https://code.google.com/p/m2tklib/wiki/fnref#M2tk">M2tk</a></li><li><a href="https://code.google.com/p/m2tklib/wiki/fnref#setFont">setFont</a></li><li><a href="https://code.google.com/p/m2tklib/wiki/fnref#setHome">setHome</a></li><li><a href="https://code.google.com/p/m2tklib/wiki/fnref#setHome2">setHome2</a></li><li><a href="https://code.google.com/p/m2tklib/wiki/fnref#setKey">setKey</a></li><li><a href="https://code.google.com/p/m2tklib/wiki/fnref#SetLiquidCrystal">SetLiquidCrystal</a></li><li><a href="https://code.google.com/p/m2tklib/wiki/fnref#setPin">setPin</a></li><li><a href="https://code.google.com/p/m2tklib/wiki/fnref#setRoot">setRoot</a></li><li><a href="https://code.google.com/p/m2tklib/wiki/fnref#setRootChangeCallback">setRootChangeCallback</a></li></ul><li><a href="https://code.google.com/p/m2tklib/wiki/fnref#Links">Links</a></li></ul> <p></p><h1><a name="Function_Reference"></a>Function Reference<a href="https://code.google.com/p/m2tklib/wiki/fnref#Function_Reference" class="section_anchor"></a></h1><h2><a name="checkKey"></a>checkKey<a href="https://code.google.com/p/m2tklib/wiki/fnref#checkKey" class="section_anchor"></a></h2><ul><li>C++ Prototype </li><pre class="prettyprint"><span class="kwd">void</span><span class="pln"> M2tk</span><span class="pun">::</span><span class="pln">checkKey</span><span class="pun">(</span><span class="kwd">void</span><span class="pun">)</span></pre><li>C Prototype </li><pre class="prettyprint"><span class="kwd">void</span><span class="pln"> m2_CheckKey</span><span class="pun">(</span><span class="kwd">void</span><span class="pun">)</span></pre><li>Description </li></ul><blockquote>Calls the event source to check hardware events. The event source is applied during the startup procedure of the library. The internal debounce algorithm requires this procedure to be called as often as possible.  
</blockquote><blockquote>This procedure also polls the incremental rotary encoder (see <a href="https://code.google.com/p/m2tklib/wiki/t09">Tutorial 9</a>). 
</blockquote><ul><li>See also: <a href="https://code.google.com/p/m2tklib/wiki/fnref#M2tk">M2tk</a> </li></ul><h2><a name="clear"></a>clear<a href="https://code.google.com/p/m2tklib/wiki/fnref#clear" class="section_anchor"></a></h2><ul><li>C++ Prototype </li><pre class="prettyprint"><span class="kwd">void</span><span class="pln"> M2tk</span><span class="pun">::</span><span class="pln">clear</span><span class="pun">(</span><span class="kwd">void</span><span class="pun">)</span></pre><li>C Prototype </li><pre class="prettyprint"><span class="kwd">void</span><span class="pln"> m2_Clear</span><span class="pun">(</span><span class="kwd">void</span><span class="pun">)</span></pre><li>Description </li></ul><blockquote>Remove the entire element hierarchy from <tt>m2tklib</tt>. This will remove the menu from the output device and also stops the event processing. However, events are still queued. Use <tt>setRoot()</tt> to apply another menu and enable event processing again. 
</blockquote><ul><li>Note: This is equivalent to <tt>setRoot(NULL)</tt> </li><li>See also: <a href="https://code.google.com/p/m2tklib/wiki/fnref#M2tk">M2tk</a> <a href="https://code.google.com/p/m2tklib/wiki/elref#BUTTON">BUTTON Element</a> </li></ul><h2><a name="draw"></a>draw<a href="https://code.google.com/p/m2tklib/wiki/fnref#draw" class="section_anchor"></a></h2><ul><li>C++ Prototype </li><pre class="prettyprint"><span class="kwd">void</span><span class="pln"> M2tk</span><span class="pun">::</span><span class="pln">draw</span><span class="pun">(</span><span class="kwd">void</span><span class="pun">)</span></pre><li>C Prototype </li><pre class="prettyprint"><span class="kwd">void</span><span class="pln"> m2_Draw</span><span class="pun">(</span><span class="kwd">void</span><span class="pun">)</span></pre><li>Description </li><blockquote>Traverse the menu and draw all menu elements on the output device. The graphics handler for the output devices applied during the startup procedure of the library.  
</blockquote><li>Example: </li><blockquote>Output a menu on the <a href="http://code.google.com/p/dogm128/" rel="nofollow">dogm128 library</a>. 
<pre class="prettyprint"><span class="com">#include</span><span class="pln"> </span><span class="str">"Dogm.h"</span><span class="pln"><br></span><span class="com">#include</span><span class="pln"> </span><span class="str">"M2tk.h"</span><span class="pln"><br></span><span class="com">#include</span><span class="pln"> </span><span class="str">"m2ghdogm.h"</span><span class="pln"><br></span><span class="kwd">int</span><span class="pln"> a0Pin </span><span class="pun">=</span><span class="pln"> </span><span class="lit">9</span><span class="pun">;</span><span class="pln"><br></span><span class="typ">Dogm</span><span class="pln"> dogm</span><span class="pun">(</span><span class="pln">a0Pin</span><span class="pun">);</span><span class="pln"><br>M2_LABEL</span><span class="pun">(</span><span class="pln">hello_world_label</span><span class="pun">,</span><span class="pln"> </span><span class="str">""</span><span class="pun">,</span><span class="pln"> </span><span class="str">"Hello World!"</span><span class="pun">);</span><span class="pln"><br>M2tk m2</span><span class="pun">(&amp;</span><span class="pln">hello_world_label</span><span class="pun">,</span><span class="pln"> NULL</span><span class="pun">,</span><span class="pln"> NULL</span><span class="pun">,</span><span class="pln"> m2_gh_dogm_fbs</span><span class="pun">);</span><span class="pln"><br></span><span class="kwd">void</span><span class="pln"> setup</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; m2</span><span class="pun">.</span><span class="pln">setFont</span><span class="pun">(</span><span class="lit">0</span><span class="pun">,</span><span class="pln"> font_7x13</span><span class="pun">);</span><span class="pln"><br></span><span class="pun">}</span><span class="pln"><br></span><span class="kwd">void</span><span class="pln"> loop</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; dogm</span><span class="pun">.</span><span class="pln">start</span><span class="pun">();</span><span class="pln"><br>&nbsp; </span><span class="kwd">do</span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; m2</span><span class="pun">.</span><span class="pln">draw</span><span class="pun">();</span><span class="pln"><br>&nbsp; </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">while</span><span class="pun">(</span><span class="pln"> dogm</span><span class="pun">.</span><span class="kwd">next</span><span class="pun">()</span><span class="pln"> </span><span class="pun">);</span><span class="pln"><br></span><span class="pun">}</span></pre></blockquote><li>See also: <a href="https://code.google.com/p/m2tklib/wiki/fnref#M2tk">M2tk</a> </li></ul><h2><a name="getKey"></a>getKey<a href="https://code.google.com/p/m2tklib/wiki/fnref#getKey" class="section_anchor"></a></h2><ul><li>C++ Prototype </li><pre class="prettyprint"><span class="pln">uint8_t M2tk</span><span class="pun">::</span><span class="pln">getKey</span><span class="pun">(</span><span class="kwd">void</span><span class="pun">)</span></pre><li>C Prototype </li><pre class="prettyprint"><span class="pln">uint8_t m2_GetKey</span><span class="pun">(</span><span class="kwd">void</span><span class="pun">)</span></pre><li>Description </li></ul><blockquote>Returns an event (for example key press events). This procedure returns 	 immediately. <tt>M2_KEY_NONE</tt> is returned, if there are no events. 
</blockquote><ul><li>Return: <tt>M2_KEY_NONE</tt> if there are no events. Other values are <tt>M2_KEY_SELECT</tt>, <tt>M2_KEY_SELECT2</tt> (v1.11), <tt>M2_KEY_EXIT, </tt>M2_KEY_NEXT<tt>, </tt>M2_KEY_PREV<tt>, </tt>M2_KEY_DATA_UP<tt>, </tt>M2_KEY_DATA_DOWN<tt>, </tt>M2_KEY_REFRESH`. </li><li>Note: This procedure should not be called if there is a visible menu. Calling this procedure will remove the key from the event queue. The event will have no effect on the menu any more. There is only one <a href="https://code.google.com/p/m2tklib/wiki/t06glcd">application</a>, where this procedure might be usefull. Usually keys are handled by <tt>handleKey()</tt>. </li><li>See also: <a href="https://code.google.com/p/m2tklib/wiki/fnref#handleKey">handleKey</a> </li></ul><p>     </p><h2><a name="getRoot"></a>getRoot<a href="https://code.google.com/p/m2tklib/wiki/fnref#getRoot" class="section_anchor"></a></h2><ul><li>C++ Prototype </li><pre class="prettyprint"><span class="pln">m2_rom_void_p M2tk</span><span class="pun">::</span><span class="pln">getRoot</span><span class="pun">(</span><span class="kwd">void</span><span class="pun">)</span></pre><li>C Prototype </li><pre class="prettyprint"><span class="pln">m2_rom_void_p m2_GetRoot</span><span class="pun">(</span><span class="kwd">void</span><span class="pun">)</span></pre><li>Description </li><blockquote>Return the current root element. This will return the element which was passed to the <a href="https://code.google.com/p/m2tklib/wiki/fnref#M2tk">constructor</a> or to <a href="https://code.google.com/p/m2tklib/wiki/fnref#M2tk">m2_Init()</a>. The root element might be changed by the <a href="https://code.google.com/p/m2tklib/wiki/elref#ROOT">ROOT button</a> or by <a href="https://code.google.com/p/m2tklib/wiki/fnref#setRoot">setRoot()</a> 
</blockquote><li>Arguments </li><li>Return: The current root element </li><li>See also: <a href="https://code.google.com/p/m2tklib/wiki/fnref#M2tk">M2tk</a>, <a href="https://code.google.com/p/m2tklib/wiki/fnref#handleKey">handleKey</a>, <a href="https://code.google.com/p/m2tklib/wiki/fnref#setRoot">setRoot</a> </li></ul><h2><a name="Init"></a>Init<a href="https://code.google.com/p/m2tklib/wiki/fnref#Init" class="section_anchor"></a></h2><ul><li>See <a href="https://code.google.com/p/m2tklib/wiki/fnref#M2tk">M2tk</a> </li></ul><h2><a name="handleKey"></a>handleKey<a href="https://code.google.com/p/m2tklib/wiki/fnref#handleKey" class="section_anchor"></a></h2><ul><li>C++ Prototype </li><pre class="prettyprint"><span class="pln">uint8_t M2tk</span><span class="pun">::</span><span class="pln">handleKey</span><span class="pun">(</span><span class="kwd">void</span><span class="pun">)</span></pre><li>C Prototype </li><pre class="prettyprint"><span class="pln">uint8_t m2_HandleKey</span><span class="pun">(</span><span class="kwd">void</span><span class="pun">)</span></pre><li>Description </li><blockquote>A pending event from the hardware is mapped on some action on the current menu element. The menu should be redrawn if this procedure returns a none-zero value. Events are not handled if the current root element is equal to <tt>&amp;m2_null_element</tt>. In this case, use <tt>getKey()</tt> to get the events manually. 
</blockquote><li>Example: </li><blockquote>A typical "loop" within the Arduino environment. The <tt>m2_CheckKey()</tt> procedure is called much more often than the <tt>m2_HandleKey()</tt>. This example uses the C version of the M2TKLIB procedures.  
<pre class="prettyprint"><span class="kwd">void</span><span class="pln"> loop</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; m2_CheckKey</span><span class="pun">();</span><span class="pln"><br>&nbsp; </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln"> m2_HandleKey</span><span class="pun">()</span><span class="pln"> </span><span class="pun">!=</span><span class="pln"> </span><span class="lit">0</span><span class="pln"> </span><span class="pun">)</span><span class="pln"><br>&nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; dogm</span><span class="pun">.</span><span class="pln">start</span><span class="pun">();</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="kwd">do</span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; m2_CheckKey</span><span class="pun">();</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; m2_Draw</span><span class="pun">();</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">while</span><span class="pun">(</span><span class="pln"> dogm</span><span class="pun">.</span><span class="kwd">next</span><span class="pun">()</span><span class="pln"> </span><span class="pun">);</span><span class="pln"><br>&nbsp; </span><span class="pun">}</span><span class="pln"><br></span><span class="pun">}</span></pre></blockquote><li>See also: <a href="https://code.google.com/p/m2tklib/wiki/fnref#M2tk">M2tk</a>, <a href="https://code.google.com/p/m2tklib/wiki/fnref#draw">draw</a>, <a href="https://code.google.com/p/m2tklib/wiki/fnref#getKey">getKey</a> </li></ul><h2><a name="M2tk"></a>M2tk<a href="https://code.google.com/p/m2tklib/wiki/fnref#M2tk" class="section_anchor"></a></h2><ul><li>C++ Prototype </li><pre class="prettyprint"><span class="pln">M2tk</span><span class="pun">::</span><span class="pln">M2tk</span><span class="pun">(</span><span class="pln">m2_rom_void_p element</span><span class="pun">,</span><span class="pln"> m2_es_fnptr es</span><span class="pun">,</span><span class="pln"> m2_eh_fnptr eh</span><span class="pun">,</span><span class="pln"> m2_gfx_fnptr gh</span><span class="pun">)</span></pre><li>C Prototype </li><pre class="prettyprint"><span class="kwd">void</span><span class="pln"> m2_Init</span><span class="pun">(</span><span class="pln">m2_rom_void_p element</span><span class="pun">,</span><span class="pln"> m2_es_fnptr es</span><span class="pun">,</span><span class="pln"> m2_eh_fnptr eh</span><span class="pun">,</span><span class="pln"> m2_gfx_fnptr gh</span><span class="pun">);</span></pre><li>Description </li><blockquote>Constructor for the M2tk class. 
</blockquote><li>Arguments </li><ul><li><tt>element</tt>: Root element of the menu. </li><li><tt>es</tt>: Event source, which connects the menu to hardware buttons. </li><li><tt>eh</tt>: Event handler, which maps hardware events to some specific actions on the manu.  </li><li><tt>gh</tt>: Graphics handler, which writes the menu to an output device. </li></ul><li>See also:  </li><li>Notes </li></ul><p>Event source  </p><table class="wikitable"><tbody><tr><td style="border: 1px solid #ccc; padding: 5px;"> m2_es_sdl     </td><td style="border: 1px solid #ccc; padding: 5px;"> Event source for the SDL library. </td><td style="border: 1px solid #ccc; padding: 5px;"> </td></tr> <tr><td style="border: 1px solid #ccc; padding: 5px;"> m2_es_arduino </td><td style="border: 1px solid #ccc; padding: 5px;"> Event source for Arduino environment. One button per pin. </td><td style="border: 1px solid #ccc; padding: 5px;"> </td></tr> <tr><td style="border: 1px solid #ccc; padding: 5px;"> m2_es_arduino_rotary_encoder </td><td style="border: 1px solid #ccc; padding: 5px;"> <tt>m2_es_arduino</tt> with additional support for incremental rotary encoder (<a href="https://code.google.com/p/m2tklib/wiki/t09">Tutorial 9</a>) </td><td style="border: 1px solid #ccc; padding: 5px;"> v1.09 </td></tr> <tr><td style="border: 1px solid #ccc; padding: 5px;"> m2_es_arduino_serial </td><td style="border: 1px solid #ccc; padding: 5px;"> Reads input from Arduino Serial Monitor (<a href="https://code.google.com/p/m2tklib/wiki/t07">Tutorial 7</a>) </td><td style="border: 1px solid #ccc; padding: 5px;"> </td></tr> <tr><td style="border: 1px solid #ccc; padding: 5px;"> m2_es_avr_u8g </td><td style="border: 1px solid #ccc; padding: 5px;"> Event source for AVR environment. One button per pin. </td><td style="border: 1px solid #ccc; padding: 5px;"> </td></tr> <tr><td style="border: 1px solid #ccc; padding: 5px;"> m2_es_avr_rotary_encoder_u8g </td><td style="border: 1px solid #ccc; padding: 5px;"> Event source <tt>m2_es_avr_u8g</tt> with support for incremental rotary encoder. </td><td style="border: 1px solid #ccc; padding: 5px;"> v1.09 </td></tr> </tbody></table><p></p><p>The event source reads input from external pins to generate key events. The external pin number is assigned with <a href="https://code.google.com/p/m2tklib/wiki/fnref#setPin">setPin()</a>. External pin number can be assigned to: </p><ul><li><tt>M2_KEY_SELECT</tt>: Event sources m2_es_arduino, m2_es_arduino_rotary_encoder and m2_es_avr_u8g will generate a <tt>M2_KEY_SELECT</tt> if the corresponding pin is low. </li><li><tt>M2_KEY_SELECT2</tt>: Identical to <tt>M2_KEY_SELECT</tt> (v1.11) </li><li><tt>M2_KEY_EXIT</tt>: Event sources m2_es_arduino, m2_es_arduino_rotary_encoder and m2_es_avr_u8g will generate a <tt>M2_KEY_EXIT</tt> if the corresponding pin is low. </li><li><tt>M2_KEY_NEXT</tt>: Event sources m2_es_arduino, m2_es_arduino_rotary_encoder and m2_es_avr_u8g will generate a <tt>M2_KEY_NEXT</tt> if the corresponding pin is low. </li><li><tt>M2_KEY_PREV</tt>: Event sources m2_es_arduino, m2_es_arduino_rotary_encoder and m2_es_avr_u8g will generate a <tt>M2_KEY_PREV</tt> if the corresponding pin is low. </li><li><tt>M2_KEY_DATA_UP</tt>: Event sources m2_es_arduino, m2_es_arduino_rotary_encoder and m2_es_avr_u8g will generate a <tt>M2_KEY_DATA_UP</tt> if the corresponding pin is low. </li><li><tt>M2_KEY_DATA_DOWN</tt>: Event sources m2_es_arduino, m2_es_arduino_rotary_encoder and m2_es_avr_u8g will generate a <tt>M2_KEY_DATA_DOWN</tt> if the corresponding pin is low. </li><li><tt>M2_KEY_HOME</tt>: Event sources m2_es_arduino, m2_es_arduino_rotary_encoder and m2_es_avr_u8g will generate a <tt>M2_KEY_HOME</tt> if the corresponding pin is low. </li><li><tt>M2_KEY_HOME2</tt>: Same as <tt>M2_KEY_HOME</tt>, introduced in "v1.11" </li><li><tt>M2_KEY_ROT_ENC_A</tt>, <tt>M2_KEY_ROT_ENC_B</tt>: Attach rotary encoder to these two pins. Event source m2_es_arduino_rotary_encoder will generate a <tt>M2_KEY_NEXT</tt> or <tt>M2_KEY_PREV</tt>. </li><li><tt>M2_KEY_Q1</tt> ... <tt>M2_KEY_Q4</tt> (v1.11): Quick keys (format option "q1" ... "q4") </li></ul><p></p><p>Event handler </p><table class="wikitable"><tbody><tr><td style="border: 1px solid #ccc; padding: 5px;"> Event Handler </td><td style="border: 1px solid #ccc; padding: 5px;"> Description </td><td style="border: 1px solid #ccc; padding: 5px;"> Supported Events </td></tr> <tr><td style="border: 1px solid #ccc; padding: 5px;"> m2_eh_2bs     </td><td style="border: 1px solid #ccc; padding: 5px;"> Two button handler </td><td style="border: 1px solid #ccc; padding: 5px;"> <tt>M2_KEY_SELECT</tt>, <tt>M2_KEY_NEXT</tt>, <tt>M2_KEY_HOME</tt>, <tt>M2_KEY_HOME2</tt> </td></tr> <tr><td style="border: 1px solid #ccc; padding: 5px;"> m2_eh_4bs     </td><td style="border: 1px solid #ccc; padding: 5px;"> Four button handler </td><td style="border: 1px solid #ccc; padding: 5px;"> <tt>M2_KEY_SELECT</tt>, <tt>M2_KEY_NEXT</tt>, <tt>M2_KEY_PREV</tt>, <tt>M2_KEY_EXIT</tt>, <tt>M2_KEY_HOME</tt>, <tt>M2_KEY_HOME2</tt> </td></tr> <tr><td style="border: 1px solid #ccc; padding: 5px;"> m2_eh_4bd     </td><td style="border: 1px solid #ccc; padding: 5px;"> Four button handler (explicit data entry) </td><td style="border: 1px solid #ccc; padding: 5px;"> <tt>M2_KEY_SELECT</tt>, <tt>M2_KEY_NEXT</tt>, <tt>M2_KEY_PREV</tt>, <tt>M2_KEY_EXIT</tt>, <tt>M2_KEY_HOME</tt>, <tt>M2_KEY_HOME2</tt> </td></tr> <tr><td style="border: 1px solid #ccc; padding: 5px;"> m2_eh_6bs     </td><td style="border: 1px solid #ccc; padding: 5px;"> Six button handler </td><td style="border: 1px solid #ccc; padding: 5px;"> <tt>M2_KEY_SELECT</tt>, <tt>M2_KEY_NEXT</tt>, <tt>M2_KEY_PREV</tt>, <tt>M2_KEY_EXIT</tt>, <tt>M2_KEY_DATA_UP</tt>, <tt>M2_KEY_DATA_DOWN</tt>, <tt>M2_KEY_HOME</tt>, <tt>M2_KEY_HOME2</tt>, <tt>M2_KEY_Q1</tt> ... <tt>M2_KEY_Q4</tt> </td></tr> </tbody></table><p></p><p>The <tt>M2_KEY_HOME</tt> event is available with version 1.09. The <tt>M2_KEY_HOME</tt> will activate the home menu, which can be set with <a href="https://code.google.com/p/m2tklib/wiki/fnref#setHome">setHome()</a>. The <tt>M2_KEY_HOME2</tt> event is available with version 1.11.  </p><p>Quick keys <tt>M2_KEY_Q1</tt> ... <tt>M2_KEY_Q4</tt> are available with version 1.11. </p><p>The <tt>M2_KEY_SELECT2</tt> key event is supported by all handlers. <tt>M2_KEY_SELECT2</tt> is mapped to <tt>M2_KEY_SELECT</tt> (<tt>M2_KEY_SELECT2</tt> is available with v1.11). </p><p>Graphics handler </p><table class="wikitable"><tbody><tr><td style="border: 1px solid #ccc; padding: 5px;"> Handler        </td><td style="border: 1px solid #ccc; padding: 5px;"> Library  </td><td style="border: 1px solid #ccc; padding: 5px;"> Include </td><td style="border: 1px solid #ccc; padding: 5px;"> Focus </td><td style="border: 1px solid #ccc; padding: 5px;"> Highlight    </td><td style="border: 1px solid #ccc; padding: 5px;"> Font </td><td style="border: 1px solid #ccc; padding: 5px;">  Description </td></tr> <tr><td style="border: 1px solid #ccc; padding: 5px;"> m2_gh_dogm_bf  </td><td style="border: 1px solid #ccc; padding: 5px;"> <a href="http://code.google.com/p/dogm128/" rel="nofollow">Dogm-Lib</a> </td><td style="border: 1px solid #ccc; padding: 5px;"> <tt>m2ghdogm.h</tt> </td><td style="border: 1px solid #ccc; padding: 5px;"> Box   </td><td style="border: 1px solid #ccc; padding: 5px;"> Frame        </td><td style="border: 1px solid #ccc; padding: 5px;"> setFont </td><td style="border: 1px solid #ccc; padding: 5px;"> B/W Handler </td></tr> <tr><td style="border: 1px solid #ccc; padding: 5px;"> m2_gh_dogm_bfs </td><td style="border: 1px solid #ccc; padding: 5px;"> <a href="http://code.google.com/p/dogm128/" rel="nofollow">Dogm-Lib</a> </td><td style="border: 1px solid #ccc; padding: 5px;"> <tt>m2ghdogm.h</tt> </td><td style="border: 1px solid #ccc; padding: 5px;"> Box   </td><td style="border: 1px solid #ccc; padding: 5px;"> Shadow Frame </td><td style="border: 1px solid #ccc; padding: 5px;"> setFont </td><td style="border: 1px solid #ccc; padding: 5px;"> B/W Handler </td></tr> <tr><td style="border: 1px solid #ccc; padding: 5px;"> m2_gh_dogm_fb  </td><td style="border: 1px solid #ccc; padding: 5px;"> <a href="http://code.google.com/p/dogm128/" rel="nofollow">Dogm-Lib</a> </td><td style="border: 1px solid #ccc; padding: 5px;"> <tt>m2ghdogm.h</tt> </td><td style="border: 1px solid #ccc; padding: 5px;"> Frame </td><td style="border: 1px solid #ccc; padding: 5px;"> Box          </td><td style="border: 1px solid #ccc; padding: 5px;"> setFont </td><td style="border: 1px solid #ccc; padding: 5px;"> B/W Handler  </td></tr> <tr><td style="border: 1px solid #ccc; padding: 5px;"> m2_gh_dogm_fbs </td><td style="border: 1px solid #ccc; padding: 5px;"> <a href="http://code.google.com/p/dogm128/" rel="nofollow">Dogm-Lib</a> </td><td style="border: 1px solid #ccc; padding: 5px;"> <tt>m2ghdogm.h</tt> </td><td style="border: 1px solid #ccc; padding: 5px;"> Shadow Frame </td><td style="border: 1px solid #ccc; padding: 5px;"> Box   </td><td style="border: 1px solid #ccc; padding: 5px;"> setFont </td><td style="border: 1px solid #ccc; padding: 5px;"> B/W Handler  </td></tr> <tr><td style="border: 1px solid #ccc; padding: 5px;"> m2_gh_dogm_ffs </td><td style="border: 1px solid #ccc; padding: 5px;"> <a href="http://code.google.com/p/dogm128/" rel="nofollow">Dogm-Lib</a> </td><td style="border: 1px solid #ccc; padding: 5px;"> <tt>m2ghdogm.h</tt> </td><td style="border: 1px solid #ccc; padding: 5px;"> Shadow Frame </td><td style="border: 1px solid #ccc; padding: 5px;"> Shadow Frame   </td><td style="border: 1px solid #ccc; padding: 5px;"> setFont </td><td style="border: 1px solid #ccc; padding: 5px;"> B/W Handler  </td></tr> <tr><td style="border: 1px solid #ccc; padding: 5px;"> m2_gh_dogxl160 </td><td style="border: 1px solid #ccc; padding: 5px;"> <a href="http://code.google.com/p/dogm128/" rel="nofollow">Dogm-Lib</a> </td><td style="border: 1px solid #ccc; padding: 5px;"> <tt>m2ghdogm.h</tt> </td><td style="border: 1px solid #ccc; padding: 5px;">       </td><td style="border: 1px solid #ccc; padding: 5px;">              </td><td style="border: 1px solid #ccc; padding: 5px;"> setFont </td><td style="border: 1px solid #ccc; padding: 5px;"> Handler for DOGXL160 GR mode </td></tr> <tr><td style="border: 1px solid #ccc; padding: 5px;"> m2_gh_glcd_bf  </td><td style="border: 1px solid #ccc; padding: 5px;"> <a href="http://code.google.com/p/glcd-arduino/" rel="nofollow">GLCD</a> </td><td style="border: 1px solid #ccc; padding: 5px;"> <tt>m2ghglcd.h</tt> </td><td style="border: 1px solid #ccc; padding: 5px;"> Box   </td><td style="border: 1px solid #ccc; padding: 5px;"> Frame        </td><td style="border: 1px solid #ccc; padding: 5px;"> fixed </td><td style="border: 1px solid #ccc; padding: 5px;"> B/W Handler </td></tr> <tr><td style="border: 1px solid #ccc; padding: 5px;"> m2_gh_glcd_ffs </td><td style="border: 1px solid #ccc; padding: 5px;"> <a href="http://code.google.com/p/glcd-arduino/" rel="nofollow">GLCD</a> </td><td style="border: 1px solid #ccc; padding: 5px;"> <tt>m2ghglcd.h</tt> </td><td style="border: 1px solid #ccc; padding: 5px;"> Shadow Frame </td><td style="border: 1px solid #ccc; padding: 5px;"> Shadow Frame   </td><td style="border: 1px solid #ccc; padding: 5px;"> fixed </td><td style="border: 1px solid #ccc; padding: 5px;"> B/W Handler  </td></tr> <tr><td style="border: 1px solid #ccc; padding: 5px;"> m2_gh_glcd_ubf  </td><td style="border: 1px solid #ccc; padding: 5px;"> <a href="http://code.google.com/p/glcd-arduino/" rel="nofollow">GLCD</a> </td><td style="border: 1px solid #ccc; padding: 5px;"> <tt>m2ghglcd.h</tt> </td><td style="border: 1px solid #ccc; padding: 5px;"> Box   </td><td style="border: 1px solid #ccc; padding: 5px;"> Frame        </td><td style="border: 1px solid #ccc; padding: 5px;"> setFont </td><td style="border: 1px solid #ccc; padding: 5px;"> B/W Handler </td></tr> <tr><td style="border: 1px solid #ccc; padding: 5px;"> m2_gh_glcd_uffs </td><td style="border: 1px solid #ccc; padding: 5px;"> <a href="http://code.google.com/p/glcd-arduino/" rel="nofollow">GLCD</a> </td><td style="border: 1px solid #ccc; padding: 5px;"> <tt>m2ghglcd.h</tt> </td><td style="border: 1px solid #ccc; padding: 5px;"> Shadow Frame </td><td style="border: 1px solid #ccc; padding: 5px;"> Shadow Frame   </td><td style="border: 1px solid #ccc; padding: 5px;"> setFont </td><td style="border: 1px solid #ccc; padding: 5px;"> B/W Handler  </td></tr> <tr><td style="border: 1px solid #ccc; padding: 5px;"> m2_gh_lc  </td><td style="border: 1px solid #ccc; padding: 5px;"> <a href="http://arduino.cc/en/Reference/LiquidCrystal" rel="nofollow">Liquid Crystal</a> </td><td style="border: 1px solid #ccc; padding: 5px;"> <tt>m2ghlc.h</tt> </td><td style="border: 1px solid #ccc; padding: 5px;"> <tt>[ ]</tt> </td><td style="border: 1px solid #ccc; padding: 5px;"> </td><td style="border: 1px solid #ccc; padding: 5px;"> fixed </td><td style="border: 1px solid #ccc; padding: 5px;"> Character LCD Handler </td></tr> <tr><td style="border: 1px solid #ccc; padding: 5px;"> m2_gh_u8g_bf  </td><td style="border: 1px solid #ccc; padding: 5px;"> <a href="http://code.google.com/p/u8glib/" rel="nofollow">U8glib</a> </td><td style="border: 1px solid #ccc; padding: 5px;"> <tt>m2ghu8g.h</tt> </td><td style="border: 1px solid #ccc; padding: 5px;"> Box   </td><td style="border: 1px solid #ccc; padding: 5px;"> Frame        </td><td style="border: 1px solid #ccc; padding: 5px;"> setFont </td><td style="border: 1px solid #ccc; padding: 5px;"> B/W Handler </td></tr> <tr><td style="border: 1px solid #ccc; padding: 5px;"> m2_gh_u8g_bfs </td><td style="border: 1px solid #ccc; padding: 5px;"> <a href="http://code.google.com/p/u8glib/" rel="nofollow">U8glib</a> </td><td style="border: 1px solid #ccc; padding: 5px;"> <tt>m2ghu8g.h</tt> </td><td style="border: 1px solid #ccc; padding: 5px;"> Box   </td><td style="border: 1px solid #ccc; padding: 5px;"> Shadow Frame </td><td style="border: 1px solid #ccc; padding: 5px;"> setFont </td><td style="border: 1px solid #ccc; padding: 5px;"> B/W Handler </td></tr> <tr><td style="border: 1px solid #ccc; padding: 5px;"> m2_gh_u8g_fb  </td><td style="border: 1px solid #ccc; padding: 5px;"> <a href="http://code.google.com/p/u8glib/" rel="nofollow">U8glib</a> </td><td style="border: 1px solid #ccc; padding: 5px;"> <tt>m2ghu8g.h</tt> </td><td style="border: 1px solid #ccc; padding: 5px;"> Frame </td><td style="border: 1px solid #ccc; padding: 5px;"> Box          </td><td style="border: 1px solid #ccc; padding: 5px;"> setFont </td><td style="border: 1px solid #ccc; padding: 5px;"> B/W Handler  </td></tr> <tr><td style="border: 1px solid #ccc; padding: 5px;"> m2_gh_u8g_ffs </td><td style="border: 1px solid #ccc; padding: 5px;"> <a href="http://code.google.com/p/u8glib/" rel="nofollow">U8glib</a> </td><td style="border: 1px solid #ccc; padding: 5px;"> <tt>m2ghu8g.h</tt> </td><td style="border: 1px solid #ccc; padding: 5px;"> Shadow Frame </td><td style="border: 1px solid #ccc; padding: 5px;"> Shadow Frame   </td><td style="border: 1px solid #ccc; padding: 5px;"> setFont </td><td style="border: 1px solid #ccc; padding: 5px;"> B/W Handler  </td></tr> <tr><td style="border: 1px solid #ccc; padding: 5px;"> m2_gh_u8g_cffs </td><td style="border: 1px solid #ccc; padding: 5px;"> <a href="http://code.google.com/p/u8glib/" rel="nofollow">U8glib</a> </td><td style="border: 1px solid #ccc; padding: 5px;"> <tt>m2ghu8g.h</tt> </td><td style="border: 1px solid #ccc; padding: 5px;"> Shadow Frame </td><td style="border: 1px solid #ccc; padding: 5px;"> Shadow Frame   </td><td style="border: 1px solid #ccc; padding: 5px;"> setFont </td><td style="border: 1px solid #ccc; padding: 5px;"> 332 Color Handler  </td></tr> <tr><td style="border: 1px solid #ccc; padding: 5px;"> m2_gh_arduino_serial  </td><td style="border: 1px solid #ccc; padding: 5px;"> Arduino Serial Monitor </td><td style="border: 1px solid #ccc; padding: 5px;"> <tt>m2.h</tt> </td><td style="border: 1px solid #ccc; padding: 5px;"> <tt>[ ]</tt> </td><td style="border: 1px solid #ccc; padding: 5px;"> </td><td style="border: 1px solid #ccc; padding: 5px;"> fixed </td><td style="border: 1px solid #ccc; padding: 5px;"> Simulation of 4x20 Character LCD </td></tr> </tbody></table><p></p><p>Graphic handlers are described in more detail on the <a href="https://code.google.com/p/m2tklib/wiki/ghref">Graphics Handler Wiki Page</a> and <a href="https://code.google.com/p/m2tklib/wiki/u8gref">U8glib Graphics Handler Wiki</a>. </p><h2><a name="setFont"></a>setFont<a href="https://code.google.com/p/m2tklib/wiki/fnref#setFont" class="section_anchor"></a></h2><ul><li>C++ Prototype </li><pre class="prettyprint"><span class="kwd">void</span><span class="pln"> M2tk</span><span class="pun">::</span><span class="pln">setFont</span><span class="pun">(</span><span class="pln">uint8_t font_idx</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">const</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> </span><span class="pun">*</span><span class="pln">font_ptr</span><span class="pun">)</span></pre><li>C Prototype </li><pre class="prettyprint"><span class="kwd">void</span><span class="pln"> m2_SetFont</span><span class="pun">(</span><span class="pln">uint8_t font_idx</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">const</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> </span><span class="pun">*</span><span class="pln">font_ptr</span><span class="pun">)</span></pre><li>Description </li><blockquote>Apply a font to the menu system. The <tt>font_ptr</tt> is passed to the graphics handler without modification. It depends on the graphcis handler how this pointer is interpreted. The graphics handler for the <a href="http://code.google.com/p/dogm128/" rel="nofollow">dogm128 library</a> accept fonts from the dogm128 library (<a href="http://code.google.com/p/dogm128/wiki/cpp#setFont" rel="nofollow">setFont</a>). Up to four different fonts can be specified (<tt>font_idx</tt> 0 to 3). A default font at <tt>font_idx</tt> 0 should be applied. The font index is later used as argument for the font <a href="http://code.google.com/p/m2tklib/wiki/elref#Fonts" rel="nofollow">option</a>.  
</blockquote><li>Arguments </li><ul><li><tt>font_idx</tt>: A number between 0 and 3. </li><li><tt>font_ptr</tt>: Pointer, which is passed to the graphics handler. </li></ul><li>Example dogm128 </li><pre class="prettyprint"><span class="pln">M2tk m2</span><span class="pun">(&amp;</span><span class="pln">hello_world_label</span><span class="pun">,</span><span class="pln"> NULL</span><span class="pun">,</span><span class="pln"> NULL</span><span class="pun">,</span><span class="pln"> m2_gh_dogm_fbs</span><span class="pun">);</span><span class="pln"><br><br></span><span class="kwd">void</span><span class="pln"> setup</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; m2</span><span class="pun">.</span><span class="pln">setFont</span><span class="pun">(</span><span class="lit">0</span><span class="pun">,</span><span class="pln"> font_7x13</span><span class="pun">);</span><span class="pln"><br></span><span class="pun">}</span></pre><li>Example GLCD </li></ul><blockquote>Note: Use <tt>m2_Arial14</tt> and <tt>m2_System5x7</tt> for the system fonts. 
<pre class="prettyprint"><span class="pln">M2tk m2</span><span class="pun">(&amp;</span><span class="pln">top_el_hlist</span><span class="pun">,</span><span class="pln"> m2_es_arduino</span><span class="pun">,</span><span class="pln"> m2_eh_2bs</span><span class="pun">,</span><span class="pln"> m2_gh_glcd_uffs</span><span class="pun">);</span><span class="pln"><br><br></span><span class="kwd">void</span><span class="pln"> setup</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; m2</span><span class="pun">.</span><span class="pln">setFont</span><span class="pun">(</span><span class="lit">0</span><span class="pun">,</span><span class="pln"> m2_Arial14</span><span class="pun">);</span><span class="pln"><br>&nbsp; </span><span class="com">// ...</span><span class="pln"><br></span><span class="pun">}</span></pre></blockquote><ul><li>See also: <a href="https://code.google.com/p/m2tklib/wiki/fnref#M2tk">M2tk</a> <a href="http://code.google.com/p/m2tklib/wiki/elref#Fonts" rel="nofollow">Font Option 'f'</a> </li></ul><h2><a name="setHome"></a>setHome<a href="https://code.google.com/p/m2tklib/wiki/fnref#setHome" class="section_anchor"></a></h2><h2><a name="setHome2"></a>setHome2<a href="https://code.google.com/p/m2tklib/wiki/fnref#setHome2" class="section_anchor"></a></h2><ul><li>C++ Prototype </li><pre class="prettyprint"><span class="kwd">void</span><span class="pln"> M2tk</span><span class="pun">::</span><span class="pln">setHome</span><span class="pun">(</span><span class="pln">m2_rom_void_p element</span><span class="pun">)</span><span class="pln"><br></span><span class="kwd">void</span><span class="pln"> M2tk</span><span class="pun">::</span><span class="pln">setHome2</span><span class="pun">(</span><span class="pln">m2_rom_void_p element</span><span class="pun">)</span></pre><li>C Prototype </li><pre class="prettyprint"><span class="kwd">void</span><span class="pln"> m2_SetHome</span><span class="pun">(</span><span class="pln">m2_rom_void_p element</span><span class="pun">)</span><span class="pln"><br></span><span class="kwd">void</span><span class="pln"> m2_SetHome2</span><span class="pun">(</span><span class="pln">m2_rom_void_p element</span><span class="pun">)</span></pre><li>Description </li><blockquote>Define the menu which gets activated by the <tt>M2_KEY_HOME</tt> event. 
</blockquote><li>Arguments </li><ul><li><tt>element</tt>: Root element of a menu structure. </li></ul><li>Note: <tt>setHome</tt> procedure is available with v1.09. <tt>setHome2</tt> procedure is available with v1.11. </li><li>See also: <a href="https://code.google.com/p/m2tklib/wiki/fnref#M2tk">M2tk</a> </li></ul><h2><a name="setKey"></a>setKey<a href="https://code.google.com/p/m2tklib/wiki/fnref#setKey" class="section_anchor"></a></h2><ul><li>C++ Prototype </li><pre class="prettyprint"><span class="kwd">void</span><span class="pln"> M2tk</span><span class="pun">::</span><span class="pln">setKey</span><span class="pun">(</span><span class="pln">uint8_t key</span><span class="pun">)</span></pre><li>C Prototype </li><pre class="prettyprint"><span class="kwd">void</span><span class="pln"> m2_SetKey</span><span class="pun">(</span><span class="pln">uint8_t key</span><span class="pun">)</span></pre><li>Description </li><blockquote>Put a key event into the queue. It is safe to call this procedure inside an interrupt procedure (ISR). 
</blockquote><li>Arguments </li><ul><li><tt>key</tt>: A key event (<tt>M2_KEY_NEXT</tt>, <tt>M2_KEY_PREV</tt>, ...). </li></ul><li>See also: <a href="https://code.google.com/p/m2tklib/wiki/fnref#M2tk">M2tk</a> </li></ul><h2><a name="SetLiquidCrystal"></a><tt>SetLiquidCrystal</tt><a href="https://code.google.com/p/m2tklib/wiki/fnref#SetLiquidCrystal" class="section_anchor"></a></h2><ul><li>Include </li><pre class="prettyprint"><span class="com">#include</span><span class="pln"> </span><span class="str">"M2tk.h"</span><span class="pln"><br></span><span class="com">#include</span><span class="pln"> </span><span class="str">"m2ghlc.h"</span></pre><li>C++ Prototype </li><pre class="prettyprint"><span class="kwd">void</span><span class="pln"> m2_SetLiquidCrystal</span><span class="pun">(</span><span class="typ">LiquidCrystal</span><span class="pln"> </span><span class="pun">*</span><span class="pln">lc_ptr</span><span class="pun">,</span><span class="pln"> uint8_t cols</span><span class="pun">,</span><span class="pln"> uint8_t rows</span><span class="pun">)</span></pre><li>Description </li><blockquote>Apply the address of the Liquid Crystal object to the graphics handler <a href="https://code.google.com/p/m2tklib/wiki/ghref#m2_gh_lc">m2_gh_lc</a>. A call to this procedure is only useful if  <a href="https://code.google.com/p/m2tklib/wiki/ghref#m2_gh_lc">m2_gh_lc</a> is passed as an argument to <a href="https://code.google.com/p/m2tklib/wiki/fnref#M2tk">M2tk</a>. 
</blockquote><li>Arguments </li><ul><li><tt>lc_ptr</tt>: Address of the lcd object. </li><li><tt>cols</tt>: Number of columns of the character display. </li><li><tt>rows</tt>: Number of rows of the character display. </li></ul><li>Example </li><pre class="prettyprint"><span class="typ">LiquidCrystal</span><span class="pln"> lcd</span><span class="pun">(</span><span class="lit">12</span><span class="pun">,</span><span class="pln"> </span><span class="lit">11</span><span class="pun">,</span><span class="pln"> </span><span class="lit">5</span><span class="pun">,</span><span class="pln"> </span><span class="lit">4</span><span class="pun">,</span><span class="pln"> </span><span class="lit">3</span><span class="pun">,</span><span class="pln"> </span><span class="lit">2</span><span class="pun">);</span><span class="pln"><br><br></span><span class="kwd">void</span><span class="pln"> setup</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; m2_SetLiquidCrystal</span><span class="pun">(&amp;</span><span class="pln">lcd</span><span class="pun">,</span><span class="pln"> </span><span class="lit">16</span><span class="pun">,</span><span class="pln"> </span><span class="lit">4</span><span class="pun">);</span><span class="pln"><br>&nbsp; m2</span><span class="pun">.</span><span class="pln">setPin</span><span class="pun">(</span><span class="pln">M2_KEY_SELECT</span><span class="pun">,</span><span class="pln"> uiKeySelectPin</span><span class="pun">);</span><span class="pln"><br>&nbsp; m2</span><span class="pun">.</span><span class="pln">setPin</span><span class="pun">(</span><span class="pln">M2_KEY_NEXT</span><span class="pun">,</span><span class="pln"> uiKeyNextPin</span><span class="pun">);</span><span class="pln"><br></span><span class="pun">}</span></pre><li>See also: <a href="https://code.google.com/p/m2tklib/wiki/fnref#M2tk">M2tk</a>, <a href="https://code.google.com/p/m2tklib/wiki/ghref#m2_gh_lc">m2_gh_lc</a> </li></ul><h2><a name="setPin"></a>setPin<a href="https://code.google.com/p/m2tklib/wiki/fnref#setPin" class="section_anchor"></a></h2><ul><li>C++ Prototype </li><pre class="prettyprint"><span class="kwd">void</span><span class="pln"> M2tk</span><span class="pun">::</span><span class="pln">setPin</span><span class="pun">(</span><span class="pln">uint8_t key</span><span class="pun">,</span><span class="pln"> uint8_t pin</span><span class="pun">)</span></pre><li>C Prototype </li><pre class="prettyprint"><span class="kwd">void</span><span class="pln"> m2_SetPin</span><span class="pun">(</span><span class="pln">uint8_t key</span><span class="pun">,</span><span class="pln"> uint8_t pin</span><span class="pun">);</span></pre><li>Description </li><blockquote>Connect an external pin of the hardware to an event. Events are <tt>M2_KEY_SELECT</tt>, <tt>M2_KEY_EXIT</tt>, <tt>M2_KEY_NEXT</tt>, <tt>M2_KEY_PREV</tt>, ... . The event source defines the interpretation of the argument <tt>pin</tt>. The event source for Arduino environment assumes same pin numbers as required for <a href="http://arduino.cc/en/Reference/DigitalRead" rel="nofollow">digitalRead()</a>. 
Pin values for <tt>M2_KEY_ROT_ENC_A</tt> and <tt>M2_KEY_ROT_ENC_B</tt> are used to connect the incremental rotary encoder. 
</blockquote><li>Arguments </li><ul><li><tt>key</tt>: Key event: <tt>M2_KEY_SELECT</tt>, <tt>M2_KEY_EXIT</tt>, <tt>M2_KEY_NEXT</tt>, <tt>M2_KEY_PREV</tt>, <tt>M2_KEY_DATA_UP</tt>, <tt>M2_KEY_DATA_DOWN</tt>, <tt>M2_KEY_HOME</tt>, <tt>M2_KEY_HOME2</tt>, <tt>M2_KEY_ROT_ENC_A</tt>, <tt>M2_KEY_ROT_ENC_B</tt>, v1.11: <tt>M2_KEY_Q1</tt> ... <tt>M2_KEY_Q4</tt> </li><li><tt>pin</tt>: Specific value for the event source to identify the hardware pin,  </li></ul><li>Example </li><ul><li>A typical setup sequence with C statements. </li><pre class="prettyprint"><span class="kwd">void</span><span class="pln"> setup</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> &nbsp;<br>&nbsp; m2_Init</span><span class="pun">(&amp;</span><span class="pln">top_el</span><span class="pun">,</span><span class="pln"> m2_es_arduino</span><span class="pun">,</span><span class="pln"> m2_eh_2bs</span><span class="pun">,</span><span class="pln"> m2_gh_dogm_fbs</span><span class="pun">);</span><span class="pln"> &nbsp; <br>&nbsp; m2_SetFont</span><span class="pun">(</span><span class="lit">0</span><span class="pun">,</span><span class="pln"> font_7x13</span><span class="pun">);</span><span class="pln"><br>&nbsp; m2_SetPin</span><span class="pun">(</span><span class="pln">M2_KEY_SELECT</span><span class="pun">,</span><span class="pln"> </span><span class="lit">2</span><span class="pun">);</span><span class="pln"><br>&nbsp; m2_SetPin</span><span class="pun">(</span><span class="pln">M2_KEY_NEXT</span><span class="pun">,</span><span class="pln"> </span><span class="lit">3</span><span class="pun">);</span><span class="pln"><br></span><span class="pun">}</span></pre><li>A complete example is <a href="https://code.google.com/p/m2tklib/wiki/elref#BUTTON">here</a>. </li></ul><li>Note: <tt>M2_KEY_HOME</tt> is available with v1.09. </li><li>See also: <a href="https://code.google.com/p/m2tklib/wiki/fnref#M2tk">M2tk</a> </li></ul><h2><a name="setRoot"></a>setRoot<a href="https://code.google.com/p/m2tklib/wiki/fnref#setRoot" class="section_anchor"></a></h2><ul><li>C++ Prototype </li><pre class="prettyprint"><span class="kwd">void</span><span class="pln"> M2tk</span><span class="pun">::</span><span class="pln">setRoot</span><span class="pun">(</span><span class="pln">m2_rom_void_p element</span><span class="pun">,</span><span class="pln"> uint8_t next_cnt </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> uint8_t change_value </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">)</span></pre><li>C Prototype </li><pre class="prettyprint"><span class="kwd">void</span><span class="pln"> m2_SetRoot</span><span class="pun">(</span><span class="pln">m2_rom_void_p element</span><span class="pun">)</span><span class="pln"><br></span><span class="kwd">void</span><span class="pln"> m2_SetRootExtended</span><span class="pun">(</span><span class="pln">m2_rom_void_p element</span><span class="pun">,</span><span class="pln"> uint8_t next_cnt</span><span class="pun">,</span><span class="pln"> uint8_t change_value</span><span class="pun">)</span></pre><li>Description </li><blockquote>Change and apply a new menu structure. The new root element is assigned within the next call to <a href="https://code.google.com/p/m2tklib/wiki/fnref#handleKey">handleKey()</a>. The focus cursor in the new menu structure will be placed at the first selectable or writable element if <tt>next_cnt</tt> is not provided or zero. For any other value of <tt>next_cnt</tt>, the focus cursor will be moved forward (<tt>next_cnt</tt> steps). 
</blockquote><li>Arguments </li><ul><li><tt>element</tt>: The new root element of the menu. </li><li><tt>next_cnt</tt>: Number of <tt>NEXT</tt> events, send to the new root element. </li><li><tt>change_value</tt>: This value will be passed to the "root change" callback </li></ul><li>Note: The <tt>next_cnt</tt> and <tt>change_value</tt> arguments are available with v1.09. </li><li>Example: See <a href="https://code.google.com/p/m2tklib/wiki/elref#ROOT">ROOT element</a> </li><li>See also: <a href="https://code.google.com/p/m2tklib/wiki/fnref#M2tk">M2tk</a>, <a href="https://code.google.com/p/m2tklib/wiki/fnref#handleKey">handleKey</a> </li></ul><h2><a name="setRootChangeCallback"></a>setRootChangeCallback<a href="https://code.google.com/p/m2tklib/wiki/fnref#setRootChangeCallback" class="section_anchor"></a></h2><ul><li>C++ Prototype </li><pre class="prettyprint"><span class="kwd">void</span><span class="pln"> M2tk</span><span class="pun">::</span><span class="pln">setRootChangeCallback</span><span class="pun">(</span><span class="pln">m2_root_change_fnptr cb</span><span class="pun">)</span></pre><li>C Prototype </li><pre class="prettyprint"><span class="kwd">void</span><span class="pln"> m2_SetRootChangeCallback</span><span class="pun">(</span><span class="pln">m2_root_change_fnptr cb</span><span class="pun">)</span></pre><li>Description </li><blockquote>Change and apply a new callback procedure. This procedure will be called if the root element is changed. The argument <tt>cb</tt> must be a procedure with the following arguments: 
<pre class="prettyprint"><span class="kwd">void</span><span class="pln"> root_change_cb</span><span class="pun">(</span><span class="pln">m2_rom_void_p new_root</span><span class="pun">,</span><span class="pln"> m2_rom_void_p old_root</span><span class="pun">,</span><span class="pln"> uint8_t change_value</span><span class="pun">);</span></pre></blockquote></ul><ul><li>Arguments </li><ul><li><tt>cb</tt>: A callback procdure. </li></ul><li>Note: This procedure is available with v1.09. </li></ul><h1><a name="Links"></a>Links<a href="https://code.google.com/p/m2tklib/wiki/fnref#Links" class="section_anchor"></a></h1><ul><li><a href="https://code.google.com/p/m2tklib/wiki/m2tklib">Wiki Start Page</a> </li><li><a href="http://code.google.com/p/m2tklib/" rel="nofollow">Project Home</a> </li></ul>
 </div>
 </div>
 </td></tr><tr>
</tr></tbody></table>
 </div>


 
 
 
 
 <br>
 <div class="artifactcomment">
 <span class="indicator">â–º</span> <a href="https://www.google.com/accounts/ServiceLogin?service=code&ltmpl=phosting&continue=https%3A%2F%2Fcode.google.com%2Fp%2Fm2tklib%2Fwiki%2Ffnref&followup=https%3A%2F%2Fcode.google.com%2Fp%2Fm2tklib%2Fwiki%2Ffnref">Sign in</a> to add a comment
 </div>
 
 
 
 
 <form name="delcom" action="https://code.google.com/p/m2tklib/w/delComment.do" method="POST">
 <input type="hidden" name="sequence_num" value="">
 <input type="hidden" name="create_time" value="">
 <input type="hidden" name="mode" value="">
 <input type="hidden" name="pagename" value="fnref">
 <input type="hidden" name="token" value="">
 </form>


 <script src="./fnref - m2tklib - Function Reference - Mini Interative Interface Toolkit Library - Google Project Hosting_files/prettify.js"></script>
 <script type="text/javascript">
 prettyPrint();
 </script>

<script type="text/javascript" src="./fnref - m2tklib - Function Reference - Mini Interative Interface Toolkit Library - Google Project Hosting_files/dit_scripts.js"></script>



  
 
 
 <script type="text/javascript" src="./fnref - m2tklib - Function Reference - Mini Interative Interface Toolkit Library - Google Project Hosting_files/ph_core.js"></script>
 
 <script type="text/javascript" src="./fnref - m2tklib - Function Reference - Mini Interative Interface Toolkit Library - Google Project Hosting_files/ph_dwiki.js"></script>
 
 
 
 
</div> 

<div id="footer" dir="ltr">
 <div class="text">
 <a href="https://code.google.com/projecthosting/terms.html">Terms</a> -
 <a href="http://www.google.com/privacy.html">Privacy</a> -
 <a href="https://code.google.com/p/support/">Project Hosting Help</a>
 </div>
</div>
 <div class="hostedBy" style="margin-top: -20px;">
 <span style="vertical-align: top;">Powered by <a href="http://code.google.com/projecthosting/">Google Project Hosting</a></span>
 </div>

 
 


 
 



<div class="menuDiv instance0" id="menuDiv-projects-dropdown" style="display: none;"><div class="menuCategory default"></div><div class="menuCategory controls"><a class="menuItem" href="http://www.google.com/accounts/ServiceLogin?service=code&ltmpl=phosting&continue=https%3A%2F%2Fcode.google.com%2Fp%2Fm2tklib%2Fwiki%2Ffnref&amp;followup=https%3A%2F%2Fcode.google.com%2Fp%2Fm2tklib%2Fwiki%2Ffnref" style="display: block;">Sign in to see your favorites</a><hr class="menuSeparator"><a class="menuItem" href="https://code.google.com/hosting/" style="display: block;">Find open source projects...</a><a class="menuItem" href="https://code.google.com/hosting/createProject" style="display: block;">Create a project...</a></div></div><script id="hiddenlpsubmitdiv" style="display: none;"></script><script>try{for(var lastpass_iter=0; lastpass_iter < document.forms.length; lastpass_iter++){ var lastpass_f = document.forms[lastpass_iter]; if(typeof(lastpass_f.lpsubmitorig2)=="undefined"){ lastpass_f.lpsubmitorig2 = lastpass_f.submit; lastpass_f.submit = function(){ var form=this; var customEvent = document.createEvent("Event"); customEvent.initEvent("lpCustomEvent", true, true); var d = document.getElementById("hiddenlpsubmitdiv"); if (d) {for(var i = 0; i < document.forms.length; i++){ if(document.forms[i]==form){ if (typeof(d.innerText) != 'undefined') { d.innerText=i; } else { d.textContent=i; } } } d.dispatchEvent(customEvent); }form.lpsubmitorig2(); } } }}catch(e){}</script></body></html>